/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/AdminController.js":
/*!************************************!*\
  !*** ./src/api/AdminController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Menus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/model/Menus */ \"./src/model/Menus.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Roles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/Roles */ \"./src/model/Roles.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n // import CommentsUsers from '../model/CommentsUsers'\n\nconst weekday = __webpack_require__(/*! dayjs/plugin/weekday */ \"dayjs/plugin/weekday\");\n\ndayjs__WEBPACK_IMPORTED_MODULE_6___default.a.extend(weekday);\n\nclass AdminController {\n  async getMenu(ctx) {\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n    ctx.body = {\n      code: 200,\n      data: Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"sortMenus\"])(result)\n    };\n  }\n\n  async addMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const menu = new _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const result = await menu.save();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async updateMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const data = { ...body\n    };\n    delete data._id;\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, { ...data\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async deleteMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n      _id: body._id\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async getRoles(ctx) {\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({});\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async addRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const role = new _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"](body);\n    const result = await role.save();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async updateRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const data = { ...body\n    };\n    delete data._id;\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: body._id\n    }, { ...data\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async deleteRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteOne({\n      _id: body._id\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async getRoleNames(ctx) {\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({}, {\n      menu: 0,\n      desc: 0\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 获取用户的菜单权限，菜单数据\n\n\n  async getRoutes(ctx) {\n    // 1. obj -> _id -> roles\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOne({\n      _id: ctx._id\n    }, {\n      roles: 1\n    });\n    const {\n      roles\n    } = user; // 2. 通过角色 -> menus\n    // 用户的角色可能有多个\n    // 角色 menus -> 去重\n\n    let menus = [];\n\n    for (let i = 0; i < roles.length; i++) {\n      const role = roles[i];\n      const rights = await _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        role\n      }, {\n        menu: 1\n      });\n      menus = menus.concat(rights.menu);\n    }\n\n    menus = Array.from(new Set(menus)); // 3. menus -> 可以访问的菜单数据\n\n    const treeData = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({}); // 递归查询 type = 'menu' && _id 包含在menus中\n    // 结构进行改造\n\n    const routes = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getMenuData\"])(treeData, menus, ctx.isAdmin);\n    ctx.body = {\n      code: 200,\n      data: routes\n    };\n  }\n\n  async getOperations(ctx) {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOne({\n      _id: ctx._id\n    }, {\n      roles: 1\n    });\n    const {\n      roles\n    } = user;\n    let menus = [];\n\n    for (let i = 0; i < roles.length; i++) {\n      const role = roles[i];\n      const rights = await _model_Roles__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        role\n      }, {\n        menu: 1\n      });\n      menus = menus.concat(rights.menu);\n    }\n\n    menus = Array.from(new Set(menus)); // 3. menus -> 可以访问的菜单数据\n\n    const treeData = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n    const operations = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getRights\"])(treeData, menus);\n    return operations;\n  }\n\n  async getStats(ctx) {\n    let result = {};\n    const nowZero = new Date().setHours(0, 0, 0, 0); // 1. 顶部的card\n\n    const inforCardData = [];\n    const time = dayjs__WEBPACK_IMPORTED_MODULE_6___default()().format('YYYY-MM-DD 00:00:00');\n    const userNewCount = await _model_User__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n      created: {\n        $gte: time\n      }\n    }).countDocuments();\n    const postsCount = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({}).countDocuments();\n    const commentsNewCount = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      created: {\n        $gte: time\n      }\n    }).countDocuments();\n    const starttime = dayjs__WEBPACK_IMPORTED_MODULE_6___default()(nowZero).weekday(1).format();\n    const endtime = dayjs__WEBPACK_IMPORTED_MODULE_6___default()(nowZero).weekday(8).format();\n    const weekEndCount = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      },\n      isBest: '1'\n    }).countDocuments();\n    const signWeekCount = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_5__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      }\n    }).countDocuments();\n    const postWeekCount = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      }\n    }).countDocuments();\n    inforCardData.push(userNewCount);\n    inforCardData.push(postsCount);\n    inforCardData.push(commentsNewCount);\n    inforCardData.push(weekEndCount);\n    inforCardData.push(signWeekCount);\n    inforCardData.push(postWeekCount); // 2. 左侧的饼图数据\n\n    const postsCatalogCount = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].aggregate([{\n      $group: {\n        _id: '$catalog',\n        count: {\n          $sum: 1\n        }\n      }\n    }]);\n    const pieData = {};\n    postsCatalogCount.forEach(item => {\n      pieData[item._id] = item.count;\n    }); // 3. 本周的右侧统计数据\n    // 3.1 计算6个月前的时间： 1号 00:00:00\n    // 3.2 查询数据库中对应时间内的数据 $gte\n    // 3.3 group组合 -> sum -> sort排序\n\n    const startMonth = dayjs__WEBPACK_IMPORTED_MODULE_6___default()(nowZero).subtract(5, 'M').date(1).format();\n    const endMonth = dayjs__WEBPACK_IMPORTED_MODULE_6___default()(nowZero).add(1, 'M').date(1).format();\n    let monthData = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].aggregate([{\n      $match: {\n        created: {\n          $gte: new Date(startMonth),\n          $lt: new Date(endMonth)\n        }\n      }\n    }, {\n      $project: {\n        month: {\n          $dateToString: {\n            format: '%Y-%m',\n            date: '$created'\n          }\n        }\n      }\n    }, {\n      $group: {\n        _id: '$month',\n        count: {\n          $sum: 1\n        }\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    monthData = monthData.reduce((obj, item) => {\n      return { ...obj,\n        [item._id]: item.count\n      };\n    }, {}); // 4. 底部的数据\n\n    const startDay = dayjs__WEBPACK_IMPORTED_MODULE_6___default()().subtract(7, 'day').format();\n\n    const _aggregate = async model => {\n      let result = await model.aggregate([{\n        $match: {\n          created: {\n            $gte: new Date(startDay)\n          }\n        }\n      }, {\n        $project: {\n          month: {\n            $dateToString: {\n              format: '%Y-%m-%d',\n              date: '$created'\n            }\n          }\n        }\n      }, {\n        $group: {\n          _id: '$month',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $sort: {\n          _id: 1\n        }\n      }]);\n      result = result.reduce((obj, item) => {\n        return { ...obj,\n          [item._id]: item.count\n        };\n      }, {});\n      return result;\n    };\n\n    const userWeekData = await _aggregate(_model_User__WEBPACK_IMPORTED_MODULE_3__[\"default\"]); // -> { 2019-10-01: 1}\n\n    const signWeekData = await _aggregate(_model_SignRecord__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    const postWeekData = await _aggregate(_model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    const commentsWeekData = await _aggregate(_model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"]); // {user: [1,2,3,4,0,0,0]}\n\n    const dataArr = [];\n\n    for (let i = 0; i <= 6; i++) {\n      dataArr.push(dayjs__WEBPACK_IMPORTED_MODULE_6___default()().subtract(6 - i, 'day').format('YYYY-MM-DD'));\n    }\n\n    const addData = obj => {\n      const arr = [];\n      dataArr.forEach(item => {\n        if (obj[item]) {\n          arr.push(obj[item]);\n        } else {\n          arr.push(0);\n        }\n      });\n      return arr;\n    };\n\n    const weekData = {\n      user: addData(userWeekData),\n      sign: addData(signWeekData),\n      post: addData(postWeekData),\n      comments: addData(commentsWeekData)\n    };\n    result = {\n      inforCardData,\n      pieData,\n      monthData,\n      weekData\n    };\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async getCommentsAll(ctx) {\n    const params = qs__WEBPACK_IMPORTED_MODULE_8___default.a.parse(ctx.query);\n    let options = {};\n\n    if (params.options) {\n      options = params.options;\n    }\n\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 20; // 使用MongoDB中的视图，效率提升1倍\n    // const test = await CommentsUsers.find({ 'uid.name': { $regex: 'admin1', $options: 'i' } })\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentsOptions(options, page, limit);\n    let total = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentsOptionsCount(options);\n\n    if (typeof total === 'object') {\n      if (total.length > 0) {\n        total = total[0].count;\n      } else {\n        total = 0;\n      }\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      total\n    };\n  }\n\n  async updateCommentsBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async deleteCommentsBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new AdminController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0FkbWluQ29udHJvbGxlci5qcz80YTBkIl0sIm5hbWVzIjpbIndlZWtkYXkiLCJyZXF1aXJlIiwibW9tZW50IiwiZXh0ZW5kIiwiQWRtaW5Db250cm9sbGVyIiwiZ2V0TWVudSIsImN0eCIsInJlc3VsdCIsIk1lbnUiLCJmaW5kIiwiYm9keSIsImNvZGUiLCJkYXRhIiwic29ydE1lbnVzIiwiYWRkTWVudSIsInJlcXVlc3QiLCJtZW51Iiwic2F2ZSIsInVwZGF0ZU1lbnUiLCJfaWQiLCJ1cGRhdGVPbmUiLCJkZWxldGVNZW51IiwiZGVsZXRlT25lIiwiZ2V0Um9sZXMiLCJSb2xlcyIsImFkZFJvbGUiLCJyb2xlIiwidXBkYXRlUm9sZSIsImRlbGV0ZVJvbGUiLCJnZXRSb2xlTmFtZXMiLCJkZXNjIiwiZ2V0Um91dGVzIiwidXNlciIsIlVzZXIiLCJmaW5kT25lIiwicm9sZXMiLCJtZW51cyIsImkiLCJsZW5ndGgiLCJyaWdodHMiLCJjb25jYXQiLCJBcnJheSIsImZyb20iLCJTZXQiLCJ0cmVlRGF0YSIsInJvdXRlcyIsImdldE1lbnVEYXRhIiwiaXNBZG1pbiIsImdldE9wZXJhdGlvbnMiLCJvcGVyYXRpb25zIiwiZ2V0UmlnaHRzIiwiZ2V0U3RhdHMiLCJub3daZXJvIiwiRGF0ZSIsInNldEhvdXJzIiwiaW5mb3JDYXJkRGF0YSIsInRpbWUiLCJmb3JtYXQiLCJ1c2VyTmV3Q291bnQiLCJjcmVhdGVkIiwiJGd0ZSIsImNvdW50RG9jdW1lbnRzIiwicG9zdHNDb3VudCIsIlBvc3QiLCJjb21tZW50c05ld0NvdW50IiwiQ29tbWVudHMiLCJzdGFydHRpbWUiLCJlbmR0aW1lIiwid2Vla0VuZENvdW50IiwiJGx0ZSIsImlzQmVzdCIsInNpZ25XZWVrQ291bnQiLCJTaWduUmVjb3JkIiwicG9zdFdlZWtDb3VudCIsInB1c2giLCJwb3N0c0NhdGFsb2dDb3VudCIsImFnZ3JlZ2F0ZSIsIiRncm91cCIsImNvdW50IiwiJHN1bSIsInBpZURhdGEiLCJmb3JFYWNoIiwiaXRlbSIsInN0YXJ0TW9udGgiLCJzdWJ0cmFjdCIsImRhdGUiLCJlbmRNb250aCIsImFkZCIsIm1vbnRoRGF0YSIsIiRtYXRjaCIsIiRsdCIsIiRwcm9qZWN0IiwibW9udGgiLCIkZGF0ZVRvU3RyaW5nIiwiJHNvcnQiLCJyZWR1Y2UiLCJvYmoiLCJzdGFydERheSIsIl9hZ2dyZWdhdGUiLCJtb2RlbCIsInVzZXJXZWVrRGF0YSIsInNpZ25XZWVrRGF0YSIsInBvc3RXZWVrRGF0YSIsImNvbW1lbnRzV2Vla0RhdGEiLCJkYXRhQXJyIiwiYWRkRGF0YSIsImFyciIsIndlZWtEYXRhIiwic2lnbiIsInBvc3QiLCJjb21tZW50cyIsImdldENvbW1lbnRzQWxsIiwicGFyYW1zIiwicXMiLCJwYXJzZSIsInF1ZXJ5Iiwib3B0aW9ucyIsInBhZ2UiLCJwYXJzZUludCIsImxpbWl0IiwiZ2V0Q29tbWVudHNPcHRpb25zIiwidG90YWwiLCJnZXRDb21tZW50c09wdGlvbnNDb3VudCIsInVwZGF0ZUNvbW1lbnRzQmF0Y2giLCJ1cGRhdGVNYW55IiwiJGluIiwiaWRzIiwiJHNldCIsInNldHRpbmdzIiwiZGVsZXRlQ29tbWVudHNCYXRjaCIsImRlbGV0ZU1hbnkiLCJtc2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FFQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLG1CQUFPLENBQUMsa0RBQUQsQ0FBdkI7O0FBQ0FDLDRDQUFNLENBQUNDLE1BQVAsQ0FBY0gsT0FBZDs7QUFFQSxNQUFNSSxlQUFOLENBQXNCO0VBQ1AsTUFBUEMsT0FBTyxDQUFFQyxHQUFGLEVBQU87SUFDbEIsTUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9EQUFJLENBQUNDLElBQUwsQ0FBVSxFQUFWLENBQXJCO0lBQ0FILEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRDLElBQUksRUFBRUMsK0RBQVMsQ0FBQ04sTUFBRDtJQUZOLENBQVg7RUFJRDs7RUFFWSxNQUFQTyxPQUFPLENBQUVSLEdBQUYsRUFBTztJQUNsQixNQUFNO01BQUVJO0lBQUYsSUFBV0osR0FBRyxDQUFDUyxPQUFyQjtJQUNBLE1BQU1DLElBQUksR0FBRyxJQUFJUixvREFBSixDQUFTRSxJQUFULENBQWI7SUFDQSxNQUFNSCxNQUFNLEdBQUcsTUFBTVMsSUFBSSxDQUFDQyxJQUFMLEVBQXJCO0lBQ0FYLEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRDLElBQUksRUFBRUw7SUFGRyxDQUFYO0VBSUQ7O0VBRWUsTUFBVlcsVUFBVSxDQUFFWixHQUFGLEVBQU87SUFDckIsTUFBTTtNQUFFSTtJQUFGLElBQVdKLEdBQUcsQ0FBQ1MsT0FBckI7SUFDQSxNQUFNSCxJQUFJLEdBQUcsRUFBRSxHQUFHRjtJQUFMLENBQWI7SUFDQSxPQUFPRSxJQUFJLENBQUNPLEdBQVo7SUFDQSxNQUFNWixNQUFNLEdBQUcsTUFBTUMsb0RBQUksQ0FBQ1ksU0FBTCxDQUFlO01BQUVELEdBQUcsRUFBRVQsSUFBSSxDQUFDUztJQUFaLENBQWYsRUFBa0MsRUFBRSxHQUFHUDtJQUFMLENBQWxDLENBQXJCO0lBQ0FOLEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRDLElBQUksRUFBRUw7SUFGRyxDQUFYO0VBSUQ7O0VBRWUsTUFBVmMsVUFBVSxDQUFFZixHQUFGLEVBQU87SUFDckIsTUFBTTtNQUFFSTtJQUFGLElBQVdKLEdBQUcsQ0FBQ1MsT0FBckI7SUFDQSxNQUFNUixNQUFNLEdBQUcsTUFBTUMsb0RBQUksQ0FBQ2MsU0FBTCxDQUFlO01BQUVILEdBQUcsRUFBRVQsSUFBSSxDQUFDUztJQUFaLENBQWYsQ0FBckI7SUFDQWIsR0FBRyxDQUFDSSxJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVEMsSUFBSSxFQUFFTDtJQUZHLENBQVg7RUFJRDs7RUFFYSxNQUFSZ0IsUUFBUSxDQUFFakIsR0FBRixFQUFPO0lBQ25CLE1BQU1DLE1BQU0sR0FBRyxNQUFNaUIsb0RBQUssQ0FBQ2YsSUFBTixDQUFXLEVBQVgsQ0FBckI7SUFDQUgsR0FBRyxDQUFDSSxJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVEMsSUFBSSxFQUFFTDtJQUZHLENBQVg7RUFJRDs7RUFFWSxNQUFQa0IsT0FBTyxDQUFFbkIsR0FBRixFQUFPO0lBQ2xCLE1BQU07TUFBRUk7SUFBRixJQUFXSixHQUFHLENBQUNTLE9BQXJCO0lBQ0EsTUFBTVcsSUFBSSxHQUFHLElBQUlGLG9EQUFKLENBQVVkLElBQVYsQ0FBYjtJQUNBLE1BQU1ILE1BQU0sR0FBRyxNQUFNbUIsSUFBSSxDQUFDVCxJQUFMLEVBQXJCO0lBQ0FYLEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRDLElBQUksRUFBRUw7SUFGRyxDQUFYO0VBSUQ7O0VBRWUsTUFBVm9CLFVBQVUsQ0FBRXJCLEdBQUYsRUFBTztJQUNyQixNQUFNO01BQUVJO0lBQUYsSUFBV0osR0FBRyxDQUFDUyxPQUFyQjtJQUNBLE1BQU1ILElBQUksR0FBRyxFQUFFLEdBQUdGO0lBQUwsQ0FBYjtJQUNBLE9BQU9FLElBQUksQ0FBQ08sR0FBWjtJQUNBLE1BQU1aLE1BQU0sR0FBRyxNQUFNaUIsb0RBQUssQ0FBQ0osU0FBTixDQUFnQjtNQUFFRCxHQUFHLEVBQUVULElBQUksQ0FBQ1M7SUFBWixDQUFoQixFQUFtQyxFQUFFLEdBQUdQO0lBQUwsQ0FBbkMsQ0FBckI7SUFDQU4sR0FBRyxDQUFDSSxJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVEMsSUFBSSxFQUFFTDtJQUZHLENBQVg7RUFJRDs7RUFFZSxNQUFWcUIsVUFBVSxDQUFFdEIsR0FBRixFQUFPO0lBQ3JCLE1BQU07TUFBRUk7SUFBRixJQUFXSixHQUFHLENBQUNTLE9BQXJCO0lBQ0EsTUFBTVIsTUFBTSxHQUFHLE1BQU1pQixvREFBSyxDQUFDRixTQUFOLENBQWdCO01BQUVILEdBQUcsRUFBRVQsSUFBSSxDQUFDUztJQUFaLENBQWhCLENBQXJCO0lBQ0FiLEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRDLElBQUksRUFBRUw7SUFGRyxDQUFYO0VBSUQ7O0VBRWlCLE1BQVpzQixZQUFZLENBQUV2QixHQUFGLEVBQU87SUFDdkIsTUFBTUMsTUFBTSxHQUFHLE1BQU1pQixvREFBSyxDQUFDZixJQUFOLENBQVcsRUFBWCxFQUFlO01BQUVPLElBQUksRUFBRSxDQUFSO01BQVdjLElBQUksRUFBRTtJQUFqQixDQUFmLENBQXJCO0lBQ0F4QixHQUFHLENBQUNJLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUQyxJQUFJLEVBQUVMO0lBRkcsQ0FBWDtFQUlELENBbkZtQixDQXFGcEI7OztFQUNlLE1BQVR3QixTQUFTLENBQUV6QixHQUFGLEVBQU87SUFDcEI7SUFDQSxNQUFNMEIsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNDLE9BQUwsQ0FBYTtNQUFFZixHQUFHLEVBQUViLEdBQUcsQ0FBQ2E7SUFBWCxDQUFiLEVBQStCO01BQUVnQixLQUFLLEVBQUU7SUFBVCxDQUEvQixDQUFuQjtJQUNBLE1BQU07TUFBRUE7SUFBRixJQUFZSCxJQUFsQixDQUhvQixDQUlwQjtJQUNBO0lBQ0E7O0lBQ0EsSUFBSUksS0FBSyxHQUFHLEVBQVo7O0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRixLQUFLLENBQUNHLE1BQTFCLEVBQWtDRCxDQUFDLEVBQW5DLEVBQXVDO01BQ3JDLE1BQU1YLElBQUksR0FBR1MsS0FBSyxDQUFDRSxDQUFELENBQWxCO01BQ0EsTUFBTUUsTUFBTSxHQUFHLE1BQU1mLG9EQUFLLENBQUNVLE9BQU4sQ0FBYztRQUFFUjtNQUFGLENBQWQsRUFBd0I7UUFBRVYsSUFBSSxFQUFFO01BQVIsQ0FBeEIsQ0FBckI7TUFDQW9CLEtBQUssR0FBR0EsS0FBSyxDQUFDSSxNQUFOLENBQWFELE1BQU0sQ0FBQ3ZCLElBQXBCLENBQVI7SUFDRDs7SUFDRG9CLEtBQUssR0FBR0ssS0FBSyxDQUFDQyxJQUFOLENBQVcsSUFBSUMsR0FBSixDQUFRUCxLQUFSLENBQVgsQ0FBUixDQWJvQixDQWNwQjs7SUFDQSxNQUFNUSxRQUFRLEdBQUcsTUFBTXBDLG9EQUFJLENBQUNDLElBQUwsQ0FBVSxFQUFWLENBQXZCLENBZm9CLENBZ0JwQjtJQUNBOztJQUNBLE1BQU1vQyxNQUFNLEdBQUdDLGlFQUFXLENBQUNGLFFBQUQsRUFBV1IsS0FBWCxFQUFrQjlCLEdBQUcsQ0FBQ3lDLE9BQXRCLENBQTFCO0lBQ0F6QyxHQUFHLENBQUNJLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUQyxJQUFJLEVBQUVpQztJQUZHLENBQVg7RUFJRDs7RUFFa0IsTUFBYkcsYUFBYSxDQUFFMUMsR0FBRixFQUFPO0lBQ3hCLE1BQU0wQixJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ0MsT0FBTCxDQUFhO01BQUVmLEdBQUcsRUFBRWIsR0FBRyxDQUFDYTtJQUFYLENBQWIsRUFBK0I7TUFBRWdCLEtBQUssRUFBRTtJQUFULENBQS9CLENBQW5CO0lBQ0EsTUFBTTtNQUFFQTtJQUFGLElBQVlILElBQWxCO0lBQ0EsSUFBSUksS0FBSyxHQUFHLEVBQVo7O0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRixLQUFLLENBQUNHLE1BQTFCLEVBQWtDRCxDQUFDLEVBQW5DLEVBQXVDO01BQ3JDLE1BQU1YLElBQUksR0FBR1MsS0FBSyxDQUFDRSxDQUFELENBQWxCO01BQ0EsTUFBTUUsTUFBTSxHQUFHLE1BQU1mLG9EQUFLLENBQUNVLE9BQU4sQ0FBYztRQUFFUjtNQUFGLENBQWQsRUFBd0I7UUFBRVYsSUFBSSxFQUFFO01BQVIsQ0FBeEIsQ0FBckI7TUFDQW9CLEtBQUssR0FBR0EsS0FBSyxDQUFDSSxNQUFOLENBQWFELE1BQU0sQ0FBQ3ZCLElBQXBCLENBQVI7SUFDRDs7SUFDRG9CLEtBQUssR0FBR0ssS0FBSyxDQUFDQyxJQUFOLENBQVcsSUFBSUMsR0FBSixDQUFRUCxLQUFSLENBQVgsQ0FBUixDQVR3QixDQVV4Qjs7SUFDQSxNQUFNUSxRQUFRLEdBQUcsTUFBTXBDLG9EQUFJLENBQUNDLElBQUwsQ0FBVSxFQUFWLENBQXZCO0lBQ0EsTUFBTXdDLFVBQVUsR0FBR0MsK0RBQVMsQ0FBQ04sUUFBRCxFQUFXUixLQUFYLENBQTVCO0lBQ0EsT0FBT2EsVUFBUDtFQUNEOztFQUVhLE1BQVJFLFFBQVEsQ0FBRTdDLEdBQUYsRUFBTztJQUNuQixJQUFJQyxNQUFNLEdBQUcsRUFBYjtJQUNBLE1BQU02QyxPQUFPLEdBQUcsSUFBSUMsSUFBSixHQUFXQyxRQUFYLENBQW9CLENBQXBCLEVBQXVCLENBQXZCLEVBQTBCLENBQTFCLEVBQTZCLENBQTdCLENBQWhCLENBRm1CLENBR25COztJQUNBLE1BQU1DLGFBQWEsR0FBRyxFQUF0QjtJQUNBLE1BQU1DLElBQUksR0FBR3RELDRDQUFNLEdBQUd1RCxNQUFULENBQWdCLHFCQUFoQixDQUFiO0lBQ0EsTUFBTUMsWUFBWSxHQUFHLE1BQU16QixtREFBSSxDQUFDeEIsSUFBTCxDQUFVO01BQUVrRCxPQUFPLEVBQUU7UUFBRUMsSUFBSSxFQUFFSjtNQUFSO0lBQVgsQ0FBVixFQUF1Q0ssY0FBdkMsRUFBM0I7SUFDQSxNQUFNQyxVQUFVLEdBQUcsTUFBTUMsbURBQUksQ0FBQ3RELElBQUwsQ0FBVSxFQUFWLEVBQWNvRCxjQUFkLEVBQXpCO0lBQ0EsTUFBTUcsZ0JBQWdCLEdBQUcsTUFBTUMsdURBQVEsQ0FBQ3hELElBQVQsQ0FBYztNQUFFa0QsT0FBTyxFQUFFO1FBQUVDLElBQUksRUFBRUo7TUFBUjtJQUFYLENBQWQsRUFBMkNLLGNBQTNDLEVBQS9CO0lBQ0EsTUFBTUssU0FBUyxHQUFHaEUsNENBQU0sQ0FBQ2tELE9BQUQsQ0FBTixDQUFnQnBELE9BQWhCLENBQXdCLENBQXhCLEVBQTJCeUQsTUFBM0IsRUFBbEI7SUFDQSxNQUFNVSxPQUFPLEdBQUdqRSw0Q0FBTSxDQUFDa0QsT0FBRCxDQUFOLENBQWdCcEQsT0FBaEIsQ0FBd0IsQ0FBeEIsRUFBMkJ5RCxNQUEzQixFQUFoQjtJQUNBLE1BQU1XLFlBQVksR0FBRyxNQUFNSCx1REFBUSxDQUFDeEQsSUFBVCxDQUFjO01BQUVrRCxPQUFPLEVBQUU7UUFBRUMsSUFBSSxFQUFFTSxTQUFSO1FBQW1CRyxJQUFJLEVBQUVGO01BQXpCLENBQVg7TUFBK0NHLE1BQU0sRUFBRTtJQUF2RCxDQUFkLEVBQTRFVCxjQUE1RSxFQUEzQjtJQUNBLE1BQU1VLGFBQWEsR0FBRyxNQUFNQyx5REFBVSxDQUFDL0QsSUFBWCxDQUFnQjtNQUFFa0QsT0FBTyxFQUFFO1FBQUVDLElBQUksRUFBRU0sU0FBUjtRQUFtQkcsSUFBSSxFQUFFRjtNQUF6QjtJQUFYLENBQWhCLEVBQWlFTixjQUFqRSxFQUE1QjtJQUNBLE1BQU1ZLGFBQWEsR0FBRyxNQUFNVixtREFBSSxDQUFDdEQsSUFBTCxDQUFVO01BQUVrRCxPQUFPLEVBQUU7UUFBRUMsSUFBSSxFQUFFTSxTQUFSO1FBQW1CRyxJQUFJLEVBQUVGO01BQXpCO0lBQVgsQ0FBVixFQUEyRE4sY0FBM0QsRUFBNUI7SUFDQU4sYUFBYSxDQUFDbUIsSUFBZCxDQUFtQmhCLFlBQW5CO0lBQ0FILGFBQWEsQ0FBQ21CLElBQWQsQ0FBbUJaLFVBQW5CO0lBQ0FQLGFBQWEsQ0FBQ21CLElBQWQsQ0FBbUJWLGdCQUFuQjtJQUNBVCxhQUFhLENBQUNtQixJQUFkLENBQW1CTixZQUFuQjtJQUNBYixhQUFhLENBQUNtQixJQUFkLENBQW1CSCxhQUFuQjtJQUNBaEIsYUFBYSxDQUFDbUIsSUFBZCxDQUFtQkQsYUFBbkIsRUFuQm1CLENBb0JuQjs7SUFDQSxNQUFNRSxpQkFBaUIsR0FBRyxNQUFNWixtREFBSSxDQUFDYSxTQUFMLENBQWUsQ0FDN0M7TUFBRUMsTUFBTSxFQUFFO1FBQUUxRCxHQUFHLEVBQUUsVUFBUDtRQUFtQjJELEtBQUssRUFBRTtVQUFFQyxJQUFJLEVBQUU7UUFBUjtNQUExQjtJQUFWLENBRDZDLENBQWYsQ0FBaEM7SUFHQSxNQUFNQyxPQUFPLEdBQUcsRUFBaEI7SUFDQUwsaUJBQWlCLENBQUNNLE9BQWxCLENBQTJCQyxJQUFELElBQVU7TUFDbENGLE9BQU8sQ0FBQ0UsSUFBSSxDQUFDL0QsR0FBTixDQUFQLEdBQW9CK0QsSUFBSSxDQUFDSixLQUF6QjtJQUNELENBRkQsRUF6Qm1CLENBNEJuQjtJQUNBO0lBQ0E7SUFDQTs7SUFDQSxNQUFNSyxVQUFVLEdBQUdqRiw0Q0FBTSxDQUFDa0QsT0FBRCxDQUFOLENBQWdCZ0MsUUFBaEIsQ0FBeUIsQ0FBekIsRUFBNEIsR0FBNUIsRUFBaUNDLElBQWpDLENBQXNDLENBQXRDLEVBQXlDNUIsTUFBekMsRUFBbkI7SUFDQSxNQUFNNkIsUUFBUSxHQUFHcEYsNENBQU0sQ0FBQ2tELE9BQUQsQ0FBTixDQUFnQm1DLEdBQWhCLENBQW9CLENBQXBCLEVBQXVCLEdBQXZCLEVBQTRCRixJQUE1QixDQUFpQyxDQUFqQyxFQUFvQzVCLE1BQXBDLEVBQWpCO0lBQ0EsSUFBSStCLFNBQVMsR0FBRyxNQUFNekIsbURBQUksQ0FBQ2EsU0FBTCxDQUFlLENBQ25DO01BQUVhLE1BQU0sRUFBRTtRQUFFOUIsT0FBTyxFQUFFO1VBQUVDLElBQUksRUFBRSxJQUFJUCxJQUFKLENBQVM4QixVQUFULENBQVI7VUFBOEJPLEdBQUcsRUFBRSxJQUFJckMsSUFBSixDQUFTaUMsUUFBVDtRQUFuQztNQUFYO0lBQVYsQ0FEbUMsRUFFbkM7TUFBRUssUUFBUSxFQUFFO1FBQUVDLEtBQUssRUFBRTtVQUFFQyxhQUFhLEVBQUU7WUFBRXBDLE1BQU0sRUFBRSxPQUFWO1lBQW1CNEIsSUFBSSxFQUFFO1VBQXpCO1FBQWpCO01BQVQ7SUFBWixDQUZtQyxFQUduQztNQUFFUixNQUFNLEVBQUU7UUFBRTFELEdBQUcsRUFBRSxRQUFQO1FBQWlCMkQsS0FBSyxFQUFFO1VBQUVDLElBQUksRUFBRTtRQUFSO01BQXhCO0lBQVYsQ0FIbUMsRUFJbkM7TUFBRWUsS0FBSyxFQUFFO1FBQUUzRSxHQUFHLEVBQUU7TUFBUDtJQUFULENBSm1DLENBQWYsQ0FBdEI7SUFNQXFFLFNBQVMsR0FBR0EsU0FBUyxDQUFDTyxNQUFWLENBQWlCLENBQUNDLEdBQUQsRUFBTWQsSUFBTixLQUFlO01BQzFDLE9BQU8sRUFDTCxHQUFHYyxHQURFO1FBRUwsQ0FBQ2QsSUFBSSxDQUFDL0QsR0FBTixHQUFZK0QsSUFBSSxDQUFDSjtNQUZaLENBQVA7SUFJRCxDQUxXLEVBS1QsRUFMUyxDQUFaLENBeENtQixDQThDbkI7O0lBQ0EsTUFBTW1CLFFBQVEsR0FBRy9GLDRDQUFNLEdBQUdrRixRQUFULENBQWtCLENBQWxCLEVBQXFCLEtBQXJCLEVBQTRCM0IsTUFBNUIsRUFBakI7O0lBQ0EsTUFBTXlDLFVBQVUsR0FBRyxNQUFPQyxLQUFQLElBQWlCO01BQ2xDLElBQUk1RixNQUFNLEdBQUcsTUFBTTRGLEtBQUssQ0FBQ3ZCLFNBQU4sQ0FBZ0IsQ0FDakM7UUFBRWEsTUFBTSxFQUFFO1VBQUU5QixPQUFPLEVBQUU7WUFBRUMsSUFBSSxFQUFFLElBQUlQLElBQUosQ0FBUzRDLFFBQVQ7VUFBUjtRQUFYO01BQVYsQ0FEaUMsRUFFakM7UUFBRU4sUUFBUSxFQUFFO1VBQUVDLEtBQUssRUFBRTtZQUFFQyxhQUFhLEVBQUU7Y0FBRXBDLE1BQU0sRUFBRSxVQUFWO2NBQXNCNEIsSUFBSSxFQUFFO1lBQTVCO1VBQWpCO1FBQVQ7TUFBWixDQUZpQyxFQUdqQztRQUFFUixNQUFNLEVBQUU7VUFBRTFELEdBQUcsRUFBRSxRQUFQO1VBQWlCMkQsS0FBSyxFQUFFO1lBQUVDLElBQUksRUFBRTtVQUFSO1FBQXhCO01BQVYsQ0FIaUMsRUFJakM7UUFBRWUsS0FBSyxFQUFFO1VBQUUzRSxHQUFHLEVBQUU7UUFBUDtNQUFULENBSmlDLENBQWhCLENBQW5CO01BTUFaLE1BQU0sR0FBR0EsTUFBTSxDQUFDd0YsTUFBUCxDQUFjLENBQUNDLEdBQUQsRUFBTWQsSUFBTixLQUFlO1FBQ3BDLE9BQU8sRUFDTCxHQUFHYyxHQURFO1VBRUwsQ0FBQ2QsSUFBSSxDQUFDL0QsR0FBTixHQUFZK0QsSUFBSSxDQUFDSjtRQUZaLENBQVA7TUFJRCxDQUxRLEVBS04sRUFMTSxDQUFUO01BTUEsT0FBT3ZFLE1BQVA7SUFDRCxDQWREOztJQWVBLE1BQU02RixZQUFZLEdBQUcsTUFBTUYsVUFBVSxDQUFDakUsbURBQUQsQ0FBckMsQ0EvRG1CLENBK0R5Qjs7SUFDNUMsTUFBTW9FLFlBQVksR0FBRyxNQUFNSCxVQUFVLENBQUMxQix5REFBRCxDQUFyQztJQUNBLE1BQU04QixZQUFZLEdBQUcsTUFBTUosVUFBVSxDQUFDbkMsbURBQUQsQ0FBckM7SUFDQSxNQUFNd0MsZ0JBQWdCLEdBQUcsTUFBTUwsVUFBVSxDQUFDakMsdURBQUQsQ0FBekMsQ0FsRW1CLENBbUVuQjs7SUFDQSxNQUFNdUMsT0FBTyxHQUFHLEVBQWhCOztJQUNBLEtBQUssSUFBSW5FLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLElBQUksQ0FBckIsRUFBd0JBLENBQUMsRUFBekIsRUFBNkI7TUFDM0JtRSxPQUFPLENBQUM5QixJQUFSLENBQWF4RSw0Q0FBTSxHQUFHa0YsUUFBVCxDQUFrQixJQUFJL0MsQ0FBdEIsRUFBeUIsS0FBekIsRUFBZ0NvQixNQUFoQyxDQUF1QyxZQUF2QyxDQUFiO0lBQ0Q7O0lBQ0QsTUFBTWdELE9BQU8sR0FBSVQsR0FBRCxJQUFTO01BQ3ZCLE1BQU1VLEdBQUcsR0FBRyxFQUFaO01BQ0FGLE9BQU8sQ0FBQ3ZCLE9BQVIsQ0FBaUJDLElBQUQsSUFBVTtRQUN4QixJQUFJYyxHQUFHLENBQUNkLElBQUQsQ0FBUCxFQUFlO1VBQ2J3QixHQUFHLENBQUNoQyxJQUFKLENBQVNzQixHQUFHLENBQUNkLElBQUQsQ0FBWjtRQUNELENBRkQsTUFFTztVQUNMd0IsR0FBRyxDQUFDaEMsSUFBSixDQUFTLENBQVQ7UUFDRDtNQUNGLENBTkQ7TUFPQSxPQUFPZ0MsR0FBUDtJQUNELENBVkQ7O0lBV0EsTUFBTUMsUUFBUSxHQUFHO01BQ2YzRSxJQUFJLEVBQUV5RSxPQUFPLENBQUNMLFlBQUQsQ0FERTtNQUVmUSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0osWUFBRCxDQUZFO01BR2ZRLElBQUksRUFBRUosT0FBTyxDQUFDSCxZQUFELENBSEU7TUFJZlEsUUFBUSxFQUFFTCxPQUFPLENBQUNGLGdCQUFEO0lBSkYsQ0FBakI7SUFNQWhHLE1BQU0sR0FBRztNQUNQZ0QsYUFETztNQUVQeUIsT0FGTztNQUdQUSxTQUhPO01BSVBtQjtJQUpPLENBQVQ7SUFNQXJHLEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRDLElBQUksRUFBRUw7SUFGRyxDQUFYO0VBSUQ7O0VBRW1CLE1BQWR3RyxjQUFjLENBQUV6RyxHQUFGLEVBQU87SUFDekIsTUFBTTBHLE1BQU0sR0FBR0MseUNBQUUsQ0FBQ0MsS0FBSCxDQUFTNUcsR0FBRyxDQUFDNkcsS0FBYixDQUFmO0lBQ0EsSUFBSUMsT0FBTyxHQUFHLEVBQWQ7O0lBQ0EsSUFBSUosTUFBTSxDQUFDSSxPQUFYLEVBQW9CO01BQ2xCQSxPQUFPLEdBQUdKLE1BQU0sQ0FBQ0ksT0FBakI7SUFDRDs7SUFDRCxNQUFNQyxJQUFJLEdBQUdMLE1BQU0sQ0FBQ0ssSUFBUCxHQUFjQyxRQUFRLENBQUNOLE1BQU0sQ0FBQ0ssSUFBUixDQUF0QixHQUFzQyxDQUFuRDtJQUNBLE1BQU1FLEtBQUssR0FBR1AsTUFBTSxDQUFDTyxLQUFQLEdBQWVELFFBQVEsQ0FBQ04sTUFBTSxDQUFDTyxLQUFSLENBQXZCLEdBQXdDLEVBQXRELENBUHlCLENBUXpCO0lBQ0E7O0lBQ0EsTUFBTWhILE1BQU0sR0FBRyxNQUFNMEQsdURBQVEsQ0FBQ3VELGtCQUFULENBQTRCSixPQUE1QixFQUFxQ0MsSUFBckMsRUFBMkNFLEtBQTNDLENBQXJCO0lBQ0EsSUFBSUUsS0FBSyxHQUFHLE1BQU14RCx1REFBUSxDQUFDeUQsdUJBQVQsQ0FBaUNOLE9BQWpDLENBQWxCOztJQUNBLElBQUksT0FBT0ssS0FBUCxLQUFpQixRQUFyQixFQUErQjtNQUM3QixJQUFJQSxLQUFLLENBQUNuRixNQUFOLEdBQWUsQ0FBbkIsRUFBc0I7UUFDcEJtRixLQUFLLEdBQUdBLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUzNDLEtBQWpCO01BQ0QsQ0FGRCxNQUVPO1FBQ0wyQyxLQUFLLEdBQUcsQ0FBUjtNQUNEO0lBQ0Y7O0lBQ0RuSCxHQUFHLENBQUNJLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUQyxJQUFJLEVBQUVMLE1BRkc7TUFHVGtIO0lBSFMsQ0FBWDtFQUtEOztFQUV3QixNQUFuQkUsbUJBQW1CLENBQUVySCxHQUFGLEVBQU87SUFDOUIsTUFBTTtNQUFFSTtJQUFGLElBQVdKLEdBQUcsQ0FBQ1MsT0FBckI7SUFDQSxNQUFNUixNQUFNLEdBQUcsTUFBTTBELHVEQUFRLENBQUMyRCxVQUFULENBQ25CO01BQUV6RyxHQUFHLEVBQUU7UUFBRTBHLEdBQUcsRUFBRW5ILElBQUksQ0FBQ29IO01BQVo7SUFBUCxDQURtQixFQUVuQjtNQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHckgsSUFBSSxDQUFDc0g7TUFBVjtJQUFSLENBRm1CLENBQXJCO0lBSUExSCxHQUFHLENBQUNJLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUQyxJQUFJLEVBQUVMO0lBRkcsQ0FBWDtFQUlEOztFQUV3QixNQUFuQjBILG1CQUFtQixDQUFFM0gsR0FBRixFQUFPO0lBQzlCLE1BQU07TUFBRUk7SUFBRixJQUFXSixHQUFHLENBQUNTLE9BQXJCO0lBQ0EsTUFBTVIsTUFBTSxHQUFHLE1BQU0wRCx1REFBUSxDQUFDaUUsVUFBVCxDQUFvQjtNQUFFL0csR0FBRyxFQUFFO1FBQUUwRyxHQUFHLEVBQUVuSCxJQUFJLENBQUNvSDtNQUFaO0lBQVAsQ0FBcEIsQ0FBckI7SUFDQXhILEdBQUcsQ0FBQ0ksSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVR3SCxHQUFHLEVBQUUsTUFGSTtNQUdUdkgsSUFBSSxFQUFFTDtJQUhHLENBQVg7RUFLRDs7QUFsUm1COztBQXFSUCxtRUFBSUgsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9BZG1pbkNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWVudSBmcm9tICdAL21vZGVsL01lbnVzJ1xuaW1wb3J0IFBvc3QgZnJvbSAnQC9tb2RlbC9Qb3N0J1xuaW1wb3J0IFJvbGVzIGZyb20gJ0AvbW9kZWwvUm9sZXMnXG5pbXBvcnQgVXNlciBmcm9tICdAL21vZGVsL1VzZXInXG5pbXBvcnQgQ29tbWVudHMgZnJvbSAnQC9tb2RlbC9Db21tZW50cydcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJ0AvbW9kZWwvU2lnblJlY29yZCdcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5pbXBvcnQgeyBnZXRNZW51RGF0YSwgc29ydE1lbnVzLCBnZXRSaWdodHMgfSBmcm9tICdAL2NvbW1vbi9VdGlscydcbmltcG9ydCBxcyBmcm9tICdxcydcbi8vIGltcG9ydCBDb21tZW50c1VzZXJzIGZyb20gJy4uL21vZGVsL0NvbW1lbnRzVXNlcnMnXG5cbmNvbnN0IHdlZWtkYXkgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vd2Vla2RheScpXG5tb21lbnQuZXh0ZW5kKHdlZWtkYXkpXG5cbmNsYXNzIEFkbWluQ29udHJvbGxlciB7XG4gIGFzeW5jIGdldE1lbnUgKGN0eCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1lbnUuZmluZCh7fSlcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHNvcnRNZW51cyhyZXN1bHQpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWRkTWVudSAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudShib2R5KVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1lbnUuc2F2ZSgpXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVNZW51IChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgZGF0YSA9IHsgLi4uYm9keSB9XG4gICAgZGVsZXRlIGRhdGEuX2lkXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTWVudS51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0sIHsgLi4uZGF0YSB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlTWVudSAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1lbnUuZGVsZXRlT25lKHsgX2lkOiBib2R5Ll9pZCB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Um9sZXMgKGN0eCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJvbGVzLmZpbmQoe30pXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICBhc3luYyBhZGRSb2xlIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3Qgcm9sZSA9IG5ldyBSb2xlcyhib2R5KVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJvbGUuc2F2ZSgpXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVSb2xlIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgZGF0YSA9IHsgLi4uYm9keSB9XG4gICAgZGVsZXRlIGRhdGEuX2lkXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUm9sZXMudXBkYXRlT25lKHsgX2lkOiBib2R5Ll9pZCB9LCB7IC4uLmRhdGEgfSlcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVJvbGUgKGN0eCkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSb2xlcy5kZWxldGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0pXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRSb2xlTmFtZXMgKGN0eCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJvbGVzLmZpbmQoe30sIHsgbWVudTogMCwgZGVzYzogMCB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W55So5oi355qE6I+c5Y2V5p2D6ZmQ77yM6I+c5Y2V5pWw5o2uXG4gIGFzeW5jIGdldFJvdXRlcyAoY3R4KSB7XG4gICAgLy8gMS4gb2JqIC0+IF9pZCAtPiByb2xlc1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IGN0eC5faWQgfSwgeyByb2xlczogMSB9KVxuICAgIGNvbnN0IHsgcm9sZXMgfSA9IHVzZXJcbiAgICAvLyAyLiDpgJrov4fop5LoibIgLT4gbWVudXNcbiAgICAvLyDnlKjmiLfnmoTop5LoibLlj6/og73mnInlpJrkuKpcbiAgICAvLyDop5LoibIgbWVudXMgLT4g5Y676YeNXG4gICAgbGV0IG1lbnVzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByb2xlID0gcm9sZXNbaV1cbiAgICAgIGNvbnN0IHJpZ2h0cyA9IGF3YWl0IFJvbGVzLmZpbmRPbmUoeyByb2xlIH0sIHsgbWVudTogMSB9KVxuICAgICAgbWVudXMgPSBtZW51cy5jb25jYXQocmlnaHRzLm1lbnUpXG4gICAgfVxuICAgIG1lbnVzID0gQXJyYXkuZnJvbShuZXcgU2V0KG1lbnVzKSlcbiAgICAvLyAzLiBtZW51cyAtPiDlj6/ku6Xorr/pl67nmoToj5zljZXmlbDmja5cbiAgICBjb25zdCB0cmVlRGF0YSA9IGF3YWl0IE1lbnUuZmluZCh7fSlcbiAgICAvLyDpgJLlvZLmn6Xor6IgdHlwZSA9ICdtZW51JyAmJiBfaWQg5YyF5ZCr5ZyobWVudXPkuK1cbiAgICAvLyDnu5PmnoTov5vooYzmlLnpgKBcbiAgICBjb25zdCByb3V0ZXMgPSBnZXRNZW51RGF0YSh0cmVlRGF0YSwgbWVudXMsIGN0eC5pc0FkbWluKVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcm91dGVzXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0T3BlcmF0aW9ucyAoY3R4KSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogY3R4Ll9pZCB9LCB7IHJvbGVzOiAxIH0pXG4gICAgY29uc3QgeyByb2xlcyB9ID0gdXNlclxuICAgIGxldCBtZW51cyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgcm9sZSA9IHJvbGVzW2ldXG4gICAgICBjb25zdCByaWdodHMgPSBhd2FpdCBSb2xlcy5maW5kT25lKHsgcm9sZSB9LCB7IG1lbnU6IDEgfSlcbiAgICAgIG1lbnVzID0gbWVudXMuY29uY2F0KHJpZ2h0cy5tZW51KVxuICAgIH1cbiAgICBtZW51cyA9IEFycmF5LmZyb20obmV3IFNldChtZW51cykpXG4gICAgLy8gMy4gbWVudXMgLT4g5Y+v5Lul6K6/6Zeu55qE6I+c5Y2V5pWw5o2uXG4gICAgY29uc3QgdHJlZURhdGEgPSBhd2FpdCBNZW51LmZpbmQoe30pXG4gICAgY29uc3Qgb3BlcmF0aW9ucyA9IGdldFJpZ2h0cyh0cmVlRGF0YSwgbWVudXMpXG4gICAgcmV0dXJuIG9wZXJhdGlvbnNcbiAgfVxuXG4gIGFzeW5jIGdldFN0YXRzIChjdHgpIHtcbiAgICBsZXQgcmVzdWx0ID0ge31cbiAgICBjb25zdCBub3daZXJvID0gbmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKVxuICAgIC8vIDEuIOmhtumDqOeahGNhcmRcbiAgICBjb25zdCBpbmZvckNhcmREYXRhID0gW11cbiAgICBjb25zdCB0aW1lID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIDAwOjAwOjAwJylcbiAgICBjb25zdCB1c2VyTmV3Q291bnQgPSBhd2FpdCBVc2VyLmZpbmQoeyBjcmVhdGVkOiB7ICRndGU6IHRpbWUgfSB9KS5jb3VudERvY3VtZW50cygpXG4gICAgY29uc3QgcG9zdHNDb3VudCA9IGF3YWl0IFBvc3QuZmluZCh7fSkuY291bnREb2N1bWVudHMoKVxuICAgIGNvbnN0IGNvbW1lbnRzTmV3Q291bnQgPSBhd2FpdCBDb21tZW50cy5maW5kKHsgY3JlYXRlZDogeyAkZ3RlOiB0aW1lIH0gfSkuY291bnREb2N1bWVudHMoKVxuICAgIGNvbnN0IHN0YXJ0dGltZSA9IG1vbWVudChub3daZXJvKS53ZWVrZGF5KDEpLmZvcm1hdCgpXG4gICAgY29uc3QgZW5kdGltZSA9IG1vbWVudChub3daZXJvKS53ZWVrZGF5KDgpLmZvcm1hdCgpXG4gICAgY29uc3Qgd2Vla0VuZENvdW50ID0gYXdhaXQgQ29tbWVudHMuZmluZCh7IGNyZWF0ZWQ6IHsgJGd0ZTogc3RhcnR0aW1lLCAkbHRlOiBlbmR0aW1lIH0sIGlzQmVzdDogJzEnIH0pLmNvdW50RG9jdW1lbnRzKClcbiAgICBjb25zdCBzaWduV2Vla0NvdW50ID0gYXdhaXQgU2lnblJlY29yZC5maW5kKHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydHRpbWUsICRsdGU6IGVuZHRpbWUgfSB9KS5jb3VudERvY3VtZW50cygpXG4gICAgY29uc3QgcG9zdFdlZWtDb3VudCA9IGF3YWl0IFBvc3QuZmluZCh7IGNyZWF0ZWQ6IHsgJGd0ZTogc3RhcnR0aW1lLCAkbHRlOiBlbmR0aW1lIH0gfSkuY291bnREb2N1bWVudHMoKVxuICAgIGluZm9yQ2FyZERhdGEucHVzaCh1c2VyTmV3Q291bnQpXG4gICAgaW5mb3JDYXJkRGF0YS5wdXNoKHBvc3RzQ291bnQpXG4gICAgaW5mb3JDYXJkRGF0YS5wdXNoKGNvbW1lbnRzTmV3Q291bnQpXG4gICAgaW5mb3JDYXJkRGF0YS5wdXNoKHdlZWtFbmRDb3VudClcbiAgICBpbmZvckNhcmREYXRhLnB1c2goc2lnbldlZWtDb3VudClcbiAgICBpbmZvckNhcmREYXRhLnB1c2gocG9zdFdlZWtDb3VudClcbiAgICAvLyAyLiDlt6bkvqfnmoTppbzlm77mlbDmja5cbiAgICBjb25zdCBwb3N0c0NhdGFsb2dDb3VudCA9IGF3YWl0IFBvc3QuYWdncmVnYXRlKFtcbiAgICAgIHsgJGdyb3VwOiB7IF9pZDogJyRjYXRhbG9nJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfVxuICAgIF0pXG4gICAgY29uc3QgcGllRGF0YSA9IHt9XG4gICAgcG9zdHNDYXRhbG9nQ291bnQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgcGllRGF0YVtpdGVtLl9pZF0gPSBpdGVtLmNvdW50XG4gICAgfSlcbiAgICAvLyAzLiDmnKzlkajnmoTlj7Pkvqfnu5/orqHmlbDmja5cbiAgICAvLyAzLjEg6K6h566XNuS4quaciOWJjeeahOaXtumXtO+8miAx5Y+3IDAwOjAwOjAwXG4gICAgLy8gMy4yIOafpeivouaVsOaNruW6k+S4reWvueW6lOaXtumXtOWGheeahOaVsOaNriAkZ3RlXG4gICAgLy8gMy4zIGdyb3Vw57uE5ZCIIC0+IHN1bSAtPiBzb3J05o6S5bqPXG4gICAgY29uc3Qgc3RhcnRNb250aCA9IG1vbWVudChub3daZXJvKS5zdWJ0cmFjdCg1LCAnTScpLmRhdGUoMSkuZm9ybWF0KClcbiAgICBjb25zdCBlbmRNb250aCA9IG1vbWVudChub3daZXJvKS5hZGQoMSwgJ00nKS5kYXRlKDEpLmZvcm1hdCgpXG4gICAgbGV0IG1vbnRoRGF0YSA9IGF3YWl0IFBvc3QuYWdncmVnYXRlKFtcbiAgICAgIHsgJG1hdGNoOiB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnRNb250aCksICRsdDogbmV3IERhdGUoZW5kTW9udGgpIH0gfSB9LFxuICAgICAgeyAkcHJvamVjdDogeyBtb250aDogeyAkZGF0ZVRvU3RyaW5nOiB7IGZvcm1hdDogJyVZLSVtJywgZGF0ZTogJyRjcmVhdGVkJyB9IH0gfSB9LFxuICAgICAgeyAkZ3JvdXA6IHsgX2lkOiAnJG1vbnRoJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfSxcbiAgICAgIHsgJHNvcnQ6IHsgX2lkOiAxIH0gfVxuICAgIF0pXG4gICAgbW9udGhEYXRhID0gbW9udGhEYXRhLnJlZHVjZSgob2JqLCBpdGVtKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5vYmosXG4gICAgICAgIFtpdGVtLl9pZF06IGl0ZW0uY291bnRcbiAgICAgIH1cbiAgICB9LCB7fSlcbiAgICAvLyA0LiDlupXpg6jnmoTmlbDmja5cbiAgICBjb25zdCBzdGFydERheSA9IG1vbWVudCgpLnN1YnRyYWN0KDcsICdkYXknKS5mb3JtYXQoKVxuICAgIGNvbnN0IF9hZ2dyZWdhdGUgPSBhc3luYyAobW9kZWwpID0+IHtcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBtb2RlbC5hZ2dyZWdhdGUoW1xuICAgICAgICB7ICRtYXRjaDogeyBjcmVhdGVkOiB7ICRndGU6IG5ldyBEYXRlKHN0YXJ0RGF5KSB9IH0gfSxcbiAgICAgICAgeyAkcHJvamVjdDogeyBtb250aDogeyAkZGF0ZVRvU3RyaW5nOiB7IGZvcm1hdDogJyVZLSVtLSVkJywgZGF0ZTogJyRjcmVhdGVkJyB9IH0gfSB9LFxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICckbW9udGgnLCBjb3VudDogeyAkc3VtOiAxIH0gfSB9LFxuICAgICAgICB7ICRzb3J0OiB7IF9pZDogMSB9IH1cbiAgICAgIF0pXG4gICAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKChvYmosIGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgW2l0ZW0uX2lkXTogaXRlbS5jb3VudFxuICAgICAgICB9XG4gICAgICB9LCB7fSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG4gICAgY29uc3QgdXNlcldlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShVc2VyKSAvLyAtPiB7IDIwMTktMTAtMDE6IDF9XG4gICAgY29uc3Qgc2lnbldlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShTaWduUmVjb3JkKVxuICAgIGNvbnN0IHBvc3RXZWVrRGF0YSA9IGF3YWl0IF9hZ2dyZWdhdGUoUG9zdClcbiAgICBjb25zdCBjb21tZW50c1dlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShDb21tZW50cylcbiAgICAvLyB7dXNlcjogWzEsMiwzLDQsMCwwLDBdfVxuICAgIGNvbnN0IGRhdGFBcnIgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDY7IGkrKykge1xuICAgICAgZGF0YUFyci5wdXNoKG1vbWVudCgpLnN1YnRyYWN0KDYgLSBpLCAnZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREJykpXG4gICAgfVxuICAgIGNvbnN0IGFkZERhdGEgPSAob2JqKSA9PiB7XG4gICAgICBjb25zdCBhcnIgPSBbXVxuICAgICAgZGF0YUFyci5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChvYmpbaXRlbV0pIHtcbiAgICAgICAgICBhcnIucHVzaChvYmpbaXRlbV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyLnB1c2goMClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiBhcnJcbiAgICB9XG4gICAgY29uc3Qgd2Vla0RhdGEgPSB7XG4gICAgICB1c2VyOiBhZGREYXRhKHVzZXJXZWVrRGF0YSksXG4gICAgICBzaWduOiBhZGREYXRhKHNpZ25XZWVrRGF0YSksXG4gICAgICBwb3N0OiBhZGREYXRhKHBvc3RXZWVrRGF0YSksXG4gICAgICBjb21tZW50czogYWRkRGF0YShjb21tZW50c1dlZWtEYXRhKVxuICAgIH1cbiAgICByZXN1bHQgPSB7XG4gICAgICBpbmZvckNhcmREYXRhLFxuICAgICAgcGllRGF0YSxcbiAgICAgIG1vbnRoRGF0YSxcbiAgICAgIHdlZWtEYXRhXG4gICAgfVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Q29tbWVudHNBbGwgKGN0eCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHFzLnBhcnNlKGN0eC5xdWVyeSlcbiAgICBsZXQgb3B0aW9ucyA9IHsgfVxuICAgIGlmIChwYXJhbXMub3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHBhcmFtcy5vcHRpb25zXG4gICAgfVxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcnNlSW50KHBhcmFtcy5wYWdlKSA6IDBcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAyMFxuICAgIC8vIOS9v+eUqE1vbmdvRELkuK3nmoTop4blm77vvIzmlYjnjofmj5DljYcx5YCNXG4gICAgLy8gY29uc3QgdGVzdCA9IGF3YWl0IENvbW1lbnRzVXNlcnMuZmluZCh7ICd1aWQubmFtZSc6IHsgJHJlZ2V4OiAnYWRtaW4xJywgJG9wdGlvbnM6ICdpJyB9IH0pXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNPcHRpb25zKG9wdGlvbnMsIHBhZ2UsIGxpbWl0KVxuICAgIGxldCB0b3RhbCA9IGF3YWl0IENvbW1lbnRzLmdldENvbW1lbnRzT3B0aW9uc0NvdW50KG9wdGlvbnMpXG4gICAgaWYgKHR5cGVvZiB0b3RhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh0b3RhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRvdGFsID0gdG90YWxbMF0uY291bnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvdGFsID0gMFxuICAgICAgfVxuICAgIH1cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIHRvdGFsXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29tbWVudHNCYXRjaCAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU1hbnkoXG4gICAgICB7IF9pZDogeyAkaW46IGJvZHkuaWRzIH0gfSxcbiAgICAgIHsgJHNldDogeyAuLi5ib2R5LnNldHRpbmdzIH0gfVxuICAgIClcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNvbW1lbnRzQmF0Y2ggKGN0eCkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5kZWxldGVNYW55KHsgX2lkOiB7ICRpbjogYm9keS5pZHMgfSB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJyxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWRtaW5Db250cm9sbGVyKClcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/AdminController.js\n");

/***/ }),

/***/ "./src/api/CommentsController.js":
/*!***************************************!*\
  !*** ./src/api/CommentsController.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/CommentsHands */ \"./src/model/CommentsHands.js\");\n\n\n\n\n\n\n\nconst canReply = async ctx => {\n  let result = false;\n  const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n\n  if (typeof obj._id === 'undefined') {\n    return result;\n  } else {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n\n    if (user.status === '0') {\n      result = true;\n    }\n\n    return result;\n  }\n};\n\nclass CommentsController {\n  // 获取评论列表\n  async getComments(ctx) {\n    const params = ctx.query;\n    const tid = params.tid;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    let result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommentsList(tid, page, limit); // 判断用户是否登录，已登录的用户才去判断点赞信息\n\n    let obj = {};\n\n    if (typeof ctx.header.authorization !== 'undefined') {\n      obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    }\n\n    if (typeof obj._id !== 'undefined') {\n      result = result.map(item => item.toJSON());\n\n      for (let i = 0; i < result.length; i++) {\n        let item = result[i];\n        item.handed = '0';\n        const commentsHands = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n          cid: item._id,\n          uid: obj._id\n        });\n\n        if (commentsHands && commentsHands.cid) {\n          if (commentsHands.uid === obj._id) {\n            item.handed = '1';\n          }\n        }\n      }\n    }\n\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].queryCount(tid);\n    ctx.body = {\n      code: 200,\n      total,\n      data: result,\n      msg: '查询成功'\n    };\n  } // 获取用户最近的评论记录\n\n\n  async getCommentPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommetsPublic(params.uid, params.page, parseInt(params.limit));\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '查询最近的评论记录成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询评论记录失败！'\n      };\n    }\n  } // 添加评论\n\n\n  async addComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"checkCode\"])(sid, code);\n\n    if (!result) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查！'\n      };\n      return;\n    }\n\n    const newComment = new _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    newComment.cuid = obj._id; // 查询帖子的作者，以便发送消息\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: body.tid\n    });\n    newComment.uid = post.uid;\n    const comment = await newComment.save();\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTotal(post.uid);\n    global.ws.send(post.uid, JSON.stringify({\n      event: 'message',\n      message: num\n    })); // 评论记数\n\n    const updatePostresult = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body.tid\n    }, {\n      $inc: {\n        answer: 1\n      }\n    });\n\n    if (comment._id && updatePostresult.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: comment,\n        msg: '评论成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '评论失败'\n      };\n    }\n  }\n\n  async updateComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body.cid\n    }, {\n      $set: body\n    });\n    ctx.body = {\n      code: 200,\n      msg: '修改成功',\n      data: result\n    };\n  }\n\n  async setBest(ctx) {\n    // 对用户权限的判断，post uid -> header id\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id !== '') {\n      ctx.body = {\n        code: '401',\n        msg: '用户未登录，或者用户未受权'\n      };\n      return;\n    }\n\n    const params = ctx.query;\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: params.tid\n    });\n\n    if (post.uid === obj._id && post.isEnd === '0') {\n      // 说明这是作者本人，可以去设置isBest\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n        _id: params.tid\n      }, {\n        $set: {\n          isEnd: '1'\n        }\n      });\n      const result1 = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n        _id: params.cid\n      }, {\n        $set: {\n          isBest: '1'\n        }\n      });\n\n      if (result.ok === 1 && result1.ok === 1) {\n        // 把积分值给采纳的用户\n        const comment = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByCid(params.cid);\n        const result2 = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n          _id: comment.cuid\n        }, {\n          $inc: {\n            favs: parseInt(post.fav)\n          }\n        });\n\n        if (result2.ok === 1) {\n          ctx.body = {\n            code: 200,\n            msg: '设置成功',\n            data: result2\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            msg: '设置最佳答案-更新用户失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '设置失败',\n          data: { ...result,\n            ...result1\n          }\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '帖子已结贴，无法重复设置'\n      };\n    }\n  }\n\n  async setHands(ctx) {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    const params = ctx.query; // 判断用户是否已经点赞\n\n    const tmp = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      cid: params.cid,\n      uid: obj._id\n    });\n\n    if (tmp.length > 0) {\n      ctx.body = {\n        code: 500,\n        msg: '您已经点赞，请勿重复点赞'\n      };\n      return;\n    } // 新增一条点赞记录\n\n\n    const newHands = new _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      cid: params.cid,\n      uid: obj._id\n    });\n    const data = await newHands.save(); // 更新comments表中对应的记录的hands信息 +1\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.cid\n    }, {\n      $inc: {\n        hands: 1\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '点赞成功',\n        data: data\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '保存点赞记录失败！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CommentsController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbW1lbnRzQ29udHJvbGxlci5qcz9kNGI0Il0sIm5hbWVzIjpbImNhblJlcGx5IiwiY3R4IiwicmVzdWx0Iiwib2JqIiwiZ2V0SldUUGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJfaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwic3RhdHVzIiwiQ29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJwYXJhbXMiLCJxdWVyeSIsInRpZCIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50IiwiQ29tbWVudHMiLCJnZXRDb21tZW50c0xpc3QiLCJtYXAiLCJpdGVtIiwidG9KU09OIiwiaSIsImxlbmd0aCIsImhhbmRlZCIsImNvbW1lbnRzSGFuZHMiLCJDb21tZW50c0hhbmRzIiwiZmluZE9uZSIsImNpZCIsInVpZCIsInRvdGFsIiwicXVlcnlDb3VudCIsImJvZHkiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldENvbW1lbnRQdWJsaWMiLCJnZXRDb21tZXRzUHVibGljIiwiYWRkQ29tbWVudCIsImNoZWNrIiwicmVxdWVzdCIsInNpZCIsImNoZWNrQ29kZSIsIm5ld0NvbW1lbnQiLCJjdWlkIiwicG9zdCIsIlBvc3QiLCJjb21tZW50Iiwic2F2ZSIsIm51bSIsImdldFRvdGFsIiwiZ2xvYmFsIiwid3MiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsImV2ZW50IiwibWVzc2FnZSIsInVwZGF0ZVBvc3RyZXN1bHQiLCJ1cGRhdGVPbmUiLCIkaW5jIiwiYW5zd2VyIiwib2siLCJ1cGRhdGVDb21tZW50IiwiJHNldCIsInNldEJlc3QiLCJpc0VuZCIsInJlc3VsdDEiLCJpc0Jlc3QiLCJmaW5kQnlDaWQiLCJyZXN1bHQyIiwiZmF2cyIsImZhdiIsInNldEhhbmRzIiwidG1wIiwiZmluZCIsIm5ld0hhbmRzIiwiaGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxRQUFRLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQzlCLElBQUlDLE1BQU0sR0FBRyxLQUFiO0VBQ0EsTUFBTUMsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNILEdBQUcsQ0FBQ0ksTUFBSixDQUFXQyxhQUFaLENBQS9COztFQUNBLElBQUksT0FBT0gsR0FBRyxDQUFDSSxHQUFYLEtBQW1CLFdBQXZCLEVBQW9DO0lBQ2xDLE9BQU9MLE1BQVA7RUFDRCxDQUZELE1BRU87SUFDTCxNQUFNTSxJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ0MsUUFBTCxDQUFjUCxHQUFHLENBQUNJLEdBQWxCLENBQW5COztJQUNBLElBQUlDLElBQUksQ0FBQ0csTUFBTCxLQUFnQixHQUFwQixFQUF5QjtNQUN2QlQsTUFBTSxHQUFHLElBQVQ7SUFDRDs7SUFDRCxPQUFPQSxNQUFQO0VBQ0Q7QUFDRixDQVpEOztBQWNBLE1BQU1VLGtCQUFOLENBQXlCO0VBQ3ZCO0VBQ2lCLE1BQVhDLFdBQVcsQ0FBRVosR0FBRixFQUFPO0lBQ3RCLE1BQU1hLE1BQU0sR0FBR2IsR0FBRyxDQUFDYyxLQUFuQjtJQUNBLE1BQU1DLEdBQUcsR0FBR0YsTUFBTSxDQUFDRSxHQUFuQjtJQUNBLE1BQU1DLElBQUksR0FBR0gsTUFBTSxDQUFDRyxJQUFQLEdBQWNILE1BQU0sQ0FBQ0csSUFBckIsR0FBNEIsQ0FBekM7SUFDQSxNQUFNQyxLQUFLLEdBQUdKLE1BQU0sQ0FBQ0ksS0FBUCxHQUFlQyxRQUFRLENBQUNMLE1BQU0sQ0FBQ0ksS0FBUixDQUF2QixHQUF3QyxFQUF0RDtJQUNBLElBQUloQixNQUFNLEdBQUcsTUFBTWtCLHVEQUFRLENBQUNDLGVBQVQsQ0FBeUJMLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsS0FBcEMsQ0FBbkIsQ0FMc0IsQ0FNdEI7O0lBQ0EsSUFBSWYsR0FBRyxHQUFHLEVBQVY7O0lBQ0EsSUFBSSxPQUFPRixHQUFHLENBQUNJLE1BQUosQ0FBV0MsYUFBbEIsS0FBb0MsV0FBeEMsRUFBcUQ7TUFDbkRILEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDSCxHQUFHLENBQUNJLE1BQUosQ0FBV0MsYUFBWixDQUF6QjtJQUNEOztJQUNELElBQUksT0FBT0gsR0FBRyxDQUFDSSxHQUFYLEtBQW1CLFdBQXZCLEVBQW9DO01BQ2xDTCxNQUFNLEdBQUdBLE1BQU0sQ0FBQ29CLEdBQVAsQ0FBV0MsSUFBSSxJQUFJQSxJQUFJLENBQUNDLE1BQUwsRUFBbkIsQ0FBVDs7TUFDQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUd2QixNQUFNLENBQUN3QixNQUEzQixFQUFtQ0QsQ0FBQyxFQUFwQyxFQUF3QztRQUN0QyxJQUFJRixJQUFJLEdBQUdyQixNQUFNLENBQUN1QixDQUFELENBQWpCO1FBQ0FGLElBQUksQ0FBQ0ksTUFBTCxHQUFjLEdBQWQ7UUFDQSxNQUFNQyxhQUFhLEdBQUcsTUFBTUMsNERBQWEsQ0FBQ0MsT0FBZCxDQUFzQjtVQUFFQyxHQUFHLEVBQUVSLElBQUksQ0FBQ2hCLEdBQVo7VUFBaUJ5QixHQUFHLEVBQUU3QixHQUFHLENBQUNJO1FBQTFCLENBQXRCLENBQTVCOztRQUNBLElBQUlxQixhQUFhLElBQUlBLGFBQWEsQ0FBQ0csR0FBbkMsRUFBd0M7VUFDdEMsSUFBSUgsYUFBYSxDQUFDSSxHQUFkLEtBQXNCN0IsR0FBRyxDQUFDSSxHQUE5QixFQUFtQztZQUNqQ2dCLElBQUksQ0FBQ0ksTUFBTCxHQUFjLEdBQWQ7VUFDRDtRQUNGO01BQ0Y7SUFDRjs7SUFDRCxNQUFNTSxLQUFLLEdBQUcsTUFBTWIsdURBQVEsQ0FBQ2MsVUFBVCxDQUFvQmxCLEdBQXBCLENBQXBCO0lBQ0FmLEdBQUcsQ0FBQ2tDLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUSCxLQUZTO01BR1RJLElBQUksRUFBRW5DLE1BSEc7TUFJVG9DLEdBQUcsRUFBRTtJQUpJLENBQVg7RUFNRCxDQWpDc0IsQ0FtQ3ZCOzs7RUFDc0IsTUFBaEJDLGdCQUFnQixDQUFFdEMsR0FBRixFQUFPO0lBQzNCLE1BQU1hLE1BQU0sR0FBR2IsR0FBRyxDQUFDYyxLQUFuQjtJQUNBLE1BQU1iLE1BQU0sR0FBRyxNQUFNa0IsdURBQVEsQ0FBQ29CLGdCQUFULENBQTBCMUIsTUFBTSxDQUFDa0IsR0FBakMsRUFBc0NsQixNQUFNLENBQUNHLElBQTdDLEVBQW1ERSxRQUFRLENBQUNMLE1BQU0sQ0FBQ0ksS0FBUixDQUEzRCxDQUFyQjs7SUFDQSxJQUFJaEIsTUFBTSxDQUFDd0IsTUFBUCxHQUFnQixDQUFwQixFQUF1QjtNQUNyQnpCLEdBQUcsQ0FBQ2tDLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVUQyxJQUFJLEVBQUVuQyxNQUZHO1FBR1RvQyxHQUFHLEVBQUU7TUFISSxDQUFYO0lBS0QsQ0FORCxNQU1PO01BQ0xyQyxHQUFHLENBQUNrQyxJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVEUsR0FBRyxFQUFFO01BRkksQ0FBWDtJQUlEO0VBQ0YsQ0FuRHNCLENBcUR2Qjs7O0VBQ2dCLE1BQVZHLFVBQVUsQ0FBRXhDLEdBQUYsRUFBTztJQUNyQixNQUFNeUMsS0FBSyxHQUFHLE1BQU0xQyxRQUFRLENBQUNDLEdBQUQsQ0FBNUI7O0lBQ0EsSUFBSSxDQUFDeUMsS0FBTCxFQUFZO01BQ1Z6QyxHQUFHLENBQUNrQyxJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVEUsR0FBRyxFQUFFO01BRkksQ0FBWDtNQUlBO0lBQ0Q7O0lBQ0QsTUFBTTtNQUFFSDtJQUFGLElBQVdsQyxHQUFHLENBQUMwQyxPQUFyQjtJQUNBLE1BQU1DLEdBQUcsR0FBR1QsSUFBSSxDQUFDUyxHQUFqQjtJQUNBLE1BQU1SLElBQUksR0FBR0QsSUFBSSxDQUFDQyxJQUFsQixDQVhxQixDQVlyQjs7SUFDQSxNQUFNbEMsTUFBTSxHQUFHLE1BQU0yQywrREFBUyxDQUFDRCxHQUFELEVBQU1SLElBQU4sQ0FBOUI7O0lBQ0EsSUFBSSxDQUFDbEMsTUFBTCxFQUFhO01BQ1hELEdBQUcsQ0FBQ2tDLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVURSxHQUFHLEVBQUU7TUFGSSxDQUFYO01BSUE7SUFDRDs7SUFDRCxNQUFNUSxVQUFVLEdBQUcsSUFBSTFCLHVEQUFKLENBQWFlLElBQWIsQ0FBbkI7SUFDQSxNQUFNaEMsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNILEdBQUcsQ0FBQ0ksTUFBSixDQUFXQyxhQUFaLENBQS9CO0lBQ0F3QyxVQUFVLENBQUNDLElBQVgsR0FBa0I1QyxHQUFHLENBQUNJLEdBQXRCLENBdkJxQixDQXdCckI7O0lBQ0EsTUFBTXlDLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDbkIsT0FBTCxDQUFhO01BQUV2QixHQUFHLEVBQUU0QixJQUFJLENBQUNuQjtJQUFaLENBQWIsQ0FBbkI7SUFDQThCLFVBQVUsQ0FBQ2QsR0FBWCxHQUFpQmdCLElBQUksQ0FBQ2hCLEdBQXRCO0lBQ0EsTUFBTWtCLE9BQU8sR0FBRyxNQUFNSixVQUFVLENBQUNLLElBQVgsRUFBdEI7SUFDQSxNQUFNQyxHQUFHLEdBQUcsTUFBTWhDLHVEQUFRLENBQUNpQyxRQUFULENBQWtCTCxJQUFJLENBQUNoQixHQUF2QixDQUFsQjtJQUNBc0IsTUFBTSxDQUFDQyxFQUFQLENBQVVDLElBQVYsQ0FBZVIsSUFBSSxDQUFDaEIsR0FBcEIsRUFBeUJ5QixJQUFJLENBQUNDLFNBQUwsQ0FBZTtNQUN0Q0MsS0FBSyxFQUFFLFNBRCtCO01BRXRDQyxPQUFPLEVBQUVSO0lBRjZCLENBQWYsQ0FBekIsRUE3QnFCLENBaUNyQjs7SUFDQSxNQUFNUyxnQkFBZ0IsR0FBRyxNQUFNWixtREFBSSxDQUFDYSxTQUFMLENBQWU7TUFBRXZELEdBQUcsRUFBRTRCLElBQUksQ0FBQ25CO0lBQVosQ0FBZixFQUFrQztNQUFFK0MsSUFBSSxFQUFFO1FBQUVDLE1BQU0sRUFBRTtNQUFWO0lBQVIsQ0FBbEMsQ0FBL0I7O0lBQ0EsSUFBSWQsT0FBTyxDQUFDM0MsR0FBUixJQUFlc0QsZ0JBQWdCLENBQUNJLEVBQWpCLEtBQXdCLENBQTNDLEVBQThDO01BQzVDaEUsR0FBRyxDQUFDa0MsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRDLElBQUksRUFBRWEsT0FGRztRQUdUWixHQUFHLEVBQUU7TUFISSxDQUFYO0lBS0QsQ0FORCxNQU1PO01BQ0xyQyxHQUFHLENBQUNrQyxJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVEUsR0FBRyxFQUFFO01BRkksQ0FBWDtJQUlEO0VBQ0Y7O0VBRWtCLE1BQWI0QixhQUFhLENBQUVqRSxHQUFGLEVBQU87SUFDeEIsTUFBTXlDLEtBQUssR0FBRyxNQUFNMUMsUUFBUSxDQUFDQyxHQUFELENBQTVCOztJQUNBLElBQUksQ0FBQ3lDLEtBQUwsRUFBWTtNQUNWekMsR0FBRyxDQUFDa0MsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRFLEdBQUcsRUFBRTtNQUZJLENBQVg7TUFJQTtJQUNEOztJQUNELE1BQU07TUFBRUg7SUFBRixJQUFXbEMsR0FBRyxDQUFDMEMsT0FBckI7SUFDQSxNQUFNekMsTUFBTSxHQUFHLE1BQU1rQix1REFBUSxDQUFDMEMsU0FBVCxDQUFtQjtNQUFFdkQsR0FBRyxFQUFFNEIsSUFBSSxDQUFDSjtJQUFaLENBQW5CLEVBQXNDO01BQUVvQyxJQUFJLEVBQUVoQztJQUFSLENBQXRDLENBQXJCO0lBQ0FsQyxHQUFHLENBQUNrQyxJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVEUsR0FBRyxFQUFFLE1BRkk7TUFHVEQsSUFBSSxFQUFFbkM7SUFIRyxDQUFYO0VBS0Q7O0VBRVksTUFBUGtFLE9BQU8sQ0FBRW5FLEdBQUYsRUFBTztJQUNsQjtJQUNBLE1BQU1FLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDSCxHQUFHLENBQUNJLE1BQUosQ0FBV0MsYUFBWixDQUEvQjs7SUFDQSxJQUFJLE9BQU9ILEdBQVAsS0FBZSxXQUFmLElBQThCQSxHQUFHLENBQUNJLEdBQUosS0FBWSxFQUE5QyxFQUFrRDtNQUNoRE4sR0FBRyxDQUFDa0MsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxLQURHO1FBRVRFLEdBQUcsRUFBRTtNQUZJLENBQVg7TUFJQTtJQUNEOztJQUNELE1BQU14QixNQUFNLEdBQUdiLEdBQUcsQ0FBQ2MsS0FBbkI7SUFDQSxNQUFNaUMsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNuQixPQUFMLENBQWE7TUFBRXZCLEdBQUcsRUFBRU8sTUFBTSxDQUFDRTtJQUFkLENBQWIsQ0FBbkI7O0lBQ0EsSUFBSWdDLElBQUksQ0FBQ2hCLEdBQUwsS0FBYTdCLEdBQUcsQ0FBQ0ksR0FBakIsSUFBd0J5QyxJQUFJLENBQUNxQixLQUFMLEtBQWUsR0FBM0MsRUFBZ0Q7TUFDOUM7TUFDQSxNQUFNbkUsTUFBTSxHQUFHLE1BQU0rQyxtREFBSSxDQUFDYSxTQUFMLENBQWU7UUFBRXZELEdBQUcsRUFBRU8sTUFBTSxDQUFDRTtNQUFkLENBQWYsRUFBb0M7UUFDdkRtRCxJQUFJLEVBQUU7VUFDSkUsS0FBSyxFQUFFO1FBREg7TUFEaUQsQ0FBcEMsQ0FBckI7TUFLQSxNQUFNQyxPQUFPLEdBQUcsTUFBTWxELHVEQUFRLENBQUMwQyxTQUFULENBQW1CO1FBQUV2RCxHQUFHLEVBQUVPLE1BQU0sQ0FBQ2lCO01BQWQsQ0FBbkIsRUFBd0M7UUFBRW9DLElBQUksRUFBRTtVQUFFSSxNQUFNLEVBQUU7UUFBVjtNQUFSLENBQXhDLENBQXRCOztNQUNBLElBQUlyRSxNQUFNLENBQUMrRCxFQUFQLEtBQWMsQ0FBZCxJQUFtQkssT0FBTyxDQUFDTCxFQUFSLEtBQWUsQ0FBdEMsRUFBeUM7UUFDdkM7UUFDQSxNQUFNZixPQUFPLEdBQUcsTUFBTTlCLHVEQUFRLENBQUNvRCxTQUFULENBQW1CMUQsTUFBTSxDQUFDaUIsR0FBMUIsQ0FBdEI7UUFDQSxNQUFNMEMsT0FBTyxHQUFHLE1BQU1oRSxtREFBSSxDQUFDcUQsU0FBTCxDQUFlO1VBQUV2RCxHQUFHLEVBQUUyQyxPQUFPLENBQUNIO1FBQWYsQ0FBZixFQUFzQztVQUFFZ0IsSUFBSSxFQUFFO1lBQUVXLElBQUksRUFBRXZELFFBQVEsQ0FBQzZCLElBQUksQ0FBQzJCLEdBQU47VUFBaEI7UUFBUixDQUF0QyxDQUF0Qjs7UUFDQSxJQUFJRixPQUFPLENBQUNSLEVBQVIsS0FBZSxDQUFuQixFQUFzQjtVQUNwQmhFLEdBQUcsQ0FBQ2tDLElBQUosR0FBVztZQUNUQyxJQUFJLEVBQUUsR0FERztZQUVURSxHQUFHLEVBQUUsTUFGSTtZQUdURCxJQUFJLEVBQUVvQztVQUhHLENBQVg7UUFLRCxDQU5ELE1BTU87VUFDTHhFLEdBQUcsQ0FBQ2tDLElBQUosR0FBVztZQUNUQyxJQUFJLEVBQUUsR0FERztZQUVURSxHQUFHLEVBQUU7VUFGSSxDQUFYO1FBSUQ7TUFDRixDQWhCRCxNQWdCTztRQUNMckMsR0FBRyxDQUFDa0MsSUFBSixHQUFXO1VBQ1RDLElBQUksRUFBRSxHQURHO1VBRVRFLEdBQUcsRUFBRSxNQUZJO1VBR1RELElBQUksRUFBRSxFQUFFLEdBQUduQyxNQUFMO1lBQWEsR0FBR29FO1VBQWhCO1FBSEcsQ0FBWDtNQUtEO0lBQ0YsQ0EvQkQsTUErQk87TUFDTHJFLEdBQUcsQ0FBQ2tDLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVURSxHQUFHLEVBQUU7TUFGSSxDQUFYO0lBSUQ7RUFDRjs7RUFFYSxNQUFSc0MsUUFBUSxDQUFFM0UsR0FBRixFQUFPO0lBQ25CLE1BQU1FLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDSCxHQUFHLENBQUNJLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtJQUNBLE1BQU1RLE1BQU0sR0FBR2IsR0FBRyxDQUFDYyxLQUFuQixDQUZtQixDQUduQjs7SUFDQSxNQUFNOEQsR0FBRyxHQUFHLE1BQU1oRCw0REFBYSxDQUFDaUQsSUFBZCxDQUFtQjtNQUFFL0MsR0FBRyxFQUFFakIsTUFBTSxDQUFDaUIsR0FBZDtNQUFtQkMsR0FBRyxFQUFFN0IsR0FBRyxDQUFDSTtJQUE1QixDQUFuQixDQUFsQjs7SUFDQSxJQUFJc0UsR0FBRyxDQUFDbkQsTUFBSixHQUFhLENBQWpCLEVBQW9CO01BQ2xCekIsR0FBRyxDQUFDa0MsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRFLEdBQUcsRUFBRTtNQUZJLENBQVg7TUFJQTtJQUNELENBWGtCLENBWW5COzs7SUFDQSxNQUFNeUMsUUFBUSxHQUFHLElBQUlsRCw0REFBSixDQUFrQjtNQUNqQ0UsR0FBRyxFQUFFakIsTUFBTSxDQUFDaUIsR0FEcUI7TUFFakNDLEdBQUcsRUFBRTdCLEdBQUcsQ0FBQ0k7SUFGd0IsQ0FBbEIsQ0FBakI7SUFJQSxNQUFNOEIsSUFBSSxHQUFHLE1BQU0wQyxRQUFRLENBQUM1QixJQUFULEVBQW5CLENBakJtQixDQWtCbkI7O0lBQ0EsTUFBTWpELE1BQU0sR0FBRyxNQUFNa0IsdURBQVEsQ0FBQzBDLFNBQVQsQ0FBbUI7TUFBRXZELEdBQUcsRUFBRU8sTUFBTSxDQUFDaUI7SUFBZCxDQUFuQixFQUF3QztNQUFFZ0MsSUFBSSxFQUFFO1FBQUVpQixLQUFLLEVBQUU7TUFBVDtJQUFSLENBQXhDLENBQXJCOztJQUNBLElBQUk5RSxNQUFNLENBQUMrRCxFQUFQLEtBQWMsQ0FBbEIsRUFBcUI7TUFDbkJoRSxHQUFHLENBQUNrQyxJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVEUsR0FBRyxFQUFFLE1BRkk7UUFHVEQsSUFBSSxFQUFFQTtNQUhHLENBQVg7SUFLRCxDQU5ELE1BTU87TUFDTHBDLEdBQUcsQ0FBQ2tDLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVURSxHQUFHLEVBQUU7TUFGSSxDQUFYO0lBSUQ7RUFDRjs7QUE1TXNCOztBQStNVixtRUFBSTFCLGtCQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0NvbW1lbnRzQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tZW50cyBmcm9tICcuLi9tb2RlbC9Db21tZW50cydcbmltcG9ydCBQb3N0IGZyb20gJy4uL21vZGVsL1Bvc3QnXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xuaW1wb3J0IHsgY2hlY2tDb2RlIH0gZnJvbSAnQC9jb21tb24vVXRpbHMnXG5pbXBvcnQgeyBnZXRKV1RQYXlsb2FkIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xuaW1wb3J0IENvbW1lbnRzSGFuZHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHNIYW5kcydcblxuY29uc3QgY2FuUmVwbHkgPSBhc3luYyAoY3R4KSA9PiB7XG4gIGxldCByZXN1bHQgPSBmYWxzZVxuICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgaWYgKHR5cGVvZiBvYmouX2lkID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiByZXN1bHRcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRChvYmouX2lkKVxuICAgIGlmICh1c2VyLnN0YXR1cyA9PT0gJzAnKSB7XG4gICAgICByZXN1bHQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG5jbGFzcyBDb21tZW50c0NvbnRyb2xsZXIge1xuICAvLyDojrflj5bor4TorrrliJfooahcbiAgYXN5bmMgZ2V0Q29tbWVudHMgKGN0eCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgIGNvbnN0IHRpZCA9IHBhcmFtcy50aWRcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRDb21tZW50c0xpc3QodGlkLCBwYWdlLCBsaW1pdClcbiAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKbnmbvlvZXvvIzlt7LnmbvlvZXnmoTnlKjmiLfmiY3ljrvliKTmlq3ngrnotZ7kv6Hmga9cbiAgICBsZXQgb2JqID0ge31cbiAgICBpZiAodHlwZW9mIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iai5faWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBpdGVtID0gcmVzdWx0W2ldXG4gICAgICAgIGl0ZW0uaGFuZGVkID0gJzAnXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzSGFuZHMgPSBhd2FpdCBDb21tZW50c0hhbmRzLmZpbmRPbmUoeyBjaWQ6IGl0ZW0uX2lkLCB1aWQ6IG9iai5faWQgfSlcbiAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMgJiYgY29tbWVudHNIYW5kcy5jaWQpIHtcbiAgICAgICAgICBpZiAoY29tbWVudHNIYW5kcy51aWQgPT09IG9iai5faWQpIHtcbiAgICAgICAgICAgIGl0ZW0uaGFuZGVkID0gJzEnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgQ29tbWVudHMucXVlcnlDb3VudCh0aWQpXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICB0b3RhbCxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIG1zZzogJ+afpeivouaIkOWKnydcbiAgICB9XG4gIH1cblxuICAvLyDojrflj5bnlKjmiLfmnIDov5HnmoTor4TorrrorrDlvZVcbiAgYXN5bmMgZ2V0Q29tbWVudFB1YmxpYyAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWV0c1B1YmxpYyhwYXJhbXMudWlkLCBwYXJhbXMucGFnZSwgcGFyc2VJbnQocGFyYW1zLmxpbWl0KSlcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgbXNnOiAn5p+l6K+i5pyA6L+R55qE6K+E6K666K6w5b2V5oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfmn6Xor6Lor4TorrrorrDlvZXlpLHotKXvvIEnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g5re75Yqg6K+E6K66XG4gIGFzeW5jIGFkZENvbW1lbnQgKGN0eCkge1xuICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgY2FuUmVwbHkoY3R4KVxuICAgIGlmICghY2hlY2spIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+eUqOaIt+W3suiiq+emgeiogO+8gSdcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcbiAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB5LiN5q2j56GuLOivt+ajgOafpe+8gSdcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBuZXdDb21tZW50ID0gbmV3IENvbW1lbnRzKGJvZHkpXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgbmV3Q29tbWVudC5jdWlkID0gb2JqLl9pZFxuICAgIC8vIOafpeivouW4luWtkOeahOS9nOiAhe+8jOS7peS+v+WPkemAgea2iOaBr1xuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IGJvZHkudGlkIH0pXG4gICAgbmV3Q29tbWVudC51aWQgPSBwb3N0LnVpZFxuICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBuZXdDb21tZW50LnNhdmUoKVxuICAgIGNvbnN0IG51bSA9IGF3YWl0IENvbW1lbnRzLmdldFRvdGFsKHBvc3QudWlkKVxuICAgIGdsb2JhbC53cy5zZW5kKHBvc3QudWlkLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBldmVudDogJ21lc3NhZ2UnLFxuICAgICAgbWVzc2FnZTogbnVtXG4gICAgfSkpXG4gICAgLy8g6K+E6K666K6w5pWwXG4gICAgY29uc3QgdXBkYXRlUG9zdHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHsgX2lkOiBib2R5LnRpZCB9LCB7ICRpbmM6IHsgYW5zd2VyOiAxIH0gfSlcbiAgICBpZiAoY29tbWVudC5faWQgJiYgdXBkYXRlUG9zdHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogY29tbWVudCxcbiAgICAgICAgbXNnOiAn6K+E6K665oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfor4TorrrlpLHotKUnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29tbWVudCAoY3R4KSB7XG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCBjYW5SZXBseShjdHgpXG4gICAgaWYgKCFjaGVjaykge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgbXNnOiAn55So5oi35bey6KKr56aB6KiA77yBJ1xuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuY2lkIH0sIHsgJHNldDogYm9keSB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbXNnOiAn5L+u5pS55oiQ5YqfJyxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNldEJlc3QgKGN0eCkge1xuICAgIC8vIOWvueeUqOaIt+adg+mZkOeahOWIpOaWre+8jHBvc3QgdWlkIC0+IGhlYWRlciBpZFxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyAmJiBvYmouX2lkICE9PSAnJykge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6ICc0MDEnLFxuICAgICAgICBtc2c6ICfnlKjmiLfmnKrnmbvlvZXvvIzmiJbogIXnlKjmiLfmnKrlj5fmnYMnXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogcGFyYW1zLnRpZCB9KVxuICAgIGlmIChwb3N0LnVpZCA9PT0gb2JqLl9pZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcbiAgICAgIC8vIOivtOaYjui/meaYr+S9nOiAheacrOS6uu+8jOWPr+S7peWOu+iuvue9rmlzQmVzdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoeyBfaWQ6IHBhcmFtcy50aWQgfSwge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgaXNFbmQ6ICcxJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU9uZSh7IF9pZDogcGFyYW1zLmNpZCB9LCB7ICRzZXQ6IHsgaXNCZXN0OiAnMScgfSB9KVxuICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSAmJiByZXN1bHQxLm9rID09PSAxKSB7XG4gICAgICAgIC8vIOaKiuenr+WIhuWAvOe7memHh+e6s+eahOeUqOaIt1xuICAgICAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgQ29tbWVudHMuZmluZEJ5Q2lkKHBhcmFtcy5jaWQpXG4gICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7IF9pZDogY29tbWVudC5jdWlkIH0sIHsgJGluYzogeyBmYXZzOiBwYXJzZUludChwb3N0LmZhdikgfSB9KVxuICAgICAgICBpZiAocmVzdWx0Mi5vayA9PT0gMSkge1xuICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgbXNnOiAn6K6+572u5oiQ5YqfJyxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdDJcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgICBtc2c6ICforr7nva7mnIDkvbPnrZTmoYgt5pu05paw55So5oi35aSx6LSlJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgIG1zZzogJ+iuvue9ruWksei0pScsXG4gICAgICAgICAgZGF0YTogeyAuLi5yZXN1bHQsIC4uLnJlc3VsdDEgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+W4luWtkOW3sue7k+i0tO+8jOaXoOazlemHjeWkjeiuvue9ridcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBzZXRIYW5kcyAoY3R4KSB7XG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5bey57uP54K56LWeXG4gICAgY29uc3QgdG1wID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kKHsgY2lkOiBwYXJhbXMuY2lkLCB1aWQ6IG9iai5faWQgfSlcbiAgICBpZiAodG1wLmxlbmd0aCA+IDApIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+aCqOW3sue7j+eCuei1nu+8jOivt+WLv+mHjeWkjeeCuei1nidcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyDmlrDlop7kuIDmnaHngrnotZ7orrDlvZVcbiAgICBjb25zdCBuZXdIYW5kcyA9IG5ldyBDb21tZW50c0hhbmRzKHtcbiAgICAgIGNpZDogcGFyYW1zLmNpZCxcbiAgICAgIHVpZDogb2JqLl9pZFxuICAgIH0pXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IG5ld0hhbmRzLnNhdmUoKVxuICAgIC8vIOabtOaWsGNvbW1lbnRz6KGo5Lit5a+55bqU55qE6K6w5b2V55qEaGFuZHPkv6Hmga8gKzFcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoeyBfaWQ6IHBhcmFtcy5jaWQgfSwgeyAkaW5jOiB7IGhhbmRzOiAxIH0gfSlcbiAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtc2c6ICfngrnotZ7miJDlip8nLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+S/neWtmOeCuei1nuiusOW9leWksei0pe+8gSdcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbW1lbnRzQ29udHJvbGxlcigpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/CommentsController.js\n");

/***/ }),

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Links__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Links */ \"./src/model/Links.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! make-dir */ \"make-dir\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(make_dir__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_PostTags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/model/PostTags */ \"./src/model/PostTags.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n // method1\n// import { dirExists } from '@/common/Utils'\n\n\n\n\n\n\n\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = qs__WEBPACK_IMPORTED_MODULE_11___default.a.parse(ctx.query);\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (body.title) {\n      options.title = {\n        $regex: body.title\n      };\n    }\n\n    if (body.catalog && body.catalog.length > 0) {\n      options.catalog = {\n        $in: body.catalog\n      };\n    }\n\n    if (body.isTop) {\n      options.isTop = body.isTop;\n    }\n\n    if (body.isEnd) {\n      options.isEnd = body.isEnd;\n    }\n\n    if (body.status) {\n      options.status = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    }\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getList(options, sort, page, limit);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countList(options);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功',\n      total: total\n    };\n  } // 查询友链\n\n\n  async getLinks(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片\n\n\n  async uploadImg(ctx) {\n    const file = ctx.request.files.file; // 图片名称、图片格式、存储的位置，返回前台一可以读取的路径\n\n    const ext = file.name.split('.').pop();\n    const dir = `${_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"].uploadPath}/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}`; // 判断路径是否存在，不存在则创建\n\n    await make_dir__WEBPACK_IMPORTED_MODULE_6___default()(dir); // 存储文件到指定的路径\n    // 给文件一个唯一的名称\n\n    const picname = Object(uuid__WEBPACK_IMPORTED_MODULE_3__[\"v4\"])();\n    const destPath = `${dir}/${picname}.${ext}`;\n    const reader = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createReadStream(file.path);\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createWriteStream(destPath);\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}/${picname}.${ext}`; // method 1\n\n    reader.pipe(upStream); // const stat = fs.statSync(file.path)\n    // method 2\n    // let totalLength = 0\n    // reader.on('data', (chunk) => {\n    //   totalLength += chunk.length\n    //   if (upStream.write(chunk) === false) {\n    //     reader.pause()\n    //   }\n    // })\n    // upStream.on('drain', () => {\n    //   reader.resume()\n    // })\n    // reader.on('end', () => {\n    //   upStream.end()\n    // })\n\n    ctx.body = {\n      code: 200,\n      msg: '图片上传成功',\n      data: filePath\n    };\n  } // 添加新贴\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTPayload\"])(ctx.header.authorization); // 判断用户的积分数是否 > fav，否则，提示用户积分不足发贴\n      // 用户积分足够的时候，新建Post，减除用户对应的积分\n\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_8__[\"default\"].findByID({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        await _model_User__WEBPACK_IMPORTED_MODULE_8__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '成功的保存的文章',\n        data: result\n      };\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 更新帖子\n\n\n  async updatePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTPayload\"])(ctx.header.authorization); // 判断帖子作者是否为本人\n\n      const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n        _id: body.tid\n      }); // 判断帖子是否结贴\n\n      if (post.uid === obj._id && post.isEnd === '0') {\n        const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n          _id: body.tid\n        }, body);\n\n        if (result.ok === 1) {\n          ctx.body = {\n            code: 200,\n            data: result,\n            msg: '更新帖子成功'\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            data: result,\n            msg: '编辑帖子，更新失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '没有操作的权限'\n        };\n      }\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  }\n\n  async updatePostByTid(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '更新帖子成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        data: result,\n        msg: '编辑帖子，更新失败'\n      };\n    }\n  } // 获取文章详情\n\n\n  async getPostDetail(ctx) {\n    const params = ctx.query;\n\n    if (!params.tid) {\n      ctx.body = {\n        code: 500,\n        msg: '文章id为空'\n      };\n      return;\n    }\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(params.tid);\n\n    if (!post) {\n      ctx.body = {\n        code: 200,\n        data: {},\n        msg: '查询文章详情成功'\n      };\n      return;\n    }\n\n    let isFav = 0; // 判断用户是否传递Authorization的数据，即是否登录\n\n    if (typeof ctx.header.authorization !== 'undefined' && ctx.header.authorization !== '') {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTPayload\"])(ctx.header.authorization);\n      const userCollect = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__[\"default\"].findOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n\n      if (userCollect && userCollect.tid) {\n        isFav = 1;\n      }\n    }\n\n    const newPost = post.toJSON();\n    newPost.isFav = isFav; // 更新文章阅读记数\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.tid\n    }, {\n      $inc: {\n        reads: 1\n      }\n    });\n\n    if (post._id && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: newPost,\n        msg: '查询文章详情成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '获取文章详情失败'\n      };\n    } // const post = await Post.findOne({ _id: params.tid })\n    // const result = rename(post.toJSON(), 'uid', 'user')\n\n  } // 获取用户发贴记录\n\n\n  async getPostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTPayload\"])(ctx.header.authorization);\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 获取用户发贴记录\n\n\n  async getPostPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(params.uid, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(params.uid);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 删除发贴记录\n\n\n  async deletePostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWTPayload\"])(ctx.header.authorization);\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: obj._id,\n      _id: params.tid\n    });\n\n    if (post.id === params.tid && post.isEnd === '0') {\n      await ContentController.prototype.deletePost(ctx); // const result = await Post.deleteOne({ _id: params.tid })\n      // if (result.ok === 1) {\n      //   ctx.body = {\n      //     code: 200,\n      //     msg: '删除成功'\n      //   }\n      // } else {\n      //   ctx.body = {\n      //     code: 500,\n      //     msg: '执行删除失败！'\n      //   }\n      // }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '删除失败，无权限！'\n      };\n    }\n  }\n\n  async deletePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '删除成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '执行删除失败！'\n      };\n    }\n  } // 添加标签\n\n\n  async addTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const tag = new _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"](body);\n    await tag.save();\n    ctx.body = {\n      code: 200,\n      msg: '标签保存成功'\n    };\n  } // 添加标签\n\n\n  async getTags(ctx) {\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getList({}, page, limit);\n    const total = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].countList({});\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '查询tags成功！'\n    };\n  } // 删除标签\n\n\n  async removeTag(ctx) {\n    const params = ctx.query;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].deleteOne({\n      id: params.ptid\n    });\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '删除成功'\n    };\n  } // 删除标签\n\n\n  async updateTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '更新成功'\n    };\n  }\n\n  async updatePostBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxcyIsInBhcnNlIiwicXVlcnkiLCJzb3J0IiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJvcHRpb25zIiwidGl0bGUiLCIkcmVnZXgiLCJjYXRhbG9nIiwibGVuZ3RoIiwiJGluIiwiaXNUb3AiLCJpc0VuZCIsInN0YXR1cyIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwidG90YWwiLCJjb3VudExpc3QiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldExpbmtzIiwiTGlua3MiLCJmaW5kIiwidHlwZSIsImdldFRpcHMiLCJnZXRUb3BXZWVrIiwidXBsb2FkSW1nIiwiZmlsZSIsInJlcXVlc3QiLCJmaWxlcyIsImV4dCIsInNwbGl0IiwicG9wIiwiZGlyIiwiY29uZmlnIiwidXBsb2FkUGF0aCIsIm1vbWVudCIsImZvcm1hdCIsIm1rZGlyIiwicGljbmFtZSIsInV1aWR2NCIsImRlc3RQYXRoIiwicmVhZGVyIiwiZnMiLCJjcmVhdGVSZWFkU3RyZWFtIiwicGF0aCIsInVwU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmaWxlUGF0aCIsInBpcGUiLCJhZGRQb3N0Iiwic2lkIiwiY2hlY2tDb2RlIiwib2JqIiwiZ2V0SldUUGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwiX2lkIiwiZmF2cyIsImZhdiIsInVwZGF0ZU9uZSIsIiRpbmMiLCJuZXdQb3N0IiwidWlkIiwic2F2ZSIsInVwZGF0ZVBvc3QiLCJwb3N0IiwiZmluZE9uZSIsInRpZCIsIm9rIiwidXBkYXRlUG9zdEJ5VGlkIiwiZ2V0UG9zdERldGFpbCIsInBhcmFtcyIsImZpbmRCeVRpZCIsImlzRmF2IiwidXNlckNvbGxlY3QiLCJVc2VyQ29sbGVjdCIsInRvSlNPTiIsInJlYWRzIiwiZ2V0UG9zdEJ5VWlkIiwiZ2V0TGlzdEJ5VWlkIiwiY291bnRCeVVpZCIsImdldFBvc3RQdWJsaWMiLCJkZWxldGVQb3N0QnlVaWQiLCJpZCIsInByb3RvdHlwZSIsImRlbGV0ZVBvc3QiLCJkZWxldGVNYW55IiwiaWRzIiwiYWRkVGFnIiwiUG9zdFRhZ3MiLCJnZXRUYWdzIiwicmVtb3ZlVGFnIiwiZGVsZXRlT25lIiwicHRpZCIsInVwZGF0ZVRhZyIsInVwZGF0ZVBvc3RCYXRjaCIsInVwZGF0ZU1hbnkiLCIkc2V0Iiwic2V0dGluZ3MiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxpQkFBTixDQUF3QjtFQUN0QjtFQUNpQixNQUFYQyxXQUFXLENBQUVDLEdBQUYsRUFBTztJQUN0QixNQUFNQyxJQUFJLEdBQUdDLDBDQUFFLENBQUNDLEtBQUgsQ0FBU0gsR0FBRyxDQUFDSSxLQUFiLENBQWI7SUFFQSxNQUFNQyxJQUFJLEdBQUdKLElBQUksQ0FBQ0ksSUFBTCxHQUFZSixJQUFJLENBQUNJLElBQWpCLEdBQXdCLFNBQXJDO0lBQ0EsTUFBTUMsSUFBSSxHQUFHTCxJQUFJLENBQUNLLElBQUwsR0FBWUMsUUFBUSxDQUFDTixJQUFJLENBQUNLLElBQU4sQ0FBcEIsR0FBa0MsQ0FBL0M7SUFDQSxNQUFNRSxLQUFLLEdBQUdQLElBQUksQ0FBQ08sS0FBTCxHQUFhRCxRQUFRLENBQUNOLElBQUksQ0FBQ08sS0FBTixDQUFyQixHQUFvQyxFQUFsRDtJQUNBLE1BQU1DLE9BQU8sR0FBRyxFQUFoQjs7SUFFQSxJQUFJUixJQUFJLENB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cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3N0IGZyb20gJy4uL21vZGVsL1Bvc3QnXG5pbXBvcnQgTGlua3MgZnJvbSAnLi4vbW9kZWwvTGlua3MnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcbmltcG9ydCBjb25maWcgZnJvbSAnQC9jb25maWcnXG4vLyBtZXRob2QxXG4vLyBpbXBvcnQgeyBkaXJFeGlzdHMgfSBmcm9tICdAL2NvbW1vbi9VdGlscydcbmltcG9ydCBta2RpciBmcm9tICdtYWtlLWRpcidcbmltcG9ydCB7IGNoZWNrQ29kZSwgZ2V0SldUUGF5bG9hZCB9IGZyb20gJ0AvY29tbW9uL1V0aWxzJ1xuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbC9Vc2VyJ1xuaW1wb3J0IFBvc3RUYWdzIGZyb20gJ0AvbW9kZWwvUG9zdFRhZ3MnXG5pbXBvcnQgVXNlckNvbGxlY3QgZnJvbSAnLi4vbW9kZWwvVXNlckNvbGxlY3QnXG5pbXBvcnQgcXMgZnJvbSAncXMnXG5cbmNsYXNzIENvbnRlbnRDb250cm9sbGVyIHtcbiAgLy8g6I635Y+W5paH56ug5YiX6KGoXG4gIGFzeW5jIGdldFBvc3RMaXN0IChjdHgpIHtcbiAgICBjb25zdCBib2R5ID0gcXMucGFyc2UoY3R4LnF1ZXJ5KVxuXG4gICAgY29uc3Qgc29ydCA9IGJvZHkuc29ydCA/IGJvZHkuc29ydCA6ICdjcmVhdGVkJ1xuICAgIGNvbnN0IHBhZ2UgPSBib2R5LnBhZ2UgPyBwYXJzZUludChib2R5LnBhZ2UpIDogMFxuICAgIGNvbnN0IGxpbWl0ID0gYm9keS5saW1pdCA/IHBhcnNlSW50KGJvZHkubGltaXQpIDogMjBcbiAgICBjb25zdCBvcHRpb25zID0ge31cblxuICAgIGlmIChib2R5LnRpdGxlKSB7XG4gICAgICBvcHRpb25zLnRpdGxlID0geyAkcmVnZXg6IGJvZHkudGl0bGUgfVxuICAgIH1cbiAgICBpZiAoYm9keS5jYXRhbG9nICYmIGJvZHkuY2F0YWxvZy5sZW5ndGggPiAwKSB7XG4gICAgICBvcHRpb25zLmNhdGFsb2cgPSB7ICRpbjogYm9keS5jYXRhbG9nIH1cbiAgICB9XG4gICAgaWYgKGJvZHkuaXNUb3ApIHtcbiAgICAgIG9wdGlvbnMuaXNUb3AgPSBib2R5LmlzVG9wXG4gICAgfVxuICAgIGlmIChib2R5LmlzRW5kKSB7XG4gICAgICBvcHRpb25zLmlzRW5kID0gYm9keS5pc0VuZFxuICAgIH1cbiAgICBpZiAoYm9keS5zdGF0dXMpIHtcbiAgICAgIG9wdGlvbnMuc3RhdHVzID0gYm9keS5zdGF0dXNcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBib2R5LnRhZyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS50YWcgIT09ICcnKSB7XG4gICAgICBvcHRpb25zLnRhZ3MgPSB7ICRlbGVtTWF0Y2g6IHsgbmFtZTogYm9keS50YWcgfSB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdClcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFBvc3QuY291bnRMaXN0KG9wdGlvbnMpXG5cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIG1zZzogJ+iOt+WPluaWh+eroOWIl+ihqOaIkOWKnycsXG4gICAgICB0b3RhbDogdG90YWxcbiAgICB9XG4gIH1cblxuICAvLyDmn6Xor6Llj4vpk75cbiAgYXN5bmMgZ2V0TGlua3MgKGN0eCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IExpbmtzLmZpbmQoeyB0eXBlOiAnbGlua3MnIH0pXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICAvLyDmn6Xor6LmuKnppqjmj5DphpJcbiAgYXN5bmMgZ2V0VGlwcyAoY3R4KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTGlua3MuZmluZCh7IHR5cGU6ICd0aXBzJyB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG5cbiAgLy8g5pys5ZGo54Ot6K6uXG4gIGFzeW5jIGdldFRvcFdlZWsgKGN0eCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0VG9wV2VlaygpXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICAvLyDkuIrkvKDlm77niYdcbiAgYXN5bmMgdXBsb2FkSW1nIChjdHgpIHtcbiAgICBjb25zdCBmaWxlID0gY3R4LnJlcXVlc3QuZmlsZXMuZmlsZVxuICAgIC8vIOWbvueJh+WQjeensOOAgeWbvueJh+agvOW8j+OAgeWtmOWCqOeahOS9jee9ru+8jOi/lOWbnuWJjeWPsOS4gOWPr+S7peivu+WPlueahOi3r+W+hFxuICAgIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpXG4gICAgY29uc3QgZGlyID0gYCR7Y29uZmlnLnVwbG9hZFBhdGh9LyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfWBcbiAgICAvLyDliKTmlq3ot6/lvoTmmK/lkKblrZjlnKjvvIzkuI3lrZjlnKjliJnliJvlu7pcbiAgICBhd2FpdCBta2RpcihkaXIpXG4gICAgLy8g5a2Y5YKo5paH5Lu25Yiw5oyH5a6a55qE6Lev5b6EXG4gICAgLy8g57uZ5paH5Lu25LiA5Liq5ZSv5LiA55qE5ZCN56ewXG4gICAgY29uc3QgcGljbmFtZSA9IHV1aWR2NCgpXG4gICAgY29uc3QgZGVzdFBhdGggPSBgJHtkaXJ9LyR7cGljbmFtZX0uJHtleHR9YFxuICAgIGNvbnN0IHJlYWRlciA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZS5wYXRoKVxuICAgIGNvbnN0IHVwU3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZGVzdFBhdGgpXG4gICAgY29uc3QgZmlsZVBhdGggPSBgLyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfS8ke3BpY25hbWV9LiR7ZXh0fWBcbiAgICAvLyBtZXRob2QgMVxuICAgIHJlYWRlci5waXBlKHVwU3RyZWFtKVxuXG4gICAgLy8gY29uc3Qgc3RhdCA9IGZzLnN0YXRTeW5jKGZpbGUucGF0aClcbiAgICAvLyBtZXRob2QgMlxuICAgIC8vIGxldCB0b3RhbExlbmd0aCA9IDBcbiAgICAvLyByZWFkZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAvLyAgIHRvdGFsTGVuZ3RoICs9IGNodW5rLmxlbmd0aFxuICAgIC8vICAgaWYgKHVwU3RyZWFtLndyaXRlKGNodW5rKSA9PT0gZmFsc2UpIHtcbiAgICAvLyAgICAgcmVhZGVyLnBhdXNlKClcbiAgICAvLyAgIH1cbiAgICAvLyB9KVxuXG4gICAgLy8gdXBTdHJlYW0ub24oJ2RyYWluJywgKCkgPT4ge1xuICAgIC8vICAgcmVhZGVyLnJlc3VtZSgpXG4gICAgLy8gfSlcblxuICAgIC8vIHJlYWRlci5vbignZW5kJywgKCkgPT4ge1xuICAgIC8vICAgdXBTdHJlYW0uZW5kKClcbiAgICAvLyB9KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbXNnOiAn5Zu+54mH5LiK5Lyg5oiQ5YqfJyxcbiAgICAgIGRhdGE6IGZpbGVQYXRoXG4gICAgfVxuICB9XG5cbiAgLy8g5re75Yqg5paw6LS0XG4gIGFzeW5jIGFkZFBvc3QgKGN0eCkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcbiAgICBjb25zdCBzaWQgPSBib2R5LnNpZFxuICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgICAgLy8g5Yik5pat55So5oi355qE56ev5YiG5pWw5piv5ZCmID4gZmF277yM5ZCm5YiZ77yM5o+Q56S655So5oi356ev5YiG5LiN6Laz5Y+R6LS0XG4gICAgICAvLyDnlKjmiLfnp6/liIbotrPlpJ/nmoTml7blgJnvvIzmlrDlu7pQb3N077yM5YeP6Zmk55So5oi35a+55bqU55qE56ev5YiGXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRCh7IF9pZDogb2JqLl9pZCB9KVxuICAgICAgaWYgKHVzZXIuZmF2cyA8IGJvZHkuZmF2KSB7XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDUwMSxcbiAgICAgICAgICBtc2c6ICfnp6/liIbkuI3otrMnXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7IF9pZDogb2JqLl9pZCB9LCB7ICRpbmM6IHsgZmF2czogLWJvZHkuZmF2IH0gfSlcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1Bvc3QgPSBuZXcgUG9zdChib2R5KVxuICAgICAgbmV3UG9zdC51aWQgPSBvYmouX2lkXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdQb3N0LnNhdmUoKVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgbXNnOiAn5oiQ5Yqf55qE5L+d5a2Y55qE5paH56ugJyxcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWbvueJh+mqjOivgeeggemqjOivgeWksei0pVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOabtOaWsOW4luWtkFxuICBhc3luYyB1cGRhdGVQb3N0IChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcbiAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgIC8vIOWIpOaWreW4luWtkOS9nOiAheaYr+WQpuS4uuacrOS6ulxuICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogYm9keS50aWQgfSlcbiAgICAgIC8vIOWIpOaWreW4luWtkOaYr+WQpue7k+i0tFxuICAgICAgaWYgKHBvc3QudWlkID09PSBvYmouX2lkICYmIHBvc3QuaXNFbmQgPT09ICcwJykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZSh7IF9pZDogYm9keS50aWQgfSwgYm9keSlcbiAgICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgbXNnOiAn5pu05paw5biW5a2Q5oiQ5YqfJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgIG1zZzogJ+e8lui+keW4luWtkO+8jOabtOaWsOWksei0pSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICBtc2c6ICfmsqHmnInmk43kvZznmoTmnYPpmZAnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlXG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHpqozor4HlpLHotKUnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlUG9zdEJ5VGlkIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0sIGJvZHkpXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICBtc2c6ICfmm7TmlrDluJblrZDmiJDlip8nXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgbXNnOiAn57yW6L6R5biW5a2Q77yM5pu05paw5aSx6LSlJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOiOt+WPluaWh+eroOivpuaDhVxuICBhc3luYyBnZXRQb3N0RGV0YWlsIChjdHgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICBpZiAoIXBhcmFtcy50aWQpIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+aWh+eroGlk5Li656m6J1xuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeVRpZChwYXJhbXMudGlkKVxuICAgIGlmICghcG9zdCkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge30sXG4gICAgICAgIG1zZzogJ+afpeivouaWh+eroOivpuaDheaIkOWKnydcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBsZXQgaXNGYXYgPSAwXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5Lyg6YCSQXV0aG9yaXphdGlvbueahOaVsOaNru+8jOWNs+aYr+WQpueZu+W9lVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICcnXG4gICAgKSB7XG4gICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAgIGNvbnN0IHVzZXJDb2xsZWN0ID0gYXdhaXQgVXNlckNvbGxlY3QuZmluZE9uZSh7XG4gICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAgICAgdGlkOiBwYXJhbXMudGlkXG4gICAgICB9KVxuICAgICAgaWYgKHVzZXJDb2xsZWN0ICYmIHVzZXJDb2xsZWN0LnRpZCkge1xuICAgICAgICBpc0ZhdiA9IDFcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3UG9zdCA9IHBvc3QudG9KU09OKClcbiAgICBuZXdQb3N0LmlzRmF2ID0gaXNGYXZcbiAgICAvLyDmm7TmlrDmlofnq6DpmIXor7vorrDmlbBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZShcbiAgICAgIHsgX2lkOiBwYXJhbXMudGlkIH0sXG4gICAgICB7ICRpbmM6IHsgcmVhZHM6IDEgfSB9XG4gICAgKVxuICAgIGlmIChwb3N0Ll9pZCAmJiByZXN1bHQub2sgPT09IDEpIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IG5ld1Bvc3QsXG4gICAgICAgIG1zZzogJ+afpeivouaWh+eroOivpuaDheaIkOWKnydcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgbXNnOiAn6I635Y+W5paH56ug6K+m5oOF5aSx6LSlJ1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXG4gICAgLy8gY29uc3QgcmVzdWx0ID0gcmVuYW1lKHBvc3QudG9KU09OKCksICd1aWQnLCAndXNlcicpXG4gIH1cblxuICAvLyDojrflj5bnlKjmiLflj5HotLTorrDlvZVcbiAgYXN5bmMgZ2V0UG9zdEJ5VWlkIChjdHgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3RCeVVpZChcbiAgICAgIG9iai5faWQsXG4gICAgICBwYXJhbXMucGFnZSxcbiAgICAgIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgIClcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFBvc3QuY291bnRCeVVpZChvYmouX2lkKVxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajlpLHotKUnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W55So5oi35Y+R6LS06K6w5b2VXG4gIGFzeW5jIGdldFBvc3RQdWJsaWMgKGN0eCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdEJ5VWlkKFxuICAgICAgcGFyYW1zLnVpZCxcbiAgICAgIHBhcmFtcy5wYWdlLFxuICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgKVxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5jb3VudEJ5VWlkKHBhcmFtcy51aWQpXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgIHRvdGFsLFxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajmiJDlip8nXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOWksei0pSdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDliKDpmaTlj5HotLTorrDlvZVcbiAgYXN5bmMgZGVsZXRlUG9zdEJ5VWlkIChjdHgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgdWlkOiBvYmouX2lkLCBfaWQ6IHBhcmFtcy50aWQgfSlcbiAgICBpZiAocG9zdC5pZCA9PT0gcGFyYW1zLnRpZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcbiAgICAgIGF3YWl0IENvbnRlbnRDb250cm9sbGVyLnByb3RvdHlwZS5kZWxldGVQb3N0KGN0eClcbiAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZGVsZXRlT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXG4gICAgICAvLyBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgICAvLyAgIGN0eC5ib2R5ID0ge1xuICAgICAgLy8gICAgIGNvZGU6IDIwMCxcbiAgICAgIC8vICAgICBtc2c6ICfliKDpmaTmiJDlip8nXG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgIGN0eC5ib2R5ID0ge1xuICAgICAgLy8gICAgIGNvZGU6IDUwMCxcbiAgICAgIC8vICAgICBtc2c6ICfmiafooYzliKDpmaTlpLHotKXvvIEnXG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgbXNnOiAn5Yig6Zmk5aSx6LSl77yM5peg5p2D6ZmQ77yBJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVBvc3QgKGN0eCkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmRlbGV0ZU1hbnkoeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0pXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfmiafooYzliKDpmaTlpLHotKXvvIEnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g5re75Yqg5qCH562+XG4gIGFzeW5jIGFkZFRhZyAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IHRhZyA9IG5ldyBQb3N0VGFncyhib2R5KVxuICAgIGF3YWl0IHRhZy5zYXZlKClcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1zZzogJ+agh+etvuS/neWtmOaIkOWKnydcbiAgICB9XG4gIH1cblxuICAvLyDmt7vliqDmoIfnrb5cbiAgYXN5bmMgZ2V0VGFncyAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyc2VJbnQocGFyYW1zLnBhZ2UpIDogMFxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MuZ2V0TGlzdCh7fSwgcGFnZSwgbGltaXQpXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0VGFncy5jb3VudExpc3Qoe30pXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICB0b3RhbCxcbiAgICAgIG1zZzogJ+afpeivonRhZ3PmiJDlip/vvIEnXG4gICAgfVxuICB9XG5cbiAgLy8g5Yig6Zmk5qCH562+XG4gIGFzeW5jIHJlbW92ZVRhZyAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MuZGVsZXRlT25lKHsgaWQ6IHBhcmFtcy5wdGlkIH0pXG5cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcbiAgICB9XG4gIH1cblxuICAvLyDliKDpmaTmoIfnrb5cbiAgYXN5bmMgdXBkYXRlVGFnIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MudXBkYXRlT25lKFxuICAgICAgeyBfaWQ6IGJvZHkuX2lkIH0sXG4gICAgICBib2R5XG4gICAgKVxuXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlUG9zdEJhdGNoIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVNYW55KFxuICAgICAgeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0sXG4gICAgICB7ICRzZXQ6IHsgLi4uYm9keS5zZXR0aW5ncyB9IH1cbiAgICApXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbnRlbnRDb250cm9sbGVyKClcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/ErrorController.js":
/*!************************************!*\
  !*** ./src/api/ErrorController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/ErrorRecord */ \"./src/model/ErrorRecord.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nclass ErrorController {\n  async getErrorList(ctx) {\n    const params = ctx.query;\n    const methodFilter = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n      $group: {\n        _id: '$method'\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    const codeFilter = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n      $group: {\n        _id: '$code'\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    const obj = qs__WEBPACK_IMPORTED_MODULE_1___default.a.parse(params);\n    const query = obj.filter ? { ...obj.filter\n    } : {};\n\n    if (query.method) {\n      query.method = {\n        $regex: query.method,\n        $options: 'i'\n      };\n    } // 分页\n\n\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10; // { method: /get/i }\n\n    const result = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(query).skip((page - 1) * limit).limit(limit).sort({\n      created: -1\n    });\n    const total = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(query).countDocuments();\n    ctx.body = {\n      code: 200,\n      msg: '查询成功',\n      data: result,\n      total: total,\n      filters: {\n        method: methodFilter.map(o => {\n          return {\n            label: o._id,\n            value: o._id\n          };\n        }),\n        code: codeFilter.map(o => {\n          return {\n            label: o._id,\n            value: parseInt(o._id)\n          };\n        })\n      }\n    };\n  }\n\n  async deleteError(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    };\n  }\n\n  async addError(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const error = new _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const result = await error.save();\n    ctx.body = {\n      code: 200,\n      msg: '保存成功',\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ErrorController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0Vycm9yQ29udHJvbGxlci5qcz84NTAxIl0sIm5hbWVzIjpbIkVycm9yQ29udHJvbGxlciIsImdldEVycm9yTGlzdCIsImN0eCIsInBhcmFtcyIsInF1ZXJ5IiwibWV0aG9kRmlsdGVyIiwiRXJyb3JSZWNvcmQiLCJhZ2dyZWdhdGUiLCIkZ3JvdXAiLCJfaWQiLCIkc29ydCIsImNvZGVGaWx0ZXIiLCJvYmoiLCJxcyIsInBhcnNlIiwiZmlsdGVyIiwibWV0aG9kIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsInJlc3VsdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNyZWF0ZWQiLCJ0b3RhbCIsImNvdW50RG9jdW1lbnRzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJkYXRhIiwiZmlsdGVycyIsIm1hcCIsIm8iLCJsYWJlbCIsInZhbHVlIiwiZGVsZXRlRXJyb3IiLCJyZXF1ZXN0IiwiZGVsZXRlTWFueSIsIiRpbiIsImlkcyIsImFkZEVycm9yIiwiZXJyb3IiLCJzYXZlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBQ0EsTUFBTUEsZUFBTixDQUFzQjtFQUNGLE1BQVpDLFlBQVksQ0FBRUMsR0FBRixFQUFPO0lBQ3ZCLE1BQU1DLE1BQU0sR0FBR0QsR0FBRyxDQUFDRSxLQUFuQjtJQUVBLE1BQU1DLFlBQVksR0FBRyxNQUFNQywwREFBVyxDQUFDQyxTQUFaLENBQXNCLENBQUM7TUFBRUMsTUFBTSxFQUFFO1FBQUVDLEdBQUcsRUFBRTtNQUFQO0lBQVYsQ0FBRCxFQUFpQztNQUFFQyxLQUFLLEVBQUU7UUFBRUQsR0FBRyxFQUFFO01BQVA7SUFBVCxDQUFqQyxDQUF0QixDQUEzQjtJQUVBLE1BQU1FLFVBQVUsR0FBRyxNQUFNTCwwREFBVyxDQUFDQyxTQUFaLENBQXNCLENBQUM7TUFBRUMsTUFBTSxFQUFFO1FBQUVDLEdBQUcsRUFBRTtNQUFQO0lB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QTNDLEdBQUcsQ0FBQzJCLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUQyxHQUFHLEVBQUUsTUFGSTtNQUdUQyxJQUFJLEVBQUVWO0lBSEcsQ0FBWDtFQUtEOztBQTlEbUI7O0FBaUVQLG1FQUFJdEIsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9FcnJvckNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXJyb3JSZWNvcmQgZnJvbSAnLi4vbW9kZWwvRXJyb3JSZWNvcmQnXG5pbXBvcnQgcXMgZnJvbSAncXMnXG5jbGFzcyBFcnJvckNvbnRyb2xsZXIge1xuICBhc3luYyBnZXRFcnJvckxpc3QgKGN0eCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuXG4gICAgY29uc3QgbWV0aG9kRmlsdGVyID0gYXdhaXQgRXJyb3JSZWNvcmQuYWdncmVnYXRlKFt7ICRncm91cDogeyBfaWQ6ICckbWV0aG9kJyB9IH0sIHsgJHNvcnQ6IHsgX2lkOiAxIH0gfV0pXG5cbiAgICBjb25zdCBjb2RlRmlsdGVyID0gYXdhaXQgRXJyb3JSZWNvcmQuYWdncmVnYXRlKFt7ICRncm91cDogeyBfaWQ6ICckY29kZScgfSB9LCB7ICRzb3J0OiB7IF9pZDogMSB9IH1dKVxuXG4gICAgY29uc3Qgb2JqID0gcXMucGFyc2UocGFyYW1zKVxuICAgIGNvbnN0IHF1ZXJ5ID0gb2JqLmZpbHRlciA/IHsgLi4ub2JqLmZpbHRlciB9IDoge31cbiAgICBpZiAocXVlcnkubWV0aG9kKSB7XG4gICAgICBxdWVyeS5tZXRob2QgPSB7ICRyZWdleDogcXVlcnkubWV0aG9kLCAkb3B0aW9uczogJ2knIH1cbiAgICB9XG4gICAgLy8g5YiG6aG1XG4gICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyc2VJbnQocGFyYW1zLnBhZ2UpIDogMFxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG5cbiAgICAvLyB7IG1ldGhvZDogL2dldC9pIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBFcnJvclJlY29yZC5maW5kKHF1ZXJ5KS5za2lwKChwYWdlIC0gMSkgKiBsaW1pdCkubGltaXQobGltaXQpLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgRXJyb3JSZWNvcmQuZmluZChxdWVyeSkuY291bnREb2N1bWVudHMoKVxuXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtc2c6ICfmn6Xor6LmiJDlip8nLFxuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgZmlsdGVyczoge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZEZpbHRlci5tYXAobyA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBvLl9pZCxcbiAgICAgICAgICAgIHZhbHVlOiBvLl9pZFxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGNvZGU6IGNvZGVGaWx0ZXIubWFwKG8gPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogby5faWQsXG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoby5faWQpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUVycm9yIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgRXJyb3JSZWNvcmQuZGVsZXRlTWFueSh7IF9pZDogeyAkaW46IGJvZHkuaWRzIH0gfSlcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnycsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICBhc3luYyBhZGRFcnJvciAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yUmVjb3JkKGJvZHkpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXJyb3Iuc2F2ZSgpXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtc2c6ICfkv53lrZjmiJDlip8nLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBFcnJvckNvbnRyb2xsZXIoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/ErrorController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  // 忘记密码，发送邮件\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n      username: body.username\n    });\n\n    if (!user) {\n      ctx.body = {\n        code: 404,\n        msg: '请检查账号！'\n      };\n      return;\n    }\n\n    try {\n      const key = Object(uuid__WEBPACK_IMPORTED_MODULE_9__[\"v4\"])();\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_8__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default.a.sign({\n        _id: user._id\n      }, _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m'\n      }), 30 * 60); // body.username -> database -> email\n\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        type: 'reset',\n        data: {\n          key: key,\n          username: body.username\n        },\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_2___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: user.name ? user.name : body.username\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  } // 用户登录\n\n\n  async login(ctx) {\n    // 接收用户的数据\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      let checkUserPasswd = false;\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (user === null) {\n        ctx.body = {\n          code: 404,\n          msg: '用户名或者密码错误'\n        };\n        return;\n      }\n\n      if (await bcrypt__WEBPACK_IMPORTED_MODULE_1___default.a.compare(body.password, user.password)) {\n        checkUserPasswd = true;\n      } // mongoDB查库\n\n\n      if (checkUserPasswd) {\n        // 验证通过，返回Token数据\n        const userObj = user.toJSON();\n        const arr = ['password', 'username'];\n        arr.map(item => {\n          delete userObj[item];\n        });\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default.a.sign({\n          _id: userObj._id\n        }, _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d'\n        }); // 加入isSign属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id);\n\n        if (signRecord !== null) {\n          if (dayjs__WEBPACK_IMPORTED_MODULE_2___default()(signRecord.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYY-MM-DD')) {\n            userObj.isSign = true;\n          } else {\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        } else {\n          // 用户无签到记录\n          userObj.isSign = false;\n        }\n\n        ctx.body = {\n          code: 200,\n          data: userObj,\n          token: token\n        };\n      } else {\n        // 用户名 密码验证失败，返回提示\n        ctx.body = {\n          code: 404,\n          msg: '用户名或者密码错误'\n        };\n      }\n    } else {\n      // 图片验证码校验失败\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确,请检查！'\n      };\n    }\n  } // 注册接口\n\n\n  async reg(ctx) {\n    // 接收客户端的数据\n    const {\n      body\n    } = ctx.request; // 校验验证码的内容（时效性、有效性）\n\n    const sid = body.sid;\n    const code = body.code;\n    let msg = {}; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, code);\n    let check = true;\n\n    if (result) {\n      // 查库，看username是否被注册\n      const user1 = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (user1 !== null && typeof user1.username !== 'undefined') {\n        msg.username = ['此邮箱已经注册，可以通过邮箱找回密码'];\n        check = false;\n      }\n\n      const user2 = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        name: body.name\n      }); // 查库，看name是否被注册\n\n      if (user2 !== null && typeof user2.name !== 'undefined') {\n        msg.name = ['此昵称已经被注册，请修改'];\n        check = false;\n      } // 写入数据到数据库\n\n\n      if (check) {\n        body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_1___default.a.hash(body.password, 5);\n        const user = new _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n          username: body.username,\n          name: body.name,\n          password: body.password // created: moment().format('YYYY-MM-DD HH:mm:ss')\n\n        });\n        const result = await user.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '注册成功'\n        };\n        return;\n      }\n    } else {\n      // veevalidate 显示的错误\n      msg.code = ['验证码已经失效，请重新获取！'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg: msg\n    };\n  } // 密码重置\n\n\n  async reset(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code;\n    let msg = {}; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, code);\n\n    if (!body.key) {\n      ctx.body = {\n        code: 500,\n        msg: '请求参数异常，请重新获取链接'\n      };\n      return;\n    }\n\n    if (!result) {\n      msg.code = ['验证码已经失效，请重新获取！'];\n      ctx.body = {\n        code: 500,\n        msg: msg\n      };\n      return;\n    }\n\n    const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_8__[\"getValue\"])(body.key);\n\n    if (token) {\n      const obj = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"getJWTPayload\"])('Bearer ' + token);\n      body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_1___default.a.hash(body.password, 5);\n      await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        password: body.password\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户密码成功！'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '链接已经失效'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImZvcmdldCIsImN0eCIsImJvZHkiLCJyZXF1ZXN0IiwidXNlciIsIlVzZXIiLCJmaW5kT25lIiwidXNlcm5hbWUiLCJjb2RlIiwibXNnIiwia2V5IiwidXVpZHY0Iiwic2V0VmFsdWUiLCJqc29ud2VidG9rZW4iLCJzaWduIiwiX2lkIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInJlc3VsdCIsInNlbmQiLCJ0eXBlIiwiZGF0YSIsImV4cGlyZSIsIm1vbWVudCIsImFkZCIsImZvcm1hdCIsImVtYWlsIiwibmFtZSIsImUiLCJjb25zb2xlIiwibG9nIiwibG9naW4iLCJzaWQiLCJjaGVja0NvZGUiLCJjaGVja1VzZXJQYXNzd2QiLCJiY3J5cHQiLCJjb21wYXJlIiwicGFzc3dvcmQiLCJ1c2VyT2JqIiwidG9KU09OIiwiYXJyIiwibWFwIiwiaXRlbSIsInRva2VuIiwic2lnblJlY29yZCIsIlNpZ25SZWNvcmQiLCJmaW5kQnlVaWQiLCJjcmVhdGVkIiwiaXNTaWduIiwibGFzdFNpZ24iLCJyZWciLCJjaGVjayIsInVzZXIxIiwidXNlcjIiLCJoYXNoIiwic2F2ZSIsInJlc2V0IiwiZ2V0VmFsdWUiLCJvYmoiLCJnZXRKV1RQYXlsb2FkIiwidXBkYXRlT25lIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1BLGVBQU4sQ0FBc0I7RUFDcEI7RUFDWSxNQUFOQyxNQUFNLENBQUVDLEdBQUYsRUFBTztJQUNqQixNQUFNO01BQUVDO0lBQUYsSUFBV0QsR0FBRyxDQUFDRSxPQUFyQjtJ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VCxHQUFHLENBQUNDLElBQUosR0FBVztRQUNUTSxJQUFJLEVBQUUsR0FERztRQUVUQyxHQUFHLEVBQUU7TUFGSSxDQUFYO01BSUE7SUFDRDs7SUFDRCxJQUFJLENBQUNVLE1BQUwsRUFBYTtNQUNYVixHQUFHLENBQUNELElBQUosR0FBVyxDQUFDLGdCQUFELENBQVg7TUFDQVAsR0FBRyxDQUFDQyxJQUFKLEdBQVc7UUFDVE0sSUFBSSxFQUFFLEdBREc7UUFFVEMsR0FBRyxFQUFFQTtNQUZJLENBQVg7TUFJQTtJQUNEOztJQUNELE1BQU1tQyxLQUFLLEdBQUcsTUFBTWMsb0VBQVEsQ0FBQ3hELElBQUksQ0FBQ1EsR0FBTixDQUE1Qjs7SUFDQSxJQUFJa0MsS0FBSixFQUFXO01BQ1QsTUFBTWUsR0FBRyxHQUFHQyxtRUFBYSxDQUFDLFlBQVloQixLQUFiLENBQXpCO01BQ0ExQyxJQUFJLENBQUNvQyxRQUFMLEdBQWdCLE1BQU1GLDZDQUFNLENBQUNtQixJQUFQLENBQVlyRCxJQUFJLENBQUNvQyxRQUFqQixFQUEyQixDQUEzQixDQUF0QjtNQUNBLE1BQU1qQyxtREFBSSxDQUFDd0QsU0FBTCxDQUNKO1FBQUU5QyxHQUFHLEVBQUU0QyxHQUFHLENBQUM1QztNQUFYLENBREksRUFFSjtRQUNFdUIsUUFBUSxFQUFFcEMsSUFBSSxDQUFDb0M7TUFEakIsQ0FGSSxDQUFOO01BTUFyQyxHQUFHLENBQUNDLElBQUosR0FBVztRQUNUTSxJQUFJLEVBQUUsR0FERztRQUVUQyxHQUFHLEVBQUU7TUFGSSxDQUFYO0lBSUQsQ0FiRCxNQWFPO01BQ0xSLEdBQUcsQ0FBQ0MsSUFBSixHQUFXO1FBQ1RNLElBQUksRUFBRSxHQURHO1FBRVRDLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRDtFQUNGOztBQTlNbUI7O0FBaU5QLG1FQUFJVixlQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW5kIGZyb20gJ0AvY29uZmlnL01haWxDb25maWcnXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5pbXBvcnQganNvbndlYnRva2VuIGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBjb25maWcgZnJvbSAnQC9jb25maWcnXG5pbXBvcnQgeyBjaGVja0NvZGUgfSBmcm9tICdAL2NvbW1vbi9VdGlscydcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWwvVXNlcidcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJy4uL21vZGVsL1NpZ25SZWNvcmQnXG5pbXBvcnQgeyBnZXRWYWx1ZSwgc2V0VmFsdWUgfSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcbmltcG9ydCB7IGdldEpXVFBheWxvYWQgfSBmcm9tICcuLi9jb21tb24vVXRpbHMnXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xuY2xhc3MgTG9naW5Db250cm9sbGVyIHtcbiAgLy8g5b+Y6K6w5a+G56CB77yM5Y+R6YCB6YKu5Lu2XG4gIGFzeW5jIGZvcmdldCAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB1c2VybmFtZTogYm9keS51c2VybmFtZSB9KVxuICAgIGlmICghdXNlcikge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDQwNCxcbiAgICAgICAgbXNnOiAn6K+35qOA5p+l6LSm5Y+377yBJ1xuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXkgPSB1dWlkdjQoKVxuICAgICAgc2V0VmFsdWUoXG4gICAgICAgIGtleSxcbiAgICAgICAganNvbndlYnRva2VuLnNpZ24oeyBfaWQ6IHVzZXIuX2lkIH0sIGNvbmZpZy5KV1RfU0VDUkVULCB7XG4gICAgICAgICAgZXhwaXJlc0luOiAnMzBtJ1xuICAgICAgICB9KSxcbiAgICAgICAgMzAgKiA2MFxuICAgICAgKVxuICAgICAgLy8gYm9keS51c2VybmFtZSAtPiBkYXRhYmFzZSAtPiBlbWFpbFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZCh7XG4gICAgICAgIHR5cGU6ICdyZXNldCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICBleHBpcmU6IG1vbWVudCgpXG4gICAgICAgICAgLmFkZCgzMCwgJ21pbnV0ZXMnKVxuICAgICAgICAgIC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcbiAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXG4gICAgICAgIHVzZXI6IHVzZXIubmFtZSA/IHVzZXIubmFtZSA6IGJvZHkudXNlcm5hbWVcbiAgICAgIH0pXG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgIG1zZzogJ+mCruS7tuWPkemAgeaIkOWKnydcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cbiAgfVxuXG4gIC8vIOeUqOaIt+eZu+W9lVxuICBhc3luYyBsb2dpbiAoY3R4KSB7XG4gICAgLy8g5o6l5pS255So5oi355qE5pWw5o2uXG4gICAgLy8g6L+U5ZuedG9rZW5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcbiAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAvLyDpqozor4HnlKjmiLfotKblj7flr4bnoIHmmK/lkKbmraPnoa5cbiAgICAgIGxldCBjaGVja1VzZXJQYXNzd2QgPSBmYWxzZVxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXG4gICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgbXNnOiAn55So5oi35ZCN5oiW6ICF5a+G56CB6ZSZ6K+vJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKGF3YWl0IGJjcnlwdC5jb21wYXJlKGJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICAgIGNoZWNrVXNlclBhc3N3ZCA9IHRydWVcbiAgICAgIH1cbiAgICAgIC8vIG1vbmdvRELmn6XlupNcbiAgICAgIGlmIChjaGVja1VzZXJQYXNzd2QpIHtcbiAgICAgICAgLy8g6aqM6K+B6YCa6L+H77yM6L+U5ZueVG9rZW7mlbDmja5cbiAgICAgICAgY29uc3QgdXNlck9iaiA9IHVzZXIudG9KU09OKClcbiAgICAgICAgY29uc3QgYXJyID0gWydwYXNzd29yZCcsICd1c2VybmFtZSddXG4gICAgICAgIGFyci5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICBkZWxldGUgdXNlck9ialtpdGVtXVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHsgX2lkOiB1c2VyT2JqLl9pZCB9LCBjb25maWcuSldUX1NFQ1JFVCwge1xuICAgICAgICAgIGV4cGlyZXNJbjogJzFkJ1xuICAgICAgICB9KVxuICAgICAgICAvLyDliqDlhaVpc1NpZ27lsZ7mgKdcbiAgICAgICAgY29uc3Qgc2lnblJlY29yZCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZEJ5VWlkKHVzZXJPYmouX2lkKVxuICAgICAgICBpZiAoc2lnblJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChtb21lbnQoc2lnblJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpIHtcbiAgICAgICAgICAgIHVzZXJPYmouaXNTaWduID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIHVzZXJPYmoubGFzdFNpZ24gPSBzaWduUmVjb3JkLmNyZWF0ZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDnlKjmiLfml6Dnrb7liLDorrDlvZVcbiAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHVzZXJPYmosXG4gICAgICAgICAgdG9rZW46IHRva2VuXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOeUqOaIt+WQjSDlr4bnoIHpqozor4HlpLHotKXvvIzov5Tlm57mj5DnpLpcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgY29kZTogNDA0LFxuICAgICAgICAgIG1zZzogJ+eUqOaIt+WQjeaIluiAheWvhueggemUmeivrydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyDlm77niYfpqozor4HnoIHmoKHpqozlpLHotKVcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggeS4jeato+ehrizor7fmo4Dmn6XvvIEnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g5rOo5YaM5o6l5Y+jXG4gIGFzeW5jIHJlZyAoY3R4KSB7XG4gICAgLy8g5o6l5pS25a6i5oi356uv55qE5pWw5o2uXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIC8vIOagoemqjOmqjOivgeeggeeahOWGheWuue+8iOaXtuaViOaAp+OAgeacieaViOaAp++8iVxuICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXG4gICAgY29uc3QgY29kZSA9IGJvZHkuY29kZVxuICAgIGxldCBtc2cgPSB7fVxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXG4gICAgbGV0IGNoZWNrID0gdHJ1ZVxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIC8vIOafpeW6k++8jOeci3VzZXJuYW1l5piv5ZCm6KKr5rOo5YaMXG4gICAgICBjb25zdCB1c2VyMSA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXG4gICAgICBpZiAodXNlcjEgIT09IG51bGwgJiYgdHlwZW9mIHVzZXIxLnVzZXJuYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtc2cudXNlcm5hbWUgPSBbJ+atpOmCrueuseW3sue7j+azqOWGjO+8jOWPr+S7pemAmui/h+mCrueuseaJvuWbnuWvhueggSddXG4gICAgICAgIGNoZWNrID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVzZXIyID0gYXdhaXQgVXNlci5maW5kT25lKHsgbmFtZTogYm9keS5uYW1lIH0pXG4gICAgICAvLyDmn6XlupPvvIznnItuYW1l5piv5ZCm6KKr5rOo5YaMXG4gICAgICBpZiAodXNlcjIgIT09IG51bGwgJiYgdHlwZW9mIHVzZXIyLm5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1zZy5uYW1lID0gWyfmraTmmLXnp7Dlt7Lnu4/ooqvms6jlhozvvIzor7fkv67mlLknXVxuICAgICAgICBjaGVjayA9IGZhbHNlXG4gICAgICB9XG4gICAgICAvLyDlhpnlhaXmlbDmja7liLDmlbDmja7lupNcbiAgICAgIGlmIChjaGVjaykge1xuICAgICAgICBib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goYm9keS5wYXNzd29yZCwgNSlcbiAgICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZSxcbiAgICAgICAgICBuYW1lOiBib2R5Lm5hbWUsXG4gICAgICAgICAgcGFzc3dvcmQ6IGJvZHkucGFzc3dvcmRcbiAgICAgICAgICAvLyBjcmVhdGVkOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VyLnNhdmUoKVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgIG1zZzogJ+azqOWGjOaIkOWKnydcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdmVldmFsaWRhdGUg5pi+56S655qE6ZSZ6K+vXG4gICAgICBtc2cuY29kZSA9IFsn6aqM6K+B56CB5bey57uP5aSx5pWI77yM6K+36YeN5paw6I635Y+W77yBJ11cbiAgICB9XG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiA1MDAsXG4gICAgICBtc2c6IG1zZ1xuICAgIH1cbiAgfVxuXG4gIC8vIOWvhueggemHjee9rlxuICBhc3luYyByZXNldCAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXG4gICAgY29uc3QgY29kZSA9IGJvZHkuY29kZVxuICAgIGxldCBtc2cgPSB7fVxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXG4gICAgaWYgKCFib2R5LmtleSkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgbXNnOiAn6K+35rGC5Y+C5pWw5byC5bi477yM6K+36YeN5paw6I635Y+W6ZO+5o6lJ1xuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICBtc2cuY29kZSA9IFsn6aqM6K+B56CB5bey57uP5aSx5pWI77yM6K+36YeN5paw6I635Y+W77yBJ11cbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogbXNnXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRWYWx1ZShib2R5LmtleSlcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbnN0IG9iaiA9IGdldEpXVFBheWxvYWQoJ0JlYXJlciAnICsgdG9rZW4pXG4gICAgICBib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goYm9keS5wYXNzd29yZCwgNSlcbiAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxuICAgICAgICB7IF9pZDogb2JqLl9pZCB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGFzc3dvcmQ6IGJvZHkucGFzc3dvcmRcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgbXNnOiAn5pu05paw55So5oi35a+G56CB5oiQ5Yqf77yBJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfpk77mjqXlt7Lnu4/lpLHmlYgnXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\nclass PublicController {\n  // 获取图片验证码\n  async getCaptcha(ctx) {\n    const body = ctx.query;\n    const newCaptca = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      ignoreChars: '0oO1ilLI',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 38\n    }); // 保存图片验证码数据，设置超时时间，单位: s\n    // 设置图片验证码超时10分钟\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, newCaptca.text, 10 * 60);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n  async getHotPost(ctx) {\n    // page limit\n    // type index 0-3日内， 1-7日内， 2-30日内， 3-全部\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const index = params.index ? params.index : '0';\n    let startTime = '';\n    let endTime = '';\n\n    if (index === '0') {\n      startTime = dayjs__WEBPACK_IMPORTED_MODULE_2___default()().subtract(2, 'day').format('YYYY-MM-DD 00:00:00');\n    } else if (index === '1') {\n      startTime = dayjs__WEBPACK_IMPORTED_MODULE_2___default()().subtract(6, 'day').format('YYYY-MM-DD 00:00:00');\n    } else if (index === '2') {\n      startTime = dayjs__WEBPACK_IMPORTED_MODULE_2___default()().subtract(29, 'day').format('YYYY-MM-DD 00:00:00');\n    }\n\n    endTime = dayjs__WEBPACK_IMPORTED_MODULE_2___default()().add(1, 'day').format('YYYY-MM-DD 00:00:00');\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getHotPost(page, limit, startTime, endTime);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getHotPostCount(page, limit, startTime, endTime);\n    ctx.body = {\n      code: 200,\n      total,\n      data: result,\n      msg: '获取热门文章成功'\n    };\n  }\n\n  async getHotComments(ctx) {\n    // 0-热门评论，1-最新评论\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const index = params.index ? params.index : '0';\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getHotComments(page, limit, index);\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getHotCommentsCount(index);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '获取热门评论成功'\n    };\n  }\n\n  async getHotSignRecord(ctx) {\n    // 0-总签到榜，1-最新签到\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const index = params.index ? params.index : '0';\n    let result;\n    let total = 0;\n\n    if (index === '0') {\n      // 总签到榜\n      result = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getTotalSign(page, limit);\n      total = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getTotalSignCount();\n    } else if (index === '1') {\n      // 今日签到\n      result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getTopSign(page, limit);\n      total = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getTopSignCount();\n    } else if (index === '2') {\n      // 最新签到\n      result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getLatestSign(page, limit);\n      total = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getSignCount();\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '获取签到排行成功'\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiZ2V0Q2FwdGNoYSIsImN0eCIsImJvZHkiLCJxdWVyeSIsIm5ld0NhcHRjYSIsInN2Z0NhcHRjaGEiLCJjcmVhdGUiLCJzaXplIiwiaWdub3JlQ2hhcnMiLCJjb2xvciIsIm5vaXNlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwid2lkdGgiLCJoZWlnaHQiLCJzZXRWYWx1ZSIsInNpZCIsInRleHQiLCJjb2RlIiwiZGF0YSIsImdldEhvdFBvc3QiLCJwYXJhbXMiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsImluZGV4Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsIm1vbWVudCIsInN1YnRyYWN0IiwiZm9ybWF0IiwiYWRkIiwicmVzdWx0IiwiUG9zdCIsInRvdGFsIiwiZ2V0SG90UG9zdENvdW50IiwibXNnIiwiZ2V0SG90Q29tbWVudHMiLCJDb21tZW50cyIsImdldEhvdENvbW1lbnRzQ291bnQiLCJnZXRIb3RTaWduUmVjb3JkIiwiVXNlciIsImdldFRvdGFsU2lnbiIsImdldFRvdGFsU2lnbkNvdW50IiwiU2lnblJlY29yZCIsImdldFRvcFNpZ24iLCJnZXRUb3BTaWduQ291bnQiLCJnZXRMYXRlc3RTaWduIiwiZ2V0U2lnbkNvdW50Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGdCQUFOLENBQXVCO0VBQ3JCO0VBQ2dCLE1BQVZDLFVBQVUsQ0FBRUMsR0FBRixFQUFPO0lBQ3JCLE1BQU1DLElBQUksR0FBR0QsR0FBRyxDQUFDRSxLQUFqQjtJQUNBLE1BQU1DLFNBQVMsR0FBR0Msa0RBQVUsQ0FBQ0MsTUFBWCxDQUFrQjtNQUNsQ0MsSUFBSSxFQUFFLENBRDRC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LENBSkQsTUFJTyxJQUFJbEIsS0FBSyxLQUFLLEdBQWQsRUFBbUI7TUFDeEI7TUFDQU8sTUFBTSxHQUFHLE1BQU1ZLHlEQUFVLENBQUNDLFVBQVgsQ0FBc0J2QixJQUF0QixFQUE0QkUsS0FBNUIsQ0FBZjtNQUNBVSxLQUFLLEdBQUcsTUFBTVUseURBQVUsQ0FBQ0UsZUFBWCxFQUFkO0lBQ0QsQ0FKTSxNQUlBLElBQUlyQixLQUFLLEtBQUssR0FBZCxFQUFtQjtNQUN4QjtNQUNBTyxNQUFNLEdBQUcsTUFBTVkseURBQVUsQ0FBQ0csYUFBWCxDQUF5QnpCLElBQXpCLEVBQStCRSxLQUEvQixDQUFmO01BQ0FVLEtBQUssR0FBRyxNQUFNVSx5REFBVSxDQUFDSSxZQUFYLEVBQWQ7SUFDRDs7SUFDRGhELEdBQUcsQ0FBQ0MsSUFBSixHQUFXO01BQ1RpQixJQUFJLEVBQUUsR0FERztNQUVUQyxJQUFJLEVBQUVhLE1BRkc7TUFHVEUsS0FIUztNQUlURSxHQUFHLEVBQUU7SUFKSSxDQUFYO0VBTUQ7O0FBM0ZvQjs7QUE4RlIsbUVBQUl0QyxnQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9QdWJsaWNDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN2Z0NhcHRjaGEgZnJvbSAnc3ZnLWNhcHRjaGEnXG5pbXBvcnQgeyBzZXRWYWx1ZSB9IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcbmltcG9ydCBQb3N0IGZyb20gJ0AvbW9kZWwvUG9zdCdcbmltcG9ydCBDb21tZW50cyBmcm9tICcuLi9tb2RlbC9Db21tZW50cydcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWwvVXNlcidcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJ0AvbW9kZWwvU2lnblJlY29yZCdcblxuY2xhc3MgUHVibGljQ29udHJvbGxlciB7XG4gIC8vIOiOt+WPluWbvueJh+mqjOivgeeggVxuICBhc3luYyBnZXRDYXB0Y2hhIChjdHgpIHtcbiAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgbmV3Q2FwdGNhID0gc3ZnQ2FwdGNoYS5jcmVhdGUoe1xuICAgICAgc2l6ZTogNCxcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG9PMWlsTEknLFxuICAgICAgY29sb3I6IHRydWUsXG4gICAgICBub2lzZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSksXG4gICAgICB3aWR0aDogMTUwLFxuICAgICAgaGVpZ2h0OiAzOFxuICAgIH0pXG4gICAgLy8g5L+d5a2Y5Zu+54mH6aqM6K+B56CB5pWw5o2u77yM6K6+572u6LaF5pe25pe26Ze077yM5Y2V5L2NOiBzXG4gICAgLy8g6K6+572u5Zu+54mH6aqM6K+B56CB6LaF5pe2MTDliIbpkp9cbiAgICBzZXRWYWx1ZShib2R5LnNpZCwgbmV3Q2FwdGNhLnRleHQsIDEwICogNjApXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiBuZXdDYXB0Y2EuZGF0YVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEhvdFBvc3QgKGN0eCkge1xuICAgIC8vIHBhZ2UgbGltaXRcbiAgICAvLyB0eXBlIGluZGV4IDAtM+aXpeWGhe+8jCAxLTfml6XlhoXvvIwgMi0zMOaXpeWGhe+8jCAzLeWFqOmDqFxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcnNlSW50KHBhcmFtcy5wYWdlKSA6IDBcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgIGNvbnN0IGluZGV4ID0gcGFyYW1zLmluZGV4ID8gcGFyYW1zLmluZGV4IDogJzAnXG4gICAgbGV0IHN0YXJ0VGltZSA9ICcnXG4gICAgbGV0IGVuZFRpbWUgPSAnJ1xuICAgIGlmIChpbmRleCA9PT0gJzAnKSB7XG4gICAgICBzdGFydFRpbWUgPSBtb21lbnQoKS5zdWJ0cmFjdCgyLCAnZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREIDAwOjAwOjAwJylcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAnMScpIHtcbiAgICAgIHN0YXJ0VGltZSA9IG1vbWVudCgpLnN1YnRyYWN0KDYsICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQgMDA6MDA6MDAnKVxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09ICcyJykge1xuICAgICAgc3RhcnRUaW1lID0gbW9tZW50KCkuc3VidHJhY3QoMjksICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQgMDA6MDA6MDAnKVxuICAgIH1cbiAgICBlbmRUaW1lID0gbW9tZW50KCkuYWRkKDEsICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQgMDA6MDA6MDAnKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0SG90UG9zdChwYWdlLCBsaW1pdCwgc3RhcnRUaW1lLCBlbmRUaW1lKVxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5nZXRIb3RQb3N0Q291bnQocGFnZSwgbGltaXQsIHN0YXJ0VGltZSwgZW5kVGltZSlcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIHRvdGFsLFxuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgbXNnOiAn6I635Y+W54Ot6Zeo5paH56ug5oiQ5YqfJ1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEhvdENvbW1lbnRzIChjdHgpIHtcbiAgICAvLyAwLeeDremXqOivhOiuuu+8jDEt5pyA5paw6K+E6K66XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyc2VJbnQocGFyYW1zLnBhZ2UpIDogMFxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgY29uc3QgaW5kZXggPSBwYXJhbXMuaW5kZXggPyBwYXJhbXMuaW5kZXggOiAnMCdcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRIb3RDb21tZW50cyhwYWdlLCBsaW1pdCwgaW5kZXgpXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBDb21tZW50cy5nZXRIb3RDb21tZW50c0NvdW50KGluZGV4KVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgdG90YWwsXG4gICAgICBtc2c6ICfojrflj5bng63pl6jor4TorrrmiJDlip8nXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0SG90U2lnblJlY29yZCAoY3R4KSB7XG4gICAgLy8gMC3mgLvnrb7liLDmppzvvIwxLeacgOaWsOetvuWIsFxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcnNlSW50KHBhcmFtcy5wYWdlKSA6IDBcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxuICAgIGNvbnN0IGluZGV4ID0gcGFyYW1zLmluZGV4ID8gcGFyYW1zLmluZGV4IDogJzAnXG4gICAgbGV0IHJlc3VsdFxuICAgIGxldCB0b3RhbCA9IDBcbiAgICBpZiAoaW5kZXggPT09ICcwJykge1xuICAgICAgLy8g5oC7562+5Yiw5qacXG4gICAgICByZXN1bHQgPSBhd2FpdCBVc2VyLmdldFRvdGFsU2lnbihwYWdlLCBsaW1pdClcbiAgICAgIHRvdGFsID0gYXdhaXQgVXNlci5nZXRUb3RhbFNpZ25Db3VudCgpXG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gJzEnKSB7XG4gICAgICAvLyDku4rml6Xnrb7liLBcbiAgICAgIHJlc3VsdCA9IGF3YWl0IFNpZ25SZWNvcmQuZ2V0VG9wU2lnbihwYWdlLCBsaW1pdClcbiAgICAgIHRvdGFsID0gYXdhaXQgU2lnblJlY29yZC5nZXRUb3BTaWduQ291bnQoKVxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09ICcyJykge1xuICAgICAgLy8g5pyA5paw562+5YiwXG4gICAgICByZXN1bHQgPSBhd2FpdCBTaWduUmVjb3JkLmdldExhdGVzdFNpZ24ocGFnZSwgbGltaXQpXG4gICAgICB0b3RhbCA9IGF3YWl0IFNpZ25SZWNvcmQuZ2V0U2lnbkNvdW50KClcbiAgICB9XG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICB0b3RhbCxcbiAgICAgIG1zZzogJ+iOt+WPluetvuWIsOaOkuihjOaIkOWKnydcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFB1YmxpY0NvbnRyb2xsZXIoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/model/CommentsHands */ \"./src/model/CommentsHands.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UserController {\n  // 用户签到接口\n  async userSign(ctx) {\n    // 取用户的ID\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // 查询用户上一次签到记录\n\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    let newRecord = {};\n    let result = ''; // 判断签到逻辑\n\n    if (record !== null) {\n      // 有历史的签到数据\n      // 判断用户上一次签到记录的created时间是否与今天相同\n      // 如果当前时间的日期与用户上一次的签到日期相同，说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_4___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        };\n        return;\n      } else {\n        // 有上一次的签到记录，并且不与今天相同，进行连续签到的判断\n        // 如果相同，代表用户是在连续签到\n        let count = user.count;\n        let fav = 0; // 判断签到时间: 用户上一次的签到时间等于，当前时间的前一天，说明，用户在连续签到\n        // 第n+1天签到的时候，需要与第n的天created比较\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_4___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_4___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          // 连续签到的积分获得逻辑\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          }\n\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            // user.favs += fav\n            // user.count += 1\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          // 用户中断了一次签到\n          // 第n+1天签到的时候，需要与第n的天created比较，如果不相等，说明中断了签到。\n          fav = 5;\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $set: {\n              count: 1\n            },\n            $inc: {\n              favs: fav\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } // 更新签到记录\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: fav\n        });\n        await newRecord.save();\n      }\n    } else {\n      // 无签到数据 =》 第一次签到\n      // 保存用户的签到数据，签到记数 + 积分数据\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          count: 1\n        },\n        $inc: {\n          favs: 5\n        }\n      }); // 保存用户的签到记录\n\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        favs: 5\n      });\n      await newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } // 更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // 判断用户是否修改了邮箱\n\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n    let msg = '';\n\n    if (body.username && body.username !== user.username) {\n      // 用户修改了邮箱\n      // 发送reset邮件\n      // 判断用户的新邮箱是否已经有人注册\n      const tmpUser = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (tmpUser && tmpUser.password) {\n        ctx.body = {\n          code: 501,\n          msg: '邮箱已经注册'\n        };\n        return;\n      }\n\n      const key = Object(uuid__WEBPACK_IMPORTED_MODULE_6__[\"v4\"])();\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_7___default.a.sign({\n        _id: obj._id\n      }, _config__WEBPACK_IMPORTED_MODULE_8__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m'\n      }));\n      await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n        type: 'email',\n        data: {\n          key: key,\n          username: body.username\n        },\n        code: '',\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_4___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: user.username,\n        user: user.name\n      });\n      msg = '更新基本资料成功，账号修改需要邮件确认，请查收邮件！';\n    }\n\n    const arr = ['username', 'mobile', 'password'];\n    arr.map(item => {\n      delete body[item];\n    });\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新失败'\n      };\n    }\n  } // 更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"getValue\"])(body.key);\n      const obj = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])('Bearer ' + token);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  } // 修改密码接口\n\n\n  async changePasswd(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n\n    if (await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.compare(body.oldpwd, user.password)) {\n      const newpasswd = await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.newpwd, 5);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          password: newpasswd\n        }\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新密码成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新密码错误，请检查！'\n      };\n    }\n  } // 设置收藏\n\n\n  async setCollect(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n\n    if (parseInt(params.isFav)) {\n      // 说明用户已经收藏了帖子\n      await _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n      ctx.body = {\n        code: 200,\n        msg: '取消收藏成功'\n      };\n    } else {\n      const newCollect = new _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n        uid: obj._id,\n        tid: params.tid,\n        title: params.title\n      });\n      const result = await newCollect.save();\n\n      if (result.uid) {\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '收藏成功'\n        };\n      }\n    }\n  } // 获取收藏列表\n\n\n  async getCollectByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const result = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 获取用户基本信息\n\n\n  async getBasicInfo(ctx) {\n    const params = ctx.query; // const obj = await getJWTPayload(ctx.header.authorization)\n\n    const uid = params.uid || ctx._id;\n    let user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(uid); // 取得用户的签到记录 有没有 > today 0:00:00\n\n    user = user.toJSON();\n    const date = dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYY-MM-DD');\n    const result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: uid,\n      created: {\n        $gte: date + ' 00:00:00'\n      }\n    });\n\n    if (result && result.uid) {\n      user.isSign = true;\n    } else {\n      user.isSign = false;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: user,\n      msg: '查询成功！'\n    };\n  } // 获取历史消息\n  // 记录评论之后，给作者发送消息\n\n\n  async getMsg(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0; // 方法一： 嵌套查询 -> aggregate\n    // 方法二： 通过冗余换时间\n\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_11__[\"default\"].getTotal(obj._id);\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_11__[\"default\"].getMsgList(obj._id, page, limit);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: num\n    };\n  } // 设置已读消息\n\n\n  async setMsg(ctx) {\n    const params = ctx.query;\n\n    if (params.id) {\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_11__[\"default\"].updateOne({\n        _id: params.id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    } else {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_11__[\"default\"].updateMany({\n        uid: obj._id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    }\n  } // 获取历史消息\n  // 记录评论之后，给作者发送消息\n\n\n  async getHands(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0; // 方法一： 嵌套查询 -> aggregate\n    // 方法二： 通过冗余换时间\n\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const result = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getHandsByUid(obj._id, page, limit);\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 获取用户列表\n\n\n  async getUsers(ctx) {\n    let params = ctx.query;\n    params = qs__WEBPACK_IMPORTED_MODULE_12___default.a.parse(params);\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0;\n    const sort = params.sort || 'created';\n    const option = params.option || {};\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getList(option, sort, page, limit);\n    const total = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countList(option);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: total\n    };\n  } // 管理员删除用户\n\n\n  async deleteUserById(ctx) {\n    const {\n      body\n    } = ctx.request; // const user = await User.findOne({ _id: params.id })\n    // if (user) {\n\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    }; // } else {\n    //   ctx.body = {\n    //     code: 500,\n    //     msg: '用户不存在或者id信息错误！'\n    //   }\n    // }\n  } // 管理员更新用户\n\n\n  async updateUserById(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: body._id\n    }); // 1.校验用户是否存在 -> 用户名是否冲突\n\n    if (!user) {\n      ctx.body = {\n        code: 500,\n        msg: '用户不存在或者id信息错误！'\n      };\n      return;\n    } // if (body.username !== user.username) {\n    //   const userCheckName = await User.findOne({ username: body.username })\n    //   if (userCheckName) {\n    //     ctx.body = {\n    //       code: 501,\n    //       msg: '用户名已经存在，更新失败！'\n    //     }\n    //     return\n    //   }\n    // }\n    // 2.判断密码是否传递 -> 进行加密保存\n\n\n    if (body.password) {\n      body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.password, 5);\n    }\n\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1 && result.nModified === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '更新成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务异常，更新失败'\n      };\n    }\n  } // 批量设置用户属性\n  // 方法一：新增一个接口 方法二： options -> action 'one' 'many'\n\n\n  async updateUserBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n  async checkUsername(ctx) {\n    const params = ctx.query;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      username: params.username\n    }); // 默认是 1 - 校验通过， 0 - 校验失败\n\n    let result = 1;\n\n    if (user && user.username) {\n      result = 0;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '用户名已经存在，更新失败！'\n    };\n  }\n\n  async addUser(ctx) {\n    const {\n      body\n    } = ctx.request;\n    body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.password, 5);\n    const user = new _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"](body);\n    const result = await user.save();\n    const userObj = result.toJSON();\n    const arr = ['password'];\n    arr.map(item => {\n      delete userObj[item];\n    });\n\n    if (result) {\n      ctx.body = {\n        code: 200,\n        data: userObj,\n        msg: '添加用户成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务接口异常'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJ1c2VyU2lnbiIsImN0eCIsIm9iaiIsImdldEpXVFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwicmVjb3JkIiwiU2lnblJlY29yZCIsImZpbmRCeVVpZCIsIl9pZCIsInVzZXIiLCJVc2VyIiwiZmluZEJ5SUQiLCJuZXdSZWNvcmQiLCJyZXN1bHQiLCJtb21lbnQiLCJjcmVhdGVkIiwiZm9ybWF0IiwiYm9keSIsImNvZGUiLCJmYXZzIiwiY291bnQiLCJsYXN0U2lnbiIsIm1zZyIsImZhdiIsInN1YnRyYWN0IiwidXBkYXRlT25lIiwiJGluYyIsIiRzZXQiLCJ1aWQiLCJzYXZlIiwidXBkYXRlVXNlckluZm8iLCJyZXF1ZXN0IiwiZmluZE9uZSIsInVzZXJuYW1lIiwidG1wVXNlciIsInBhc3N3b3JkIiwia2V5IiwidXVpZHY0Iiwic2V0VmFsdWUiLCJqd3QiLCJzaWduIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInNlbmQiLCJ0eXBlIiwiZGF0YSIsImV4cGlyZSIsImFkZCIsImVtYWlsIiwibmFtZSIsImFyciIsIm1hcCIsIml0ZW0iLCJuIiwib2siLCJ1cGRhdGVVc2VybmFtZSIsInF1ZXJ5IiwidG9rZW4iLCJnZXRWYWx1ZSIsImNoYW5nZVBhc3N3ZCIsImJjcnlwdCIsImNvbXBhcmUiLCJvbGRwd2QiLCJuZXdwYXNzd2QiLCJoYXNoIiwibmV3cHdkIiwic2V0Q29sbGVjdCIsInBhcmFtcyIsInBhcnNlSW50IiwiaXNGYXYiLCJVc2VyQ29sbGVjdCIsImRlbGV0ZU9uZSIsInRpZCIsIm5ld0NvbGxlY3QiLCJ0aXRsZSIsImdldENvbGxlY3RCeVVpZCIsImdldExpc3RCeVVpZCIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwiY291bnRCeVVpZCIsImxlbmd0aCIsImdldEJhc2ljSW5mbyIsInRvSlNPTiIsImRhdGUiLCIkZ3RlIiwiaXNTaWduIiwiZ2V0TXNnIiwibnVtIiwiQ29tbWVudHMiLCJnZXRUb3RhbCIsImdldE1zZ0xpc3QiLCJzZXRNc2ciLCJpZCIsImlzUmVhZCIsInVwZGF0ZU1hbnkiLCJnZXRIYW5kcyIsIkNvbW1lbnRzSGFuZHMiLCJnZXRIYW5kc0J5VWlkIiwiZ2V0VXNlcnMiLCJxcyIsInBhcnNlIiwic29ydCIsIm9wdGlvbiIsImdldExpc3QiLCJjb3VudExpc3QiLCJkZWxldGVVc2VyQnlJZCIsImRlbGV0ZU1hbnkiLCIkaW4iLCJpZHMiLCJ1cGRhdGVVc2VyQnlJZCIsIm5Nb2RpZmllZCIsInVwZGF0ZVVzZXJCYXRjaCIsInNldHRpbmdzIiwiY2hlY2tVc2VybmFtZSIsImFkZFVzZXIiLCJ1c2VyT2JqIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxjQUFOLENBQXFCO0VBQ25CO0VBQ2MsTUFBUkMsUUFBUSxDQUFFQyxHQUFGLEVBQU87SUFDbkI7SUFDQSxNQUFNQyxHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0IsQ0FGbUIsQ0FHbkI7O0lBQ0EsTUFBTUMsTUFBTSxHQUFHLE1BQU1DLHlEQUFVLENBQUNDLFNBQVgsQ0FBcUJOLEdBQUcsQ0FBQ08sR0FBekIsQ0FBckI7SUFDQSxNQUFNQyxJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ0MsUUFBTCxDQUFjVixHQUFHLENBQUNPLEdBQWxCLENBQW5CO0lBQ0EsSUFBSUksU0FBUyxHQUFHLEVBQWhCO0lBQ0EsSUFBSUMsTUFBTSxHQUFHLEVBQWIsQ0FQbUIsQ0FRbkI7O0lBQ0EsSUFBSVIsTUFBTSxLQUFLLElBQWYsRUFBcUI7TUFDbkI7TUFDQTtNQUNBO01BQ0EsSUFDRVMsNENBQU0sQ0FBQ1QsTUFBTSxDQUFDVSxPQUFSLENBQU4sQ0FBdUJDLE1BQXZCLENBQThCLFlBQTlCLE1BQ0FGLDRDQUFNLEdBQUdFLE1BQVQsQ0FBZ0IsWUFBaEIsQ0FGRixFQUdFO1FBQ0FoQixHQUFHLENBQUNpQixJQUFKLEdBQVc7VUFDVEMsSUFBSSxFQUFFLEdBREc7VUFFVEMsSUFBSSxFQUFFVixJQUFJLENBQUNVLElBRkY7VUFHVEMsS0FBSyxFQUFFWCxJQUFJLENBQUNXLEtBSEg7VUFJVEMsUUFBUSxFQUFFaEIsTUFBTSxDQUFDVSxPQUpSO1VBS1RPLEdBQUcsRUFBRTtRQUxJLENBQVg7UUFPQTtNQUNELENBWkQsTUFZTztRQUNMO1FBQ0E7UUFDQSxJQUFJRixLQUFLLEdBQUdYLElBQUksQ0FBQ1csS0FBakI7UUFDQSxJQUFJRyxHQUFHLEdBQUcsQ0FBVixDQUpLLENBS0w7UUFDQTs7UUFDQSxJQUNFVCw0Q0FBTSxDQUFDVCxNQUFNLENBQUNVLE9BQVIsQ0FBTixDQUF1QkMsTUFBdkIsQ0FBOEIsWUFBOUIsTUFDQUYsNENBQU0sR0FDSFUsUUFESCxDQUNZLENBRFosRUFDZSxNQURmLEVBRUdSLE1BRkgsQ0FFVSxZQUZWLENBRkYsRUFLRTtVQUNBO1VBQ0FJLEtBQUssSUFBSSxDQUFUOztVQUNBLElBQUlBLEtBQUssR0FBRyxDQUFaLEVBQWU7WUFDYkcsR0FBRyxHQUFHLENBQU47VUFDRCxDQUZELE1BRU8sSUFBSUgsS0FBSyxJQUFJLENBQVQsSUFBY0EsS0FBSyxHQUFHLEVBQTFCLEVBQThCO1lBQ25DRyxHQUFHLEdBQUcsRUFBTjtVQUNELENBRk0sTUFFQSxJQUFJSCxLQUFLLElBQUksRUFBVCxJQUFlQSxLQUFLLEdBQUcsRUFBM0IsRUFBK0I7WUFDcENHLEdBQUcsR0FBRyxFQUFOO1VBQ0QsQ0FGTSxNQUVBLElBQUlILEtBQUssSUFBSSxFQUFULElBQWVBLEtBQUssR0FBRyxHQUEzQixFQUFnQztZQUNyQ0csR0FBRyxHQUFHLEVBQU47VUFDRCxDQUZNLE1BRUEsSUFBSUgsS0FBSyxJQUFJLEdBQVQsSUFBZ0JBLEtBQUssR0FBRyxHQUE1QixFQUFpQztZQUN0Q0csR0FBRyxHQUFHLEVBQU47VUFDRCxDQUZNLE1BRUEsSUFBSUgsS0FBSyxJQUFJLEdBQWIsRUFBa0I7WUFDdkJHLEdBQUcsR0FBRyxFQUFOO1VBQ0Q7O1VBQ0QsTUFBTWIsbURBQUksQ0FBQ2UsU0FBTCxDQUNKO1lBQUVqQixHQUFHLEVBQUVQLEdBQUcsQ0FBQ087VUFBWCxDQURJLEVBRUo7WUFDRTtZQUNBO1lBQ0FrQixJQUFJLEVBQUU7Y0FBRVAsSUFBSSxFQUFFSSxHQUFSO2NBQWFILEtBQUssRUFBRTtZQUFwQjtVQUhSLENBRkksQ0FBTjtVQVFBUCxNQUFNLEdBQUc7WUFDUE0sSUFBSSxFQUFFVixJQUFJLENBQUNVLElBQUwsR0FBWUksR0FEWDtZQUVQSCxLQUFLLEVBQUVYLElBQUksQ0FBQ1csS0FBTCxHQUFhO1VBRmIsQ0FBVDtRQUlELENBakNELE1BaUNPO1VBQ0w7VUFDQTtVQUNBRyxHQUFHLEdBQUcsQ0FBTjtVQUNBLE1BQU1iLG1EQUFJLENBQUNlLFNBQUwsQ0FDSjtZQUFFakIsR0FBRyxFQUFFUCxHQUFHLENBQUNPO1VBQVgsQ0FESSxFQUVKO1lBQ0VtQixJQUFJLEVBQUU7Y0FBRVAsS0FBSyxFQUFFO1lBQVQsQ0FEUjtZQUVFTSxJQUFJLEVBQUU7Y0FBRVAsSUFBSSxFQUFFSTtZQUFSO1VBRlIsQ0FGSSxDQUFOO1VBT0FWLE1BQU0sR0FBRztZQUNQTSxJQUFJLEVBQUVWLElBQUksQ0FBQ1UsSUFBTCxHQUFZSSxHQURYO1lBRVBILEtBQUssRUFBRTtVQUZBLENBQVQ7UUFJRCxDQXZESSxDQXdETDs7O1FBQ0FSLFNBQVMsR0FBRyxJQUFJTix5REFBSixDQUFlO1VBQ3pCc0IsR0FBRyxFQUFFM0IsR0FBRyxDQUFDTyxHQURnQjtVQUV6QlcsSUFBSSxFQUFFSTtRQUZtQixDQUFmLENBQVo7UUFJQSxNQUFNWCxTQUFTLENBQUNpQixJQUFWLEVBQU47TUFDRDtJQUNGLENBL0VELE1BK0VPO01BQ0w7TUFDQTtNQUNBLE1BQU1uQixtREFBSSxDQUFDZSxTQUFMLENBQ0o7UUFDRWpCLEdBQUcsRUFBRVAsR0FBRyxDQUFDTztNQURYLENBREksRUFJSjtRQUNFbUIsSUFBSSxFQUFFO1VBQUVQLEtBQUssRUFBRTtRQUFULENBRFI7UUFFRU0sSUFBSSxFQUFFO1VBQUVQLElBQUksRUFBRTtRQUFSO01BRlIsQ0FKSSxDQUFOLENBSEssQ0FZTDs7TUFDQVAsU0FBUyxHQUFHLElBQUlOLHlEQUFKLENBQWU7UUFDekJzQixHQUFHLEVBQUUzQixHQUFHLENBQUNPLEdBRGdCO1FBRXpCVyxJQUFJLEVBQUU7TUFGbUIsQ0FBZixDQUFaO01BSUEsTUFBTVAsU0FBUyxDQUFDaUIsSUFBVixFQUFOO01BQ0FoQixNQUFNLEdBQUc7UUFDUE0sSUFBSSxFQUFFVixJQUFJLENBQUNVLElBQUwsR0FBWSxDQURYO1FBRVBDLEtBQUssRUFBRTtNQUZBLENBQVQ7SUFJRDs7SUFDRHBCLEdBQUcsQ0FBQ2lCLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUSSxHQUFHLEVBQUUsTUFGSTtNQUdULEdBQUdULE1BSE07TUFJVFEsUUFBUSxFQUFFVCxTQUFTLENBQUNHO0lBSlgsQ0FBWDtFQU1ELENBdkhrQixDQXlIbkI7OztFQUNvQixNQUFkZSxjQUFjLENBQUU5QixHQUFGLEVBQU87SUFDekIsTUFBTTtNQUFFaUI7SUFBRixJQUFXakIsR0FBRyxDQUFDK0IsT0FBckI7SUFDQSxNQUFNOUIsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9CLENBRnlCLENBR3pCOztJQUNBLE1BQU1LLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDc0IsT0FBTCxDQUFhO01BQUV4QixHQUFHLEVBQUVQLEdBQUcsQ0FBQ087SUFBWCxDQUFiLENBQW5CO0lBQ0EsSUFBSWMsR0FBRyxHQUFHLEVBQVY7O0lBQ0EsSUFBSUwsSUFBSSxDQUFDZ0IsUUFBTCxJQUFpQmhCLElBQUksQ0FBQ2dCLFFBQUwsS0FBa0J4QixJQUFJLENBQUN3QixRQUE1QyxFQUFzRDtNQUNwRDtNQUNBO01BQ0E7TUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBTXhCLG1EQUFJLENBQUNzQixPQUFMLENBQWE7UUFBRUMsUUFBUSxFQUFFaEIsSUFBSSxDQUFDZ0I7TUFBakIsQ0FBYixDQUF0Qjs7TUFDQSxJQUFJQyxPQUFPLElBQUlBLE9BQU8sQ0FBQ0MsUUFBdkIsRUFBaUM7UUFDL0JuQyxHQUFHLENBQUNpQixJQUFKLEdBQVc7VUFDVEMsSUFBSSxFQUFFLEdBREc7VUFFVEksR0FBRyxFQUFFO1FBRkksQ0FBWDtRQUlBO01BQ0Q7O01BQ0QsTUFBTWMsR0FBRyxHQUFHQywrQ0FBTSxFQUFsQjtNQUNBQyxvRUFBUSxDQUNORixHQURNLEVBRU5HLG1EQUFHLENBQUNDLElBQUosQ0FBUztRQUFFaEMsR0FBRyxFQUFFUCxHQUFHLENBQUNPO01BQVgsQ0FBVCxFQUEyQmlDLCtDQUFNLENBQUNDLFVBQWxDLEVBQThDO1FBQzVDQyxTQUFTLEVBQUU7TUFEaUMsQ0FBOUMsQ0FGTSxDQUFSO01BTUEsTUFBTUMsa0VBQUksQ0FBQztRQUNUQyxJQUFJLEVBQUUsT0FERztRQUVUQyxJQUFJLEVBQUU7VUFDSlYsR0FBRyxFQUFFQSxHQUREO1VBRUpILFFBQVEsRUFBRWhCLElBQUksQ0FBQ2dCO1FBRlgsQ0FGRztRQU1UZixJQUFJLEVBQUUsRUFORztRQU9UNkIsTUFBTSxFQUFFakMsNENBQU0sR0FDWGtDLEdBREssQ0FDRCxFQURDLEVBQ0csU0FESCxFQUVMaEMsTUFGSyxDQUVFLHFCQUZGLENBUEM7UUFVVGlDLEtBQUssRUFBRXhDLElBQUksQ0FBQ3dCLFFBVkg7UUFXVHhCLElBQUksRUFBRUEsSUFBSSxDQUFDeUM7TUFYRixDQUFELENBQVY7TUFhQTVCLEdBQUcsR0FBRyw0QkFBTjtJQUNEOztJQUVELE1BQU02QixHQUFHLEdBQUcsQ0FBQyxVQUFELEVBQWEsUUFBYixFQUF1QixVQUF2QixDQUFaO0lBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxJQUFJLElBQUk7TUFDZCxPQUFPcEMsSUFBSSxDQUFDb0MsSUFBRCxDQUFYO0lBQ0QsQ0FGRDtJQUdBLE1BQU14QyxNQUFNLEdBQUcsTUFBTUgsbURBQUksQ0FBQ2UsU0FBTCxDQUFlO01BQUVqQixHQUFHLEVBQUVQLEdBQUcsQ0FBQ087SUFBWCxDQUFmLEVBQWlDUyxJQUFqQyxDQUFyQjs7SUFDQSxJQUFJSixNQUFNLENBQUN5QyxDQUFQLEtBQWEsQ0FBYixJQUFrQnpDLE1BQU0sQ0FBQzBDLEVBQVAsS0FBYyxDQUFwQyxFQUF1QztNQUNyQ3ZELEdBQUcsQ0FBQ2lCLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVUSSxHQUFHLEVBQUVBLEdBQUcsS0FBSyxFQUFSLEdBQWEsTUFBYixHQUFzQkE7TUFGbEIsQ0FBWDtJQUlELENBTEQsTUFLTztNQUNMdEIsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRDtFQUNGLENBbkxrQixDQXFMbkI7OztFQUNvQixNQUFka0MsY0FBYyxDQUFFeEQsR0FBRixFQUFPO0lBQ3pCLE1BQU1pQixJQUFJLEdBQUdqQixHQUFHLENBQUN5RCxLQUFqQjs7SUFDQSxJQUFJeEMsSUFBSSxDQUFDbUIsR0FBVCxFQUFjO01BQ1osTUFBTXNCLEtBQUssR0FBRyxNQUFNQyxvRUFBUSxDQUFDMUMsSUFBSSxDQUFDbUIsR0FBTixDQUE1QjtNQUNBLE1BQU1uQyxHQUFHLEdBQUdDLG1FQUFhLENBQUMsWUFBWXdELEtBQWIsQ0FBekI7TUFDQSxNQUFNaEQsbURBQUksQ0FBQ2UsU0FBTCxDQUNKO1FBQUVqQixHQUFHLEVBQUVQLEdBQUcsQ0FBQ087TUFBWCxDQURJLEVBRUo7UUFDRXlCLFFBQVEsRUFBRWhCLElBQUksQ0FBQ2dCO01BRGpCLENBRkksQ0FBTjtNQU1BakMsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRDtFQUNGLENBdE1rQixDQXdNbkI7OztFQUNrQixNQUFac0MsWUFBWSxDQUFFNUQsR0FBRixFQUFPO0lBQ3ZCLE1BQU07TUFBRWlCO0lBQUYsSUFBV2pCLEdBQUcsQ0FBQytCLE9BQXJCO0lBQ0EsTUFBTTlCLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtJQUNBLE1BQU1LLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDc0IsT0FBTCxDQUFhO01BQUV4QixHQUFHLEVBQUVQLEdBQUcsQ0FBQ087SUFBWCxDQUFiLENBQW5COztJQUNBLElBQUksTUFBTXFELDhDQUFNLENBQUNDLE9BQVAsQ0FBZTdDLElBQUksQ0FBQzhDLE1BQXBCLEVBQTRCdEQsSUFBSSxDQUFDMEIsUUFBakMsQ0FBVixFQUFzRDtNQUNwRCxNQUFNNkIsU0FBUyxHQUFHLE1BQU1ILDhDQUFNLENBQUNJLElBQVAsQ0FBWWhELElBQUksQ0FBQ2lELE1BQWpCLEVBQXlCLENBQXpCLENBQXhCO01BQ0EsTUFBTXhELG1EQUFJLENBQUNlLFNBQUwsQ0FBZTtRQUFFakIsR0FBRyxFQUFFUCxHQUFHLENBQUNPO01BQVgsQ0FBZixFQUFpQztRQUFFbUIsSUFBSSxFQUFFO1VBQUVRLFFBQVEsRUFBRTZCO1FBQVo7TUFBUixDQUFqQyxDQUFOO01BQ0FoRSxHQUFHLENBQUNpQixJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVEksR0FBRyxFQUFFO01BRkksQ0FBWDtJQUlELENBUEQsTUFPTztNQUNMdEIsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRDtFQUNGLENBMU5rQixDQTRObkI7OztFQUNnQixNQUFWNkMsVUFBVSxDQUFFbkUsR0FBRixFQUFPO0lBQ3JCLE1BQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQjtJQUNBLE1BQU14RCxHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0I7O0lBQ0EsSUFBSWlFLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDRSxLQUFSLENBQVosRUFBNEI7TUFDMUI7TUFDQSxNQUFNQywwREFBVyxDQUFDQyxTQUFaLENBQXNCO1FBQUU1QyxHQUFHLEVBQUUzQixHQUFHLENBQUNPLEdBQVg7UUFBZ0JpRSxHQUFHLEVBQUVMLE1BQU0sQ0FBQ0s7TUFBNUIsQ0FBdEIsQ0FBTjtNQUNBekUsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRCxDQVBELE1BT087TUFDTCxNQUFNb0QsVUFBVSxHQUFHLElBQUlILDBEQUFKLENBQWdCO1FBQ2pDM0MsR0FBRyxFQUFFM0IsR0FBRyxDQUFDTyxHQUR3QjtRQUVqQ2lFLEdBQUcsRUFBRUwsTUFBTSxDQUFDSyxHQUZxQjtRQUdqQ0UsS0FBSyxFQUFFUCxNQUFNLENBQUNPO01BSG1CLENBQWhCLENBQW5CO01BS0EsTUFBTTlELE1BQU0sR0FBRyxNQUFNNkQsVUFBVSxDQUFDN0MsSUFBWCxFQUFyQjs7TUFDQSxJQUFJaEIsTUFBTSxDQUFDZSxHQUFYLEVBQWdCO1FBQ2Q1QixHQUFHLENBQUNpQixJQUFKLEdBQVc7VUFDVEMsSUFBSSxFQUFFLEdBREc7VUFFVDRCLElBQUksRUFBRWpDLE1BRkc7VUFHVFMsR0FBRyxFQUFFO1FBSEksQ0FBWDtNQUtEO0lBQ0Y7RUFDRixDQXRQa0IsQ0F3UG5COzs7RUFDcUIsTUFBZnNELGVBQWUsQ0FBRTVFLEdBQUYsRUFBTztJQUMxQixNQUFNb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBbkI7SUFDQSxNQUFNeEQsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9CO0lBQ0EsTUFBTVMsTUFBTSxHQUFHLE1BQU0wRCwwREFBVyxDQUFDTSxZQUFaLENBQ25CNUUsR0FBRyxDQUFDTyxHQURlLEVBRW5CNEQsTUFBTSxDQUFDVSxJQUZZLEVBR25CVixNQUFNLENBQUNXLEtBQVAsR0FBZVYsUUFBUSxDQUFDRCxNQUFNLENBQUNXLEtBQVIsQ0FBdkIsR0FBd0MsRUFIckIsQ0FBckI7SUFLQSxNQUFNQyxLQUFLLEdBQUcsTUFBTVQsMERBQVcsQ0FBQ1UsVUFBWixDQUF1QmhGLEdBQUcsQ0FBQ08sR0FBM0IsQ0FBcEI7O0lBQ0EsSUFBSUssTUFBTSxDQUFDcUUsTUFBUCxHQUFnQixDQUFwQixFQUF1QjtNQUNyQmxGLEdBQUcsQ0FBQ2lCLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVUNEIsSUFBSSxFQUFFakMsTUFGRztRQUdUbUUsS0FIUztRQUlUMUQsR0FBRyxFQUFFO01BSkksQ0FBWDtJQU1ELENBUEQsTUFPTztNQUNMdEIsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRDtFQUNGLENBL1FrQixDQWlSbkI7OztFQUNrQixNQUFaNkQsWUFBWSxDQUFFbkYsR0FBRixFQUFPO0lBQ3ZCLE1BQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQixDQUR1QixDQUV2Qjs7SUFDQSxNQUFNN0IsR0FBRyxHQUFHd0MsTUFBTSxDQUFDeEMsR0FBUCxJQUFjNUIsR0FBRyxDQUFDUSxHQUE5QjtJQUNBLElBQUlDLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDQyxRQUFMLENBQWNpQixHQUFkLENBQWpCLENBSnVCLENBS3ZCOztJQUNBbkIsSUFBSSxHQUFHQSxJQUFJLENBQUMyRSxNQUFMLEVBQVA7SUFDQSxNQUFNQyxJQUFJLEdBQUd2RSw0Q0FBTSxHQUFHRSxNQUFULENBQWdCLFlBQWhCLENBQWI7SUFDQSxNQUFNSCxNQUFNLEdBQUcsTUFBTVAseURBQVUsQ0FBQzBCLE9BQVgsQ0FBbUI7TUFDdENKLEdBQUcsRUFBRUEsR0FEaUM7TUFFdENiLE9BQU8sRUFBRTtRQUFFdUUsSUFBSSxFQUFFRCxJQUFJLEdBQUc7TUFBZjtJQUY2QixDQUFuQixDQUFyQjs7SUFJQSxJQUFJeEUsTUFBTSxJQUFJQSxNQUFNLENBQUNlLEdBQXJCLEVBQTBCO01BQ3hCbkIsSUFBSSxDQUFDOEUsTUFBTCxHQUFjLElBQWQ7SUFDRCxDQUZELE1BRU87TUFDTDlFLElBQUksQ0FBQzhFLE1BQUwsR0FBYyxLQUFkO0lBQ0Q7O0lBQ0R2RixHQUFHLENBQUNpQixJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVDRCLElBQUksRUFBRXJDLElBRkc7TUFHVGEsR0FBRyxFQUFFO0lBSEksQ0FBWDtFQUtELENBeFNrQixDQTBTbkI7RUFDQTs7O0VBQ1ksTUFBTmtFLE1BQU0sQ0FBRXhGLEdBQUYsRUFBTztJQUNqQixNQUFNb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBbkI7SUFDQSxNQUFNcUIsSUFBSSxHQUFHVixNQUFNLENBQUNVLElBQVAsR0FBY1YsTUFBTSxDQUFDVSxJQUFyQixHQUE0QixDQUF6QztJQUNBLE1BQU1DLEtBQUssR0FBR1gsTUFBTSxDQUFDVyxLQUFQLEdBQWVWLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDVyxLQUFSLENBQXZCLEdBQXdDLENBQXRELENBSGlCLENBSWpCO0lBQ0E7O0lBQ0EsTUFBTTlFLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtJQUNBLE1BQU1xRixHQUFHLEdBQUcsTUFBTUMsd0RBQVEsQ0FBQ0MsUUFBVCxDQUFrQjFGLEdBQUcsQ0FBQ08sR0FBdEIsQ0FBbEI7SUFDQSxNQUFNSyxNQUFNLEdBQUcsTUFBTTZFLHdEQUFRLENBQUNFLFVBQVQsQ0FBb0IzRixHQUFHLENBQUNPLEdBQXhCLEVBQTZCc0UsSUFBN0IsRUFBbUNDLEtBQW5DLENBQXJCO0lBRUEvRSxHQUFHLENBQUNpQixJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVDRCLElBQUksRUFBRWpDLE1BRkc7TUFHVG1FLEtBQUssRUFBRVM7SUFIRSxDQUFYO0VBS0QsQ0EzVGtCLENBNlRuQjs7O0VBQ1ksTUFBTkksTUFBTSxDQUFFN0YsR0FBRixFQUFPO0lBQ2pCLE1BQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQjs7SUFDQSxJQUFJVyxNQUFNLENBQUMwQixFQUFYLEVBQWU7TUFDYixNQUFNakYsTUFBTSxHQUFHLE1BQU02RSx3REFBUSxDQUFDakUsU0FBVCxDQUNuQjtRQUFFakIsR0FBRyxFQUFFNEQsTUFBTSxDQUFDMEI7TUFBZCxDQURtQixFQUVuQjtRQUFFQyxNQUFNLEVBQUU7TUFBVixDQUZtQixDQUFyQjs7TUFJQSxJQUFJbEYsTUFBTSxDQUFDMEMsRUFBUCxLQUFjLENBQWxCLEVBQXFCO1FBQ25CdkQsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1VBQ1RDLElBQUksRUFBRTtRQURHLENBQVg7TUFHRDtJQUNGLENBVkQsTUFVTztNQUNMLE1BQU1qQixHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0I7TUFDQSxNQUFNUyxNQUFNLEdBQUcsTUFBTTZFLHdEQUFRLENBQUNNLFVBQVQsQ0FDbkI7UUFBRXBFLEdBQUcsRUFBRTNCLEdBQUcsQ0FBQ087TUFBWCxDQURtQixFQUVuQjtRQUFFdUYsTUFBTSxFQUFFO01BQVYsQ0FGbUIsQ0FBckI7O01BSUEsSUFBSWxGLE1BQU0sQ0FBQzBDLEVBQVAsS0FBYyxDQUFsQixFQUFxQjtRQUNuQnZELEdBQUcsQ0FBQ2lCLElBQUosR0FBVztVQUNUQyxJQUFJLEVBQUU7UUFERyxDQUFYO01BR0Q7SUFDRjtFQUNGLENBdFZrQixDQXdWbkI7RUFDQTs7O0VBQ2MsTUFBUitFLFFBQVEsQ0FBRWpHLEdBQUYsRUFBTztJQUNuQixNQUFNb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBbkI7SUFDQSxNQUFNcUIsSUFBSSxHQUFHVixNQUFNLENBQUNVLElBQVAsR0FBY1YsTUFBTSxDQUFDVSxJQUFyQixHQUE0QixDQUF6QztJQUNBLE1BQU1DLEtBQUssR0FBR1gsTUFBTSxDQUFDVyxLQUFQLEdBQWVWLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDVyxLQUFSLENBQXZCLEdBQXdDLENBQXRELENBSG1CLENBSW5CO0lBQ0E7O0lBQ0EsTUFBTTlFLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtJQUNBLE1BQU1TLE1BQU0sR0FBRyxNQUFNcUYsNkRBQWEsQ0FBQ0MsYUFBZCxDQUE0QmxHLEdBQUcsQ0FBQ08sR0FBaEMsRUFBcUNzRSxJQUFyQyxFQUEyQ0MsS0FBM0MsQ0FBckI7SUFFQS9FLEdBQUcsQ0FBQ2lCLElBQUosR0FBVztNQUNUQyxJQUFJLEVBQUUsR0FERztNQUVUNEIsSUFBSSxFQUFFakM7SUFGRyxDQUFYO0VBSUQsQ0F2V2tCLENBeVduQjs7O0VBQ2MsTUFBUnVGLFFBQVEsQ0FBRXBHLEdBQUYsRUFBTztJQUNuQixJQUFJb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBakI7SUFDQVcsTUFBTSxHQUFHaUMsMENBQUUsQ0FBQ0MsS0FBSCxDQUFTbEMsTUFBVCxDQUFUO0lBQ0EsTUFBTVUsSUFBSSxHQUFHVixNQUFNLENBQUNVLElBQVAsR0FBY1YsTUFBTSxDQUFDVSxJQUFyQixHQUE0QixDQUF6QztJQUNBLE1BQU1DLEtBQUssR0FBR1gsTUFBTSxDQUFDVyxLQUFQLEdBQWVWLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDVyxLQUFSLENBQXZCLEdBQXdDLENBQXREO0lBQ0EsTUFBTXdCLElBQUksR0FBR25DLE1BQU0sQ0FBQ21DLElBQVAsSUFBZSxTQUE1QjtJQUNBLE1BQU1DLE1BQU0sR0FBR3BDLE1BQU0sQ0FBQ29DLE1BQVAsSUFBaUIsRUFBaEM7SUFDQSxNQUFNM0YsTUFBTSxHQUFHLE1BQU1ILG1EQUFJLENBQUMrRixPQUFMLENBQWFELE1BQWIsRUFBcUJELElBQXJCLEVBQTJCekIsSUFBM0IsRUFBaUNDLEtBQWpDLENBQXJCO0lBQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU10RSxtREFBSSxDQUFDZ0csU0FBTCxDQUFlRixNQUFmLENBQXBCO0lBQ0F4RyxHQUFHLENBQUNpQixJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVDRCLElBQUksRUFBRWpDLE1BRkc7TUFHVG1FLEtBQUssRUFBRUE7SUFIRSxDQUFYO0VBS0QsQ0F4WGtCLENBMFhuQjs7O0VBQ29CLE1BQWQyQixjQUFjLENBQUUzRyxHQUFGLEVBQU87SUFDekIsTUFBTTtNQUFFaUI7SUFBRixJQUFXakIsR0FBRyxDQUFDK0IsT0FBckIsQ0FEeUIsQ0FFekI7SUFDQTs7SUFDQSxNQUFNbEIsTUFBTSxHQUFHLE1BQU1ILG1EQUFJLENBQUNrRyxVQUFMLENBQWdCO01BQUVwRyxHQUFHLEVBQUU7UUFBRXFHLEdBQUcsRUFBRTVGLElBQUksQ0FBQzZGO01BQVo7SUFBUCxDQUFoQixDQUFyQjtJQUNBOUcsR0FBRyxDQUFDaUIsSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVRJLEdBQUcsRUFBRSxNQUZJO01BR1R3QixJQUFJLEVBQUVqQztJQUhHLENBQVgsQ0FMeUIsQ0FVekI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0VBQ0QsQ0EzWWtCLENBNlluQjs7O0VBQ29CLE1BQWRrRyxjQUFjLENBQUUvRyxHQUFGLEVBQU87SUFDekIsTUFBTTtNQUFFaUI7SUFBRixJQUFXakIsR0FBRyxDQUFDK0IsT0FBckI7SUFFQSxNQUFNdEIsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNzQixPQUFMLENBQWE7TUFBRXhCLEdBQUcsRUFBRVMsSUFBSSxDQUFDVDtJQUFaLENBQWIsQ0FBbkIsQ0FIeUIsQ0FJekI7O0lBQ0EsSUFBSSxDQUFDQyxJQUFMLEVBQVc7TUFDVFQsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7TUFJQTtJQUNELENBWHdCLENBWXpCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBRUE7OztJQUNBLElBQUlMLElBQUksQ0FBQ2tCLFFBQVQsRUFBbUI7TUFDakJsQixJQUFJLENBQUNrQixRQUFMLEdBQWdCLE1BQU0wQiw4Q0FBTSxDQUFDSSxJQUFQLENBQVloRCxJQUFJLENBQUNrQixRQUFqQixFQUEyQixDQUEzQixDQUF0QjtJQUNEOztJQUNELE1BQU10QixNQUFNLEdBQUcsTUFBTUgsbURBQUksQ0FBQ2UsU0FBTCxDQUFlO01BQUVqQixHQUFHLEVBQUVTLElBQUksQ0FBQ1Q7SUFBWixDQUFmLEVBQWtDUyxJQUFsQyxDQUFyQjs7SUFDQSxJQUFJSixNQUFNLENBQUMwQyxFQUFQLEtBQWMsQ0FBZCxJQUFtQjFDLE1BQU0sQ0FBQ21HLFNBQVAsS0FBcUIsQ0FBNUMsRUFBK0M7TUFDN0NoSCxHQUFHLENBQUNpQixJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVEksR0FBRyxFQUFFO01BRkksQ0FBWDtJQUlELENBTEQsTUFLTztNQUNMdEIsR0FBRyxDQUFDaUIsSUFBSixHQUFXO1FBQ1RDLElBQUksRUFBRSxHQURHO1FBRVRJLEdBQUcsRUFBRTtNQUZJLENBQVg7SUFJRDtFQUNGLENBcmJrQixDQXVibkI7RUFDQTs7O0VBQ3FCLE1BQWYyRixlQUFlLENBQUVqSCxHQUFGLEVBQU87SUFDMUIsTUFBTTtNQUFFaUI7SUFBRixJQUFXakIsR0FBRyxDQUFDK0IsT0FBckI7SUFDQSxNQUFNbEIsTUFBTSxHQUFHLE1BQU1ILG1EQUFJLENBQUNzRixVQUFMLENBQ25CO01BQUV4RixHQUFHLEVBQUU7UUFBRXFHLEdBQUcsRUFBRTVGLElBQUksQ0FBQzZGO01BQVo7SUFBUCxDQURtQixFQUVuQjtNQUFFbkYsSUFBSSxFQUFFLEVBQUUsR0FBR1YsSUFBSSxDQUFDaUc7TUFBVjtJQUFSLENBRm1CLENBQXJCO0lBSUFsSCxHQUFHLENBQUNpQixJQUFKLEdBQVc7TUFDVEMsSUFBSSxFQUFFLEdBREc7TUFFVDRCLElBQUksRUFBRWpDO0lBRkcsQ0FBWDtFQUlEOztFQUVrQixNQUFic0csYUFBYSxDQUFFbkgsR0FBRixFQUFPO0lBQ3hCLE1BQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQjtJQUNBLE1BQU1oRCxJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ3NCLE9BQUwsQ0FBYTtNQUFFQyxRQUFRLEVBQUVtQyxNQUFNLENBQUNuQztJQUFuQixDQUFiLENBQW5CLENBRndCLENBR3hCOztJQUNBLElBQUlwQixNQUFNLEdBQUcsQ0FBYjs7SUFDQSxJQUFJSixJQUFJLElBQUlBLElBQUksQ0FBQ3dCLFFBQWpCLEVBQTJCO01BQ3pCcEIsTUFBTSxHQUFHLENBQVQ7SUFDRDs7SUFDRGIsR0FBRyxDQUFDaUIsSUFBSixHQUFXO01BQ1RDLElBQUksRUFBRSxHQURHO01BRVQ0QixJQUFJLEVBQUVqQyxNQUZHO01BR1RTLEdBQUcsRUFBRTtJQUhJLENBQVg7RUFLRDs7RUFFWSxNQUFQOEYsT0FBTyxDQUFFcEgsR0FBRixFQUFPO0lBQ2xCLE1BQU07TUFBRWlCO0lBQUYsSUFBV2pCLEdBQUcsQ0FBQytCLE9BQXJCO0lBQ0FkLElBQUksQ0FBQ2tCLFFBQUwsR0FBZ0IsTUFBTTBCLDhDQUFNLENBQUNJLElBQVAsQ0FBWWhELElBQUksQ0FBQ2tCLFFBQWpCLEVBQTJCLENBQTNCLENBQXRCO0lBQ0EsTUFBTTFCLElBQUksR0FBRyxJQUFJQyxtREFBSixDQUFTTyxJQUFULENBQWI7SUFDQSxNQUFNSixNQUFNLEdBQUcsTUFBTUosSUFBSSxDQUFDb0IsSUFBTCxFQUFyQjtJQUNBLE1BQU13RixPQUFPLEdBQUd4RyxNQUFNLENBQUN1RSxNQUFQLEVBQWhCO0lBQ0EsTUFBTWpDLEdBQUcsR0FBRyxDQUFDLFVBQUQsQ0FBWjtJQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsSUFBSSxJQUFJO01BQ2QsT0FBT2dFLE9BQU8sQ0FBQ2hFLElBQUQsQ0FBZDtJQUNELENBRkQ7O0lBR0EsSUFBSXhDLE1BQUosRUFBWTtNQUNWYixHQUFHLENBQUNpQixJQUFKLEdBQVc7UUFDVEMsSUFBSSxFQUFFLEdBREc7UUFFVDRCLElBQUksRUFBRXVFLE9BRkc7UUFHVC9GLEdBQUcsRUFBRTtNQUhJLENBQVg7SUFLRCxDQU5ELE1BTU87TUFDTHRCLEdBQUcsQ0FBQ2lCLElBQUosR0FBVztRQUNUQyxJQUFJLEVBQUUsR0FERztRQUVUSSxHQUFHLEVBQUU7TUFGSSxDQUFYO0lBSUQ7RUFDRjs7QUExZWtCOztBQTZlTixtRUFBSXhCLGNBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvVXNlckNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2lnblJlY29yZCBmcm9tICcuLi9tb2RlbC9TaWduUmVjb3JkJ1xuaW1wb3J0IHsgZ2V0SldUUGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVsL1VzZXInXG5pbXBvcnQgVXNlckNvbGxlY3QgZnJvbSAnLi4vbW9kZWwvVXNlckNvbGxlY3QnXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xuaW1wb3J0IHNlbmQgZnJvbSAnQC9jb25maWcvTWFpbENvbmZpZydcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBjb25maWcgZnJvbSAnQC9jb25maWcnXG5pbXBvcnQgeyBzZXRWYWx1ZSwgZ2V0VmFsdWUgfSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuaW1wb3J0IENvbW1lbnRzIGZyb20gJ0AvbW9kZWwvQ29tbWVudHMnXG5pbXBvcnQgcXMgZnJvbSAncXMnXG5pbXBvcnQgQ29tbWVudHNIYW5kcyBmcm9tICdAL21vZGVsL0NvbW1lbnRzSGFuZHMnXG5jbGFzcyBVc2VyQ29udHJvbGxlciB7XG4gIC8vIOeUqOaIt+etvuWIsOaOpeWPo1xuICBhc3luYyB1c2VyU2lnbiAoY3R4KSB7XG4gICAgLy8g5Y+W55So5oi355qESURcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICAvLyDmn6Xor6LnlKjmiLfkuIrkuIDmrKHnrb7liLDorrDlvZVcbiAgICBjb25zdCByZWNvcmQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRCeVVpZChvYmouX2lkKVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKG9iai5faWQpXG4gICAgbGV0IG5ld1JlY29yZCA9IHt9XG4gICAgbGV0IHJlc3VsdCA9ICcnXG4gICAgLy8g5Yik5pat562+5Yiw6YC76L6RXG4gICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgLy8g5pyJ5Y6G5Y+y55qE562+5Yiw5pWw5o2uXG4gICAgICAvLyDliKTmlq3nlKjmiLfkuIrkuIDmrKHnrb7liLDorrDlvZXnmoRjcmVhdGVk5pe26Ze05piv5ZCm5LiO5LuK5aSp55u45ZCMXG4gICAgICAvLyDlpoLmnpzlvZPliY3ml7bpl7TnmoTml6XmnJ/kuI7nlKjmiLfkuIrkuIDmrKHnmoTnrb7liLDml6XmnJ/nm7jlkIzvvIzor7TmmI7nlKjmiLflt7Lnu4/nrb7liLBcbiAgICAgIGlmIChcbiAgICAgICAgbW9tZW50KHJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT1cbiAgICAgICAgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICAgICkge1xuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgICAgZmF2czogdXNlci5mYXZzLFxuICAgICAgICAgIGNvdW50OiB1c2VyLmNvdW50LFxuICAgICAgICAgIGxhc3RTaWduOiByZWNvcmQuY3JlYXRlZCxcbiAgICAgICAgICBtc2c6ICfnlKjmiLflt7Lnu4/nrb7liLAnXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDmnInkuIrkuIDmrKHnmoTnrb7liLDorrDlvZXvvIzlubbkuJTkuI3kuI7ku4rlpKnnm7jlkIzvvIzov5vooYzov57nu63nrb7liLDnmoTliKTmlq1cbiAgICAgICAgLy8g5aaC5p6c55u45ZCM77yM5Luj6KGo55So5oi35piv5Zyo6L+e57ut562+5YiwXG4gICAgICAgIGxldCBjb3VudCA9IHVzZXIuY291bnRcbiAgICAgICAgbGV0IGZhdiA9IDBcbiAgICAgICAgLy8g5Yik5pat562+5Yiw5pe26Ze0OiDnlKjmiLfkuIrkuIDmrKHnmoTnrb7liLDml7bpl7TnrYnkuo7vvIzlvZPliY3ml7bpl7TnmoTliY3kuIDlpKnvvIzor7TmmI7vvIznlKjmiLflnKjov57nu63nrb7liLBcbiAgICAgICAgLy8g56ysbisx5aSp562+5Yiw55qE5pe25YCZ77yM6ZyA6KaB5LiO56ysbueahOWkqWNyZWF0ZWTmr5TovoNcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1vbWVudChyZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09XG4gICAgICAgICAgbW9tZW50KClcbiAgICAgICAgICAgIC5zdWJ0cmFjdCgxLCAnZGF5cycpXG4gICAgICAgICAgICAuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8g6L+e57ut562+5Yiw55qE56ev5YiG6I635b6X6YC76L6RXG4gICAgICAgICAgY291bnQgKz0gMVxuICAgICAgICAgIGlmIChjb3VudCA8IDUpIHtcbiAgICAgICAgICAgIGZhdiA9IDVcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDUgJiYgY291bnQgPCAxNSkge1xuICAgICAgICAgICAgZmF2ID0gMTBcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDE1ICYmIGNvdW50IDwgMzApIHtcbiAgICAgICAgICAgIGZhdiA9IDE1XG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAzMCAmJiBjb3VudCA8IDEwMCkge1xuICAgICAgICAgICAgZmF2ID0gMjBcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDEwMCAmJiBjb3VudCA8IDM2NSkge1xuICAgICAgICAgICAgZmF2ID0gMzBcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDM2NSkge1xuICAgICAgICAgICAgZmF2ID0gNTBcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoXG4gICAgICAgICAgICB7IF9pZDogb2JqLl9pZCB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyB1c2VyLmZhdnMgKz0gZmF2XG4gICAgICAgICAgICAgIC8vIHVzZXIuY291bnQgKz0gMVxuICAgICAgICAgICAgICAkaW5jOiB7IGZhdnM6IGZhdiwgY291bnQ6IDEgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyBmYXYsXG4gICAgICAgICAgICBjb3VudDogdXNlci5jb3VudCArIDFcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g55So5oi35Lit5pat5LqG5LiA5qyh562+5YiwXG4gICAgICAgICAgLy8g56ysbisx5aSp562+5Yiw55qE5pe25YCZ77yM6ZyA6KaB5LiO56ysbueahOWkqWNyZWF0ZWTmr5TovoPvvIzlpoLmnpzkuI3nm7jnrYnvvIzor7TmmI7kuK3mlq3kuobnrb7liLDjgIJcbiAgICAgICAgICBmYXYgPSA1XG4gICAgICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoXG4gICAgICAgICAgICB7IF9pZDogb2JqLl9pZCB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAkc2V0OiB7IGNvdW50OiAxIH0sXG4gICAgICAgICAgICAgICRpbmM6IHsgZmF2czogZmF2IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZmF2czogdXNlci5mYXZzICsgZmF2LFxuICAgICAgICAgICAgY291bnQ6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8g5pu05paw562+5Yiw6K6w5b2VXG4gICAgICAgIG5ld1JlY29yZCA9IG5ldyBTaWduUmVjb3JkKHtcbiAgICAgICAgICB1aWQ6IG9iai5faWQsXG4gICAgICAgICAgZmF2czogZmF2XG4gICAgICAgIH0pXG4gICAgICAgIGF3YWl0IG5ld1JlY29yZC5zYXZlKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5peg562+5Yiw5pWw5o2uID3jgIsg56ys5LiA5qyh562+5YiwXG4gICAgICAvLyDkv53lrZjnlKjmiLfnmoTnrb7liLDmlbDmja7vvIznrb7liLDorrDmlbAgKyDnp6/liIbmlbDmja5cbiAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxuICAgICAgICB7XG4gICAgICAgICAgX2lkOiBvYmouX2lkXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkc2V0OiB7IGNvdW50OiAxIH0sXG4gICAgICAgICAgJGluYzogeyBmYXZzOiA1IH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLy8g5L+d5a2Y55So5oi355qE562+5Yiw6K6w5b2VXG4gICAgICBuZXdSZWNvcmQgPSBuZXcgU2lnblJlY29yZCh7XG4gICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAgICAgZmF2czogNVxuICAgICAgfSlcbiAgICAgIGF3YWl0IG5ld1JlY29yZC5zYXZlKClcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgZmF2czogdXNlci5mYXZzICsgNSxcbiAgICAgICAgY291bnQ6IDFcbiAgICAgIH1cbiAgICB9XG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtc2c6ICfor7fmsYLmiJDlip8nLFxuICAgICAgLi4ucmVzdWx0LFxuICAgICAgbGFzdFNpZ246IG5ld1JlY29yZC5jcmVhdGVkXG4gICAgfVxuICB9XG5cbiAgLy8g5pu05paw55So5oi35Z+65pys5L+h5oGv5o6l5Y+jXG4gIGFzeW5jIHVwZGF0ZVVzZXJJbmZvIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5L+u5pS55LqG6YKu566xXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogb2JqLl9pZCB9KVxuICAgIGxldCBtc2cgPSAnJ1xuICAgIGlmIChib2R5LnVzZXJuYW1lICYmIGJvZHkudXNlcm5hbWUgIT09IHVzZXIudXNlcm5hbWUpIHtcbiAgICAgIC8vIOeUqOaIt+S/ruaUueS6humCrueusVxuICAgICAgLy8g5Y+R6YCBcmVzZXTpgq7ku7ZcbiAgICAgIC8vIOWIpOaWreeUqOaIt+eahOaWsOmCrueuseaYr+WQpuW3sue7j+acieS6uuazqOWGjFxuICAgICAgY29uc3QgdG1wVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXG4gICAgICBpZiAodG1wVXNlciAmJiB0bXBVc2VyLnBhc3N3b3JkKSB7XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDUwMSxcbiAgICAgICAgICBtc2c6ICfpgq7nrrHlt7Lnu4/ms6jlhownXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSB1dWlkdjQoKVxuICAgICAgc2V0VmFsdWUoXG4gICAgICAgIGtleSxcbiAgICAgICAgand0LnNpZ24oeyBfaWQ6IG9iai5faWQgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcbiAgICAgICAgICBleHBpcmVzSW46ICczMG0nXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBhd2FpdCBzZW5kKHtcbiAgICAgICAgdHlwZTogJ2VtYWlsJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6ICcnLFxuICAgICAgICBleHBpcmU6IG1vbWVudCgpXG4gICAgICAgICAgLmFkZCgzMCwgJ21pbnV0ZXMnKVxuICAgICAgICAgIC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcbiAgICAgICAgZW1haWw6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIHVzZXI6IHVzZXIubmFtZVxuICAgICAgfSlcbiAgICAgIG1zZyA9ICfmm7TmlrDln7rmnKzotYTmlpnmiJDlip/vvIzotKblj7fkv67mlLnpnIDopoHpgq7ku7bnoa7orqTvvIzor7fmn6XmlLbpgq7ku7bvvIEnXG4gICAgfVxuXG4gICAgY29uc3QgYXJyID0gWyd1c2VybmFtZScsICdtb2JpbGUnLCAncGFzc3dvcmQnXVxuICAgIGFyci5tYXAoaXRlbSA9PiB7XG4gICAgICBkZWxldGUgYm9keVtpdGVtXVxuICAgIH0pXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoeyBfaWQ6IG9iai5faWQgfSwgYm9keSlcbiAgICBpZiAocmVzdWx0Lm4gPT09IDEgJiYgcmVzdWx0Lm9rID09PSAxKSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtc2c6IG1zZyA9PT0gJycgPyAn5pu05paw5oiQ5YqfJyA6IG1zZ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfmm7TmlrDlpLHotKUnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g5pu05paw55So5oi35ZCNXG4gIGFzeW5jIHVwZGF0ZVVzZXJuYW1lIChjdHgpIHtcbiAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XG4gICAgaWYgKGJvZHkua2V5KSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFZhbHVlKGJvZHkua2V5KVxuICAgICAgY29uc3Qgb2JqID0gZ2V0SldUUGF5bG9hZCgnQmVhcmVyICcgKyB0b2tlbilcbiAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxuICAgICAgICB7IF9pZDogb2JqLl9pZCB9LFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWVcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgbXNnOiAn5pu05paw55So5oi35ZCN5oiQ5YqfJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOS/ruaUueWvhueggeaOpeWPo1xuICBhc3luYyBjaGFuZ2VQYXNzd2QgKGN0eCkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBvYmouX2lkIH0pXG4gICAgaWYgKGF3YWl0IGJjcnlwdC5jb21wYXJlKGJvZHkub2xkcHdkLCB1c2VyLnBhc3N3b3JkKSkge1xuICAgICAgY29uc3QgbmV3cGFzc3dkID0gYXdhaXQgYmNyeXB0Lmhhc2goYm9keS5uZXdwd2QsIDUpXG4gICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7IF9pZDogb2JqLl9pZCB9LCB7ICRzZXQ6IHsgcGFzc3dvcmQ6IG5ld3Bhc3N3ZCB9IH0pXG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtc2c6ICfmm7TmlrDlr4bnoIHmiJDlip8nXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+abtOaWsOWvhueggemUmeivr++8jOivt+ajgOafpe+8gSdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDorr7nva7mlLbol49cbiAgYXN5bmMgc2V0Q29sbGVjdCAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgaWYgKHBhcnNlSW50KHBhcmFtcy5pc0ZhdikpIHtcbiAgICAgIC8vIOivtOaYjueUqOaIt+W3sue7j+aUtuiXj+S6huW4luWtkFxuICAgICAgYXdhaXQgVXNlckNvbGxlY3QuZGVsZXRlT25lKHsgdWlkOiBvYmouX2lkLCB0aWQ6IHBhcmFtcy50aWQgfSlcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIG1zZzogJ+WPlua2iOaUtuiXj+aIkOWKnydcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3Q29sbGVjdCA9IG5ldyBVc2VyQ29sbGVjdCh7XG4gICAgICAgIHVpZDogb2JqLl9pZCxcbiAgICAgICAgdGlkOiBwYXJhbXMudGlkLFxuICAgICAgICB0aXRsZTogcGFyYW1zLnRpdGxlXG4gICAgICB9KVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3Q29sbGVjdC5zYXZlKClcbiAgICAgIGlmIChyZXN1bHQudWlkKSB7XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgbXNnOiAn5pS26JeP5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W5pS26JeP5YiX6KGoXG4gIGFzeW5jIGdldENvbGxlY3RCeVVpZCAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlckNvbGxlY3QuZ2V0TGlzdEJ5VWlkKFxuICAgICAgb2JqLl9pZCxcbiAgICAgIHBhcmFtcy5wYWdlLFxuICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXG4gICAgKVxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgVXNlckNvbGxlY3QuY291bnRCeVVpZChvYmouX2lkKVxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajlpLHotKUnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W55So5oi35Z+65pys5L+h5oGvXG4gIGFzeW5jIGdldEJhc2ljSW5mbyAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgLy8gY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgY29uc3QgdWlkID0gcGFyYW1zLnVpZCB8fCBjdHguX2lkXG4gICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKHVpZClcbiAgICAvLyDlj5blvpfnlKjmiLfnmoTnrb7liLDorrDlvZUg5pyJ5rKh5pyJID4gdG9kYXkgMDowMDowMFxuICAgIHVzZXIgPSB1c2VyLnRvSlNPTigpXG4gICAgY29uc3QgZGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2lnblJlY29yZC5maW5kT25lKHtcbiAgICAgIHVpZDogdWlkLFxuICAgICAgY3JlYXRlZDogeyAkZ3RlOiBkYXRlICsgJyAwMDowMDowMCcgfVxuICAgIH0pXG4gICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudWlkKSB7XG4gICAgICB1c2VyLmlzU2lnbiA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlci5pc1NpZ24gPSBmYWxzZVxuICAgIH1cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHVzZXIsXG4gICAgICBtc2c6ICfmn6Xor6LmiJDlip/vvIEnXG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W5Y6G5Y+y5raI5oGvXG4gIC8vIOiusOW9leivhOiuuuS5i+WQju+8jOe7meS9nOiAheWPkemAgea2iOaBr1xuICBhc3luYyBnZXRNc2cgKGN0eCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcmFtcy5wYWdlIDogMFxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDBcbiAgICAvLyDmlrnms5XkuIDvvJog5bWM5aWX5p+l6K+iIC0+IGFnZ3JlZ2F0ZVxuICAgIC8vIOaWueazleS6jO+8miDpgJrov4flhpfkvZnmjaLml7bpl7RcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcbiAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChvYmouX2lkKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLmdldE1zZ0xpc3Qob2JqLl9pZCwgcGFnZSwgbGltaXQpXG5cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIHRvdGFsOiBudW1cbiAgICB9XG4gIH1cblxuICAvLyDorr7nva7lt7Lor7vmtojmga9cbiAgYXN5bmMgc2V0TXNnIChjdHgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICBpZiAocGFyYW1zLmlkKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoXG4gICAgICAgIHsgX2lkOiBwYXJhbXMuaWQgfSxcbiAgICAgICAgeyBpc1JlYWQ6ICcxJyB9XG4gICAgICApXG4gICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlTWFueShcbiAgICAgICAgeyB1aWQ6IG9iai5faWQgfSxcbiAgICAgICAgeyBpc1JlYWQ6ICcxJyB9XG4gICAgICApXG4gICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W5Y6G5Y+y5raI5oGvXG4gIC8vIOiusOW9leivhOiuuuS5i+WQju+8jOe7meS9nOiAheWPkemAgea2iOaBr1xuICBhc3luYyBnZXRIYW5kcyAoY3R4KSB7XG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyYW1zLnBhZ2UgOiAwXG4gICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMFxuICAgIC8vIOaWueazleS4gO+8miDltYzlpZfmn6Xor6IgLT4gYWdncmVnYXRlXG4gICAgLy8g5pa55rOV5LqM77yaIOmAmui/h+WGl+S9meaNouaXtumXtFxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzSGFuZHMuZ2V0SGFuZHNCeVVpZChvYmouX2lkLCBwYWdlLCBsaW1pdClcblxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W55So5oi35YiX6KGoXG4gIGFzeW5jIGdldFVzZXJzIChjdHgpIHtcbiAgICBsZXQgcGFyYW1zID0gY3R4LnF1ZXJ5XG4gICAgcGFyYW1zID0gcXMucGFyc2UocGFyYW1zKVxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcmFtcy5wYWdlIDogMFxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDBcbiAgICBjb25zdCBzb3J0ID0gcGFyYW1zLnNvcnQgfHwgJ2NyZWF0ZWQnXG4gICAgY29uc3Qgb3B0aW9uID0gcGFyYW1zLm9wdGlvbiB8fCB7fVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIuZ2V0TGlzdChvcHRpb24sIHNvcnQsIHBhZ2UsIGxpbWl0KVxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgVXNlci5jb3VudExpc3Qob3B0aW9uKVxuICAgIGN0eC5ib2R5ID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgdG90YWw6IHRvdGFsXG4gICAgfVxuICB9XG5cbiAgLy8g566h55CG5ZGY5Yig6Zmk55So5oi3XG4gIGFzeW5jIGRlbGV0ZVVzZXJCeUlkIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8gY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogcGFyYW1zLmlkIH0pXG4gICAgLy8gaWYgKHVzZXIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0pXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtc2c6ICfliKDpmaTmiJDlip8nLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfVxuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgY29kZTogNTAwLFxuICAgIC8vICAgICBtc2c6ICfnlKjmiLfkuI3lrZjlnKjmiJbogIVpZOS/oeaBr+mUmeivr++8gSdcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gIH1cblxuICAvLyDnrqHnkIblkZjmm7TmlrDnlKjmiLdcbiAgYXN5bmMgdXBkYXRlVXNlckJ5SWQgKGN0eCkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IGJvZHkuX2lkIH0pXG4gICAgLy8gMS7moKHpqoznlKjmiLfmmK/lkKblrZjlnKggLT4g55So5oi35ZCN5piv5ZCm5Yay56qBXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfnlKjmiLfkuI3lrZjlnKjmiJbogIVpZOS/oeaBr+mUmeivr++8gSdcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiAoYm9keS51c2VybmFtZSAhPT0gdXNlci51c2VybmFtZSkge1xuICAgIC8vICAgY29uc3QgdXNlckNoZWNrTmFtZSA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXG4gICAgLy8gICBpZiAodXNlckNoZWNrTmFtZSkge1xuICAgIC8vICAgICBjdHguYm9keSA9IHtcbiAgICAvLyAgICAgICBjb2RlOiA1MDEsXG4gICAgLy8gICAgICAgbXNnOiAn55So5oi35ZCN5bey57uP5a2Y5Zyo77yM5pu05paw5aSx6LSl77yBJ1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVyblxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIC8vIDIu5Yik5pat5a+G56CB5piv5ZCm5Lyg6YCSIC0+IOi/m+ihjOWKoOWvhuS/neWtmFxuICAgIGlmIChib2R5LnBhc3N3b3JkKSB7XG4gICAgICBib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goYm9keS5wYXNzd29yZCwgNSlcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0sIGJvZHkpXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSAmJiByZXN1bHQubk1vZGlmaWVkID09PSAxKSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA1MDAsXG4gICAgICAgIG1zZzogJ+acjeWKoeW8guW4uO+8jOabtOaWsOWksei0pSdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDmibnph4/orr7nva7nlKjmiLflsZ7mgKdcbiAgLy8g5pa55rOV5LiA77ya5paw5aKe5LiA5Liq5o6l5Y+jIOaWueazleS6jO+8miBvcHRpb25zIC0+IGFjdGlvbiAnb25lJyAnbWFueSdcbiAgYXN5bmMgdXBkYXRlVXNlckJhdGNoIChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVNYW55KFxuICAgICAgeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0sXG4gICAgICB7ICRzZXQ6IHsgLi4uYm9keS5zZXR0aW5ncyB9IH1cbiAgICApXG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9XG4gIH1cblxuICBhc3luYyBjaGVja1VzZXJuYW1lIChjdHgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IHBhcmFtcy51c2VybmFtZSB9KVxuICAgIC8vIOm7mOiupOaYryAxIC0g5qCh6aqM6YCa6L+H77yMIDAgLSDmoKHpqozlpLHotKVcbiAgICBsZXQgcmVzdWx0ID0gMVxuICAgIGlmICh1c2VyICYmIHVzZXIudXNlcm5hbWUpIHtcbiAgICAgIHJlc3VsdCA9IDBcbiAgICB9XG4gICAgY3R4LmJvZHkgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICBtc2c6ICfnlKjmiLflkI3lt7Lnu4/lrZjlnKjvvIzmm7TmlrDlpLHotKXvvIEnXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWRkVXNlciAoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChib2R5LnBhc3N3b3JkLCA1KVxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcihib2R5KVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZXIuc2F2ZSgpXG4gICAgY29uc3QgdXNlck9iaiA9IHJlc3VsdC50b0pTT04oKVxuICAgIGNvbnN0IGFyciA9IFsncGFzc3dvcmQnXVxuICAgIGFyci5tYXAoaXRlbSA9PiB7XG4gICAgICBkZWxldGUgdXNlck9ialtpdGVtXVxuICAgIH0pXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogdXNlck9iaixcbiAgICAgICAgbXNnOiAn5re75Yqg55So5oi35oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6ICfmnI3liqHmjqXlj6PlvILluLgnXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBVc2VyQ29udHJvbGxlcigpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/common/Auth.js":
/*!****************************!*\
  !*** ./src/common/Auth.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/AdminController */ \"./src/api/AdminController.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  const headers = ctx.header.authorization;\n\n  if (headers) {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n\n    if (obj._id) {\n      ctx._id = obj._id;\n      const admins = JSON.parse(await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__[\"getValue\"])('admin'));\n\n      if (admins.includes(obj._id)) {\n        ctx.isAdmin = true;\n        await next();\n        return;\n      } else {\n        ctx.isAdmin = false;\n      }\n    }\n  } // 1. 过滤掉公众路径\n\n\n  const {\n    publicPath\n  } = _config_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n\n  if (publicPath.some(item => item.test(ctx.url))) {\n    await next();\n    return;\n  } // 2. 根据用户的roles -> menus -> operations\n\n\n  const operations = await _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getOperations(ctx); // 3. 判断用户的请求路径是否在operations里面，如果在放行，否则禁止访问\n\n  if (operations.includes(ctx.url)) {\n    await next();\n  } else {\n    ctx.throw(401);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0F1dGguanM/YjQ1YiJdLCJuYW1lcyI6WyJjdHgiLCJuZXh0IiwiaGVhZGVycyIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJvYmoiLCJnZXRKV1RQYXlsb2FkIiwiX2lkIiwiYWRtaW5zIiwiSlNPTiIsInBhcnNlIiwiZ2V0VmFsdWUiLCJpbmNsdWRlcyIsImlzQWRtaW4iLCJwdWJsaWNQYXRoIiwiY29uZmlnIiwic29tZSIsIml0ZW0iLCJ0ZXN0IiwidXJsIiwib3BlcmF0aW9ucyIsImFkbWluQ29udHJvbGxlciIsImdldE9wZXJhdGlvbnMiLCJ0aHJvdyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2Usc0VBQU9BLEdBQVAsRUFBWUMsSUFBWixLQUFxQjtFQUNsQyxNQUFNQyxPQUFPLEdBQUdGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUEzQjs7RUFDQSxJQUFJRixPQUFKLEVBQWE7SUFDWCxNQUFNRyxHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ04sR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0I7O0lBQ0EsSUFBSUMsR0FBRyxDQUFDRSxHQUFSLEVBQWE7TUFDWFAsR0FBRyxDQUFDTyxHQUFKLEdBQVVGLEdBQUcsQ0FBQ0UsR0FBZDtNQUNBLE1BQU1DLE1BQU0sR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVcsTUFBTUMsb0VBQVEsQ0FBQyxPQUFELENBQXpCLENBQWY7O01BQ0EsSUFBSUgsTUFBTSxDQUFDSSxRQUFQLENBQWdCUCxHQUFHLENBQUNFLEdBQXBCLENBQUosRUFBOEI7UUFDNUJQLEdBQUcsQ0FBQ2EsT0FBSixHQUFjLElBQWQ7UUFDQSxNQUFNWixJQUFJLEVBQVY7UUFDQTtNQUNELENBSkQsTUFJTztRQUNMRCxHQUFHLENBQUNhLE9BQUosR0FBYyxLQUFkO01BQ0Q7SUFDRjtFQUNGLENBZmlDLENBZ0JsQzs7O0VBQ0EsTUFBTTtJQUFFQztFQUFGLElBQWlCQyxxREFBdkI7O0VBQ0EsSUFBSUQsVUFBVSxDQUFDRSxJQUFYLENBQWlCQyxJQUFELElBQVVBLElBQUksQ0FBQ0MsSUFBTCxDQUFVbEIsR0FBRyxDQUFDbUIsR0FBZCxDQUExQixDQUFKLEVBQW1EO0lBQ2pELE1BQU1sQixJQUFJLEVBQVY7SUFDQTtFQUNELENBckJpQyxDQXNCbEM7OztFQUNBLE1BQU1tQixVQUFVLEdBQUcsTUFBTUMsNERBQWUsQ0FBQ0MsYUFBaEIsQ0FBOEJ0QixHQUE5QixDQUF6QixDQXZCa0MsQ0F3QmxDOztFQUNBLElBQUlvQixVQUFVLENBQUNSLFFBQVgsQ0FBb0JaLEdBQUcsQ0FBQ21CLEdBQXhCLENBQUosRUFBa0M7SUFDaEMsTUFBTWxCLElBQUksRUFBVjtFQUNELENBRkQsTUFFTztJQUNMRCxHQUFHLENBQUN1QixLQUFKLENBQVUsR0FBVjtFQUNEO0FBQ0YsQ0E5QkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL0F1dGguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnL2luZGV4J1xuaW1wb3J0IHsgZ2V0SldUUGF5bG9hZCB9IGZyb20gJ0AvY29tbW9uL1V0aWxzJ1xuaW1wb3J0IHsgZ2V0VmFsdWUgfSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcbmltcG9ydCBhZG1pbkNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQWRtaW5Db250cm9sbGVyJ1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xuICBjb25zdCBoZWFkZXJzID0gY3R4LmhlYWRlci5hdXRob3JpemF0aW9uXG4gIGlmIChoZWFkZXJzKSB7XG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXG4gICAgaWYgKG9iai5faWQpIHtcbiAgICAgIGN0eC5faWQgPSBvYmouX2lkXG4gICAgICBjb25zdCBhZG1pbnMgPSBKU09OLnBhcnNlKGF3YWl0IGdldFZhbHVlKCdhZG1pbicpKVxuICAgICAgaWYgKGFkbWlucy5pbmNsdWRlcyhvYmouX2lkKSkge1xuICAgICAgICBjdHguaXNBZG1pbiA9IHRydWVcbiAgICAgICAgYXdhaXQgbmV4dCgpXG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmlzQWRtaW4gPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyAxLiDov4fmu6TmjonlhazkvJfot6/lvoRcbiAgY29uc3QgeyBwdWJsaWNQYXRoIH0gPSBjb25maWdcbiAgaWYgKHB1YmxpY1BhdGguc29tZSgoaXRlbSkgPT4gaXRlbS50ZXN0KGN0eC51cmwpKSkge1xuICAgIGF3YWl0IG5leHQoKVxuICAgIHJldHVyblxuICB9XG4gIC8vIDIuIOagueaNrueUqOaIt+eahHJvbGVzIC0+IG1lbnVzIC0+IG9wZXJhdGlvbnNcbiAgY29uc3Qgb3BlcmF0aW9ucyA9IGF3YWl0IGFkbWluQ29udHJvbGxlci5nZXRPcGVyYXRpb25zKGN0eClcbiAgLy8gMy4g5Yik5pat55So5oi355qE6K+35rGC6Lev5b6E5piv5ZCm5Zyob3BlcmF0aW9uc+mHjOmdou+8jOWmguaenOWcqOaUvuihjO+8jOWQpuWImeemgeatouiuv+mXrlxuICBpZiAob3BlcmF0aW9ucy5pbmNsdWRlcyhjdHgudXJsKSkge1xuICAgIGF3YWl0IG5leHQoKVxuICB9IGVsc2Uge1xuICAgIGN0eC50aHJvdyg0MDEpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/Auth.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_Log4j__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/Log4j */ \"./src/config/Log4j.js\");\n/* harmony import */ var _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/ErrorRecord */ \"./src/model/ErrorRecord.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n\n\n\n\nconst logger = _config_Log4j__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger('error');\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  try {\n    await next(); // 1. 收集用户错误的请求路径的日志 -> 造成大量的垃圾数据\n    // 2. 主动判断，并收集特定的接口请求 -> regex -> path, status, params\n\n    if (ctx.status !== 200 && _config_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isDevMode) {\n      const codeMessage = {\n        // 200: '服务器成功返回请求的数据。',\n        201: '新建或修改数据成功。',\n        202: '一个请求已经进入后台排队（异步任务）。',\n        204: '删除数据成功。',\n        400: '发出的请求有错误，服务器没有进行新建或修改数据的操作。',\n        401: '用户没有权限（令牌、用户名、密码错误）。',\n        403: '用户得到授权，但是访问是被禁止的。',\n        404: '发出的请求针对的是不存在的记录，服务器没有进行操作。',\n        405: '请求方法不存在，请检查路由！',\n        406: '请求的格式不可得。',\n        410: '请求的资源被永久删除，且不会再得到的。',\n        422: '当创建一个对象时，发生一个验证错误。',\n        500: '服务器发生错误，请检查服务器。',\n        502: '网关错误。',\n        503: '服务不可用，服务器暂时过载或维护。',\n        504: '网关超时。'\n      };\n      ctx.throw({\n        code: ctx.status,\n        message: codeMessage[ctx.status]\n      });\n    }\n  } catch (err) {\n    // 1. throw Error 2. ctx.throw()\n    logger.error(`${ctx.url} ${ctx.method} ${ctx.status}\n    ${err.stack}\n    `);\n    let user = '';\n\n    if (ctx._id) {\n      user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        _id: ctx._id\n      });\n    } // 保存错误日志到数据库\n\n\n    await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n      message: err.message,\n      code: ctx.response.status,\n      method: ctx.method,\n      path: ctx.path,\n      param: ctx.method === 'GET' ? ctx.query : ctx.request.body,\n      username: user.username,\n      stack: err.stack\n    });\n\n    if (err.status === 401) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  true ? {\n        stack: err.stack\n      } : undefined); // console.log(err.stack);\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nNGpzIiwiZ2V0TG9nZ2VyIiwiY3R4IiwibmV4dCIsInN0YXR1cyIsImNvbmZpZyIsImlzRGV2TW9kZSIsImNvZGVNZXNzYWdlIiwidGhyb3ciLCJjb2RlIiwibWVzc2FnZSIsImVyciIsImVycm9yIiwidXJsIiwibWV0aG9kIiwic3RhY2siLCJ1c2VyIiwiX2lkIiwiVXNlciIsImZpbmRPbmUiLCJFcnJvclJlY29yZCIsImNyZWF0ZSIsInJlc3BvbnNlIiwicGF0aCIsInBhcmFtIiwicXVlcnkiLCJyZXF1ZXN0IiwiYm9keSIsInVzZXJuYW1lIiwibXNnIiwiT2JqZWN0IiwiYXNzaWduIiwicHJvY2VzcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxxREFBTSxDQUFDQyxTQUFQLENBQWlCLE9BQWpCLENBQWY7QUFDZSxzRUFBT0MsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0VBQ2xDLElBQUk7SUFDRixNQUFNQSxJQUFJLEVBQVYsQ0FERSxDQUVGO0lBQ0E7O0lBQ0EsSUFBSUQsR0FBRyxDQUFDRSxNQUFKLEtBQWUsR0FBZixJQUFzQkMscURBQU0sQ0FBQ0MsU0FBakMsRUFBNEM7TUFDMUMsTUFBTUMsV0FBVyxHQUFHO1FBQ2xCO1FBQ0EsS0FBSyxZQUZhO1FBR2xCLEtBQUsscUJBSGE7UUFJbEIsS0FBSyxTQUphO1FBS2xCLEtBQUssNkJBTGE7UUFNbEIsS0FBSyxzQkFOYTtRQU9sQixLQUFLLG1CQVBhO1FBUWxCLEtBQUssNEJBUmE7UUFTbEIsS0FBSyxnQkFUYTtRQVVsQixLQUFLLFdBVmE7UUFXbEIsS0FBSyxxQkFYYTtRQVlsQixLQUFLLG9CQVphO1FBYWxCLEtBQUssaUJBYmE7UUFjbEIsS0FBSyxPQWRhO1FBZWxCLEtBQUssbUJBZmE7UUFnQmxCLEtBQUs7TUFoQmEsQ0FBcEI7TUFrQkFMLEdBQUcsQ0FBQ00sS0FBSixDQUFVO1FBQ1JDLElBQUksRUFBRVAsR0FBRyxDQUFDRSxNQURGO1FBRVJNLE9BQU8sRUFBRUgsV0FBVyxDQUFDTCxHQUFHLENBQUNFLE1BQUw7TUFGWixDQUFWO0lBSUQ7RUFDRixDQTVCRCxDQTRCRSxPQUFPTyxHQUFQLEVBQVk7SUFDWjtJQUNBWixNQUFNLENBQUNhLEtBQVAsQ0FBYyxHQUFFVixHQUFHLENBQUNXLEdBQUksSUFBR1gsR0FBRyxDQUFDWSxNQUFPLElBQUdaLEdBQUcsQ0FBQ0UsTUFBTztBQUN4RCxNQUFNTyxHQUFHLENBQUNJLEtBQU07QUFDaEIsS0FGSTtJQUdBLElBQUlDLElBQUksR0FBRyxFQUFYOztJQUNBLElBQUlkLEdBQUcsQ0FBQ2UsR0FBUixFQUFhO01BQ1hELElBQUksR0FBRyxNQUFNRSxtREFBSSxDQUFDQyxPQUFMLENBQWE7UUFBRUYsR0FBRyxFQUFFZixHQUFHLENBQUNlO01BQVgsQ0FBYixDQUFiO0lBQ0QsQ0FSVyxDQVNaOzs7SUFDQSxNQUFNRywwREFBVyxDQUFDQyxNQUFaLENBQW1CO01BQ3ZCWCxPQUFPLEVBQUVDLEdBQUcsQ0FBQ0QsT0FEVTtNQUV2QkQsSUFBSSxFQUFFUCxHQUFHLENBQUNvQixRQUFKLENBQWFsQixNQUZJO01BR3ZCVSxNQUFNLEVBQUVaLEdBQUcsQ0FBQ1ksTUFIVztNQUl2QlMsSUFBSSxFQUFFckIsR0FBRyxDQUFDcUIsSUFKYTtNQUt2QkMsS0FBSyxFQUFFdEIsR0FBRyxDQUFDWSxNQUFKLEtBQWUsS0FBZixHQUF1QlosR0FBRyxDQUFDdUIsS0FBM0IsR0FBbUN2QixHQUFHLENBQUN3QixPQUFKLENBQVlDLElBTC9CO01BTXZCQyxRQUFRLEVBQUVaLElBQUksQ0FBQ1ksUUFOUTtNQU92QmIsS0FBSyxFQUFFSixHQUFHLENBQUNJO0lBUFksQ0FBbkIsQ0FBTjs7SUFTQSxJQUFJSixHQUFHLENBQUNQLE1BQUosS0FBZSxHQUFuQixFQUF3QjtNQUN0QkYsR0FBRyxDQUFDRSxNQUFKLEdBQWEsR0FBYjtNQUNBRixHQUFHLENBQUN5QixJQUFKLEdBQVc7UUFDVGxCLElBQUksRUFBRSxHQURHO1FBRVRvQixHQUFHLEVBQUU7TUFGSSxDQUFYO0lBSUQsQ0FORCxNQU1PO01BQ0wzQixHQUFHLENBQUNFLE1BQUosR0FBYU8sR0FBRyxDQUFDUCxNQUFKLElBQWMsR0FBM0I7TUFDQUYsR0FBRyxDQUFDeUIsSUFBSixHQUFXRyxNQUFNLENBQUNDLE1BQVAsQ0FBYztRQUN2QnRCLElBQUksRUFBRSxHQURpQjtRQUV2Qm9CLEdBQUcsRUFBRWxCLEdBQUcsQ0FBQ0Q7TUFGYyxDQUFkLEVBR1JzQixLQUFBLEdBQ0M7UUFBRWpCLEtBQUssRUFBRUosR0FBRyxDQUFDSTtNQUFiLENBREQsR0FDd0IsU0FKaEIsQ0FBWCxDQUZLLENBT0w7SUFDRDtFQUNGO0FBQ0YsQ0FoRUQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZzRqcyBmcm9tICdAL2NvbmZpZy9Mb2c0aidcbmltcG9ydCBFcnJvclJlY29yZCBmcm9tICdAL21vZGVsL0Vycm9yUmVjb3JkJ1xuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbC9Vc2VyJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZy9pbmRleCdcblxuY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcignZXJyb3InKVxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IG5leHQoKVxuICAgIC8vIDEuIOaUtumbhueUqOaIt+mUmeivr+eahOivt+axgui3r+W+hOeahOaXpeW/lyAtPiDpgKDmiJDlpKfph4/nmoTlnoPlnL7mlbDmja5cbiAgICAvLyAyLiDkuLvliqjliKTmlq3vvIzlubbmlLbpm4bnibnlrprnmoTmjqXlj6Por7fmsYIgLT4gcmVnZXggLT4gcGF0aCwgc3RhdHVzLCBwYXJhbXNcbiAgICBpZiAoY3R4LnN0YXR1cyAhPT0gMjAwICYmIGNvbmZpZy5pc0Rldk1vZGUpIHtcbiAgICAgIGNvbnN0IGNvZGVNZXNzYWdlID0ge1xuICAgICAgICAvLyAyMDA6ICfmnI3liqHlmajmiJDlip/ov5Tlm57or7fmsYLnmoTmlbDmja7jgIInLFxuICAgICAgICAyMDE6ICfmlrDlu7rmiJbkv67mlLnmlbDmja7miJDlip/jgIInLFxuICAgICAgICAyMDI6ICfkuIDkuKror7fmsYLlt7Lnu4/ov5vlhaXlkI7lj7DmjpLpmJ/vvIjlvILmraXku7vliqHvvInjgIInLFxuICAgICAgICAyMDQ6ICfliKDpmaTmlbDmja7miJDlip/jgIInLFxuICAgICAgICA0MDA6ICflj5Hlh7rnmoTor7fmsYLmnInplJnor6/vvIzmnI3liqHlmajmsqHmnInov5vooYzmlrDlu7rmiJbkv67mlLnmlbDmja7nmoTmk43kvZzjgIInLFxuICAgICAgICA0MDE6ICfnlKjmiLfmsqHmnInmnYPpmZDvvIjku6TniYzjgIHnlKjmiLflkI3jgIHlr4bnoIHplJnor6/vvInjgIInLFxuICAgICAgICA0MDM6ICfnlKjmiLflvpfliLDmjojmnYPvvIzkvYbmmK/orr/pl67mmK/ooqvnpoHmraLnmoTjgIInLFxuICAgICAgICA0MDQ6ICflj5Hlh7rnmoTor7fmsYLpkojlr7nnmoTmmK/kuI3lrZjlnKjnmoTorrDlvZXvvIzmnI3liqHlmajmsqHmnInov5vooYzmk43kvZzjgIInLFxuICAgICAgICA0MDU6ICfor7fmsYLmlrnms5XkuI3lrZjlnKjvvIzor7fmo4Dmn6Xot6/nlLHvvIEnLFxuICAgICAgICA0MDY6ICfor7fmsYLnmoTmoLzlvI/kuI3lj6/lvpfjgIInLFxuICAgICAgICA0MTA6ICfor7fmsYLnmoTotYTmupDooqvmsLjkuYXliKDpmaTvvIzkuJTkuI3kvJrlho3lvpfliLDnmoTjgIInLFxuICAgICAgICA0MjI6ICflvZPliJvlu7rkuIDkuKrlr7nosaHml7bvvIzlj5HnlJ/kuIDkuKrpqozor4HplJnor6/jgIInLFxuICAgICAgICA1MDA6ICfmnI3liqHlmajlj5HnlJ/plJnor6/vvIzor7fmo4Dmn6XmnI3liqHlmajjgIInLFxuICAgICAgICA1MDI6ICfnvZHlhbPplJnor6/jgIInLFxuICAgICAgICA1MDM6ICfmnI3liqHkuI3lj6/nlKjvvIzmnI3liqHlmajmmoLml7bov4fovb3miJbnu7TmiqTjgIInLFxuICAgICAgICA1MDQ6ICfnvZHlhbPotoXml7bjgIInXG4gICAgICB9XG4gICAgICBjdHgudGhyb3coe1xuICAgICAgICBjb2RlOiBjdHguc3RhdHVzLFxuICAgICAgICBtZXNzYWdlOiBjb2RlTWVzc2FnZVtjdHguc3RhdHVzXVxuICAgICAgfSlcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIDEuIHRocm93IEVycm9yIDIuIGN0eC50aHJvdygpXG4gICAgbG9nZ2VyLmVycm9yKGAke2N0eC51cmx9ICR7Y3R4Lm1ldGhvZH0gJHtjdHguc3RhdHVzfVxuICAgICR7ZXJyLnN0YWNrfVxuICAgIGApXG4gICAgbGV0IHVzZXIgPSAnJ1xuICAgIGlmIChjdHguX2lkKSB7XG4gICAgICB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBjdHguX2lkIH0pXG4gICAgfVxuICAgIC8vIOS/neWtmOmUmeivr+aXpeW/l+WIsOaVsOaNruW6k1xuICAgIGF3YWl0IEVycm9yUmVjb3JkLmNyZWF0ZSh7XG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICAgIGNvZGU6IGN0eC5yZXNwb25zZS5zdGF0dXMsXG4gICAgICBtZXRob2Q6IGN0eC5tZXRob2QsXG4gICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgIHBhcmFtOiBjdHgubWV0aG9kID09PSAnR0VUJyA/IGN0eC5xdWVyeSA6IGN0eC5yZXF1ZXN0LmJvZHksXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIHN0YWNrOiBlcnIuc3RhY2tcbiAgICB9KVxuICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgIGN0eC5zdGF0dXMgPSA0MDFcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIG1zZzogJ1Byb3RlY3RlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5zdGF0dXMgPSBlcnIuc3RhdHVzIHx8IDUwMFxuICAgICAgY3R4LmJvZHkgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6IGVyci5tZXNzYWdlXG4gICAgICB9LCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xuICAgICAgICA/IHsgc3RhY2s6IGVyci5zdGFjayB9IDoge30pXG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnIuc3RhY2spO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/Init.js":
/*!****************************!*\
  !*** ./src/common/Init.js ***!
  \****************************/
/*! exports provided: run */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"run\", function() { return run; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n\n\nconst run = async () => {\n  if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].adminEmail && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].adminEmail.length > 0) {\n    const emails = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].adminEmail;\n    const arr = [];\n\n    for (let email of emails) {\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        username: email\n      });\n      arr.push(user._id);\n    }\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__[\"setValue\"])('admin', JSON.stringify(arr));\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0luaXQuanM/NWQyNyJdLCJuYW1lcyI6WyJydW4iLCJjb25maWciLCJhZG1pbkVtYWlsIiwibGVuZ3RoIiwiZW1haWxzIiwiYXJyIiwiZW1haWwiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJ1c2VybmFtZSIsInB1c2giLCJfaWQiLCJzZXRWYWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFTyxNQUFNQSxHQUFHLEdBQUcsWUFBWTtFQUM3QixJQUFJQywrQ0FBTSxDQUFDQyxVQUFQLElBQXFCRCwrQ0FBTSxDQUFDQyxVQUFQLENBQWtCQyxNQUFsQixHQUEyQixDQUFwRCxFQUF1RDtJQUNyRCxNQUFNQyxNQUFNLEdBQUdILCtDQUFNLENBQUNDLFVBQXRCO0lBQ0EsTUFBTUcsR0FBRyxHQUFHLEVBQVo7O0lBQ0EsS0FBSyxJQUFJQyxLQUFULElBQWtCRixNQUFsQixFQUEwQjtNQUN4QixNQUFNRyxJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ0MsT0FBTCxDQUFhO1FBQUVDLFFBQVEsRUFBRUo7TUFBWixDQUFiLENBQW5CO01BQ0FELEdBQUcsQ0FBQ00sSUFBSixDQUFTSixJQUFJLENBQUNLLEdBQWQ7SUFDRDs7SUFDREMsb0VBQVEsQ0FBQyxPQUFELEVBQVVDLElBQUksQ0FBQ0MsU0FBTCxDQUFlVixHQUFmLENBQVYsQ0FBUjtFQUNEO0FBQ0YsQ0FWTSIsImZpbGUiOiIuL3NyYy9jb21tb24vSW5pdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb25maWcgZnJvbSAnQC9jb25maWcnXG5pbXBvcnQgVXNlciBmcm9tICdAL21vZGVsL1VzZXInXG5pbXBvcnQgeyBzZXRWYWx1ZSB9IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xuXG5leHBvcnQgY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xuICBpZiAoY29uZmlnLmFkbWluRW1haWwgJiYgY29uZmlnLmFkbWluRW1haWwubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGVtYWlscyA9IGNvbmZpZy5hZG1pbkVtYWlsXG4gICAgY29uc3QgYXJyID0gW11cbiAgICBmb3IgKGxldCBlbWFpbCBvZiBlbWFpbHMpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB1c2VybmFtZTogZW1haWwgfSlcbiAgICAgIGFyci5wdXNoKHVzZXIuX2lkKVxuICAgIH1cbiAgICBzZXRWYWx1ZSgnYWRtaW4nLCBKU09OLnN0cmluZ2lmeShhcnIpKVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/Init.js\n");

/***/ }),

/***/ "./src/common/Logger.js":
/*!******************************!*\
  !*** ./src/common/Logger.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_Log4j__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/Log4j */ \"./src/config/Log4j.js\");\n\nconst logger = _config_Log4j__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger('application');\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const resTime = Date.now() - start;\n\n  if (resTime / 1000 > 1) {\n    // 主要判断系统执行效率\n    logger.warn(`[${ctx.method}] - ${ctx.url} - time: ${resTime / 1000}s`);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0xvZ2dlci5qcz9jZWZkIl0sIm5hbWVzIjpbImxvZ2dlciIsImxvZzRqcyIsImdldExvZ2dlciIsImN0eCIsIm5leHQiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJyZXNUaW1lIiwid2FybiIsIm1ldGhvZCIsInVybCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxxREFBTSxDQUFDQyxTQUFQLENBQWlCLGFBQWpCLENBQWY7QUFFZSxzRUFBT0MsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0VBQ2xDLE1BQU1DLEtBQUssR0FBR0MsSUFBSSxDQUFDQyxHQUFMLEVBQWQ7RUFDQSxNQUFNSCxJQUFJLEVBQVY7RUFDQSxNQUFNSSxPQUFPLEdBQUdGLElBQUksQ0FBQ0MsR0FBTCxLQUFhRixLQUE3Qjs7RUFDQSxJQUFJRyxPQUFPLEdBQUcsSUFBVixHQUFpQixDQUFyQixFQUF3QjtJQUN4QjtJQUNFUixNQUFNLENBQUNTLElBQVAsQ0FBYSxJQUFHTixHQUFHLENBQUNPLE1BQU8sT0FBTVAsR0FBRyxDQUFDUSxHQUFJLFlBQVdILE9BQU8sR0FBRyxJQUFLLEdBQW5FO0VBQ0Q7QUFDRixDQVJEIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9Mb2dnZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nNGpzIGZyb20gJ0AvY29uZmlnL0xvZzRqJ1xuXG5jb25zdCBsb2dnZXIgPSBsb2c0anMuZ2V0TG9nZ2VyKCdhcHBsaWNhdGlvbicpXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpXG4gIGF3YWl0IG5leHQoKVxuICBjb25zdCByZXNUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0XG4gIGlmIChyZXNUaW1lIC8gMTAwMCA+IDEpIHtcbiAgLy8g5Li76KaB5Yik5pat57O757uf5omn6KGM5pWI546HXG4gICAgbG9nZ2VyLndhcm4oYFske2N0eC5tZXRob2R9XSAtICR7Y3R4LnVybH0gLSB0aW1lOiAke3Jlc1RpbWUgLyAxMDAwfXNgKVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/Logger.js\n");

/***/ }),

/***/ "./src/common/Utils.js":
/*!*****************************!*\
  !*** ./src/common/Utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWTPayload, dirExists, rename, getMenuData, sortMenus, flatten, getRights */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWTPayload\", function() { return getJWTPayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dirExists\", function() { return dirExists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rename\", function() { return rename; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMenuData\", function() { return getMenuData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sortMenus\", function() { return sortMenus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatten\", function() { return flatten; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRights\", function() { return getRights; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nconst getJWTPayload = token => {\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n};\n\nconst checkCode = async (key, value) => {\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n\nconst getStats = path => {\n  return new Promise(resolve => {\n    // fs.stats(path, (err, stats) => {\n    //   if (err) {\n    //     resolve(false)\n    //   } else {\n    //     resolve(stats)\n    //   }\n    // })\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.stat(path, (err, stats) => err ? resolve(false) : resolve(stats));\n  });\n};\n\nconst mkdir = dir => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.mkdir(dir, err => err ? resolve(false) : resolve(true));\n  });\n};\n\nconst dirExists = async dir => {\n  const isExists = await getStats(dir); // 如果该路径存在且不是文件，返回 true\n\n  if (isExists && isExists.isDirectory()) {\n    return true;\n  } else if (isExists) {\n    // 路径存在，但是是文件，返回 false\n    return false;\n  } // 如果该路径不存在\n\n\n  const tempDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.parse(dir).dir; // 循环遍历，递归判断如果上级目录不存在，则产生上级目录\n\n  const status = await dirExists(tempDir);\n\n  if (status) {\n    const result = await mkdir(dir);\n    console.log('TCL: dirExists -> result', result);\n    return result;\n  } else {\n    return false;\n  }\n};\n\nconst rename = (obj, key, newKey) => {\n  if (Object.keys(obj).indexOf(key) !== -1) {\n    obj[newKey] = obj[key];\n    delete obj[key];\n  }\n\n  return obj;\n};\n\nconst sortObj = (arr, property) => {\n  return arr.sort((m, n) => m[property] - n[property]);\n};\n\nconst sortMenus = tree => {\n  tree = sortObj(tree, 'sort');\n\n  if (tree.children && tree.children.length > 0) {\n    tree.children = sortMenus(tree.children, 'sort');\n  }\n\n  if (tree.operations && tree.operations.length > 0) {\n    tree.operations = sortMenus(tree.operations, 'sort');\n  }\n\n  return tree;\n};\n\nconst getMenuData = (tree, rights, flag) => {\n  const arr = [];\n\n  for (let i = 0; i < tree.length; i++) {\n    const item = tree[i]; // _id 包含在menus中\n    // 结构进行改造，删除opertaions\n\n    if (rights.includes(item._id + '') || flag) {\n      if (item.type === 'menu') {\n        arr.push({\n          _id: item._id,\n          path: item.path,\n          meta: {\n            title: item.title,\n            hideInBread: item.hideInBread,\n            hideInMenu: item.hideInMenu,\n            notCache: item.notCache,\n            icon: item.icon\n          },\n          component: item.component,\n          children: getMenuData(item.children, rights)\n        });\n      } else if (item.type === 'link') {\n        arr.push({\n          _id: item._id,\n          path: item.path,\n          meta: {\n            title: item.title,\n            icon: item.icon,\n            href: item.link\n          }\n        });\n      }\n    }\n  }\n\n  return sortObj(arr, 'sort');\n};\n\nconst flatten = arr => {\n  while (arr.some(item => Array.isArray(item))) {\n    arr = [].concat(...arr);\n  }\n\n  return arr;\n};\n\nconst getRights = (tree, menus) => {\n  let arr = [];\n\n  for (let item of tree) {\n    if (item.operations && item.operations.length > 0) {\n      for (let op of item.operations) {\n        if (menus.includes(op._id + '')) {\n          arr.push(op.path);\n        }\n      }\n    } else if (item.children && item.children.length > 0) {\n      arr.push(getRights(item.children, menus));\n    }\n  }\n\n  return flatten(arr);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1V0aWxzLmpzP2I0ZGYiXSwibmFtZXMiOlsiZ2V0SldUUGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZ2V0U3RhdHMiLCJwYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmcyIsInN0YXQiLCJlcnIiLCJzdGF0cyIsIm1rZGlyIiwiZGlyIiwiZGlyRXhpc3RzIiwiaXNFeGlzdHMiLCJpc0RpcmVjdG9yeSIsInRlbXBEaXIiLCJwYXJzZSIsInN0YXR1cyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJyZW5hbWUiLCJvYmoiLCJuZXdLZXkiLCJPYmplY3QiLCJrZXlzIiwiaW5kZXhPZiIsInNvcnRPYmoiLCJhcnIiLCJwcm9wZXJ0eSIsInNvcnQiLCJtIiwibiIsInNvcnRNZW51cyIsInRyZWUiLCJjaGlsZHJlbiIsImxlbmd0aCIsIm9wZXJhdGlvbnMiLCJnZXRNZW51RGF0YSIsInJpZ2h0cyIsImZsYWciLCJpIiwiaXRlbSIsImluY2x1ZGVzIiwiX2lkIiwidHlwZSIsInB1c2giLCJtZXRhIiwidGl0bGUiLCJoaWRlSW5CcmVhZCIsImhpZGVJbk1lbnUiLCJub3RDYWNoZSIsImljb24iLCJjb21wb25lbnQiLCJocmVmIiwibGluayIsImZsYXR0ZW4iLCJzb21lIiwiQXJyYXkiLCJpc0FycmF5IiwiY29uY2F0IiwiZ2V0UmlnaHRzIiwibWVudXMiLCJvcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxLQUFLLElBQUk7RUFDN0IsT0FBT0MsbURBQUcsQ0FBQ0MsTUFBSixDQUFXRixLQUFLLENBQUNHLEtBQU4sQ0FBWSxHQUFaLEVBQWlCLENBQWpCLENBQVgsRUFBZ0NDLHFEQUFNLENBQUNDLFVBQXZDLENBQVA7QUFDRCxDQUZEOztBQUlBLE1BQU1DLFNBQVMsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEtBQVosS0FBc0I7RUFDdEMsTUFBTUMsU0FBUyxHQUFHLE1BQU1DLG9FQUFRLENBQUNILEdBQUQsQ0FBaEM7O0VBQ0EsSUFBSUUsU0FBUyxJQUFJLElBQWpCLEVBQXVCO0lBQ3JCLElBQUlBLFNBQVMsQ0FBQ0UsV0FBVixPQUE0QkgsS0FBSyxDQUFDRyxXQUFOLEVBQWhDLEVBQXFEO01BQ25ELE9BQU8sSUFBUDtJQUNELENBRkQsTUFFTztNQUNMLE9BQU8sS0FBUDtJQUNEO0VBQ0YsQ0FORCxNQU1PO0lBQ0wsT0FBTyxLQUFQO0VBQ0Q7QUFDRixDQVhEOztBQWFBLE1BQU1DLFFBQVEsR0FBSUMsSUFBRCxJQUFVO0VBQ3pCLE9BQU8sSUFBSUMsT0FBSixDQUFhQyxPQUFELElBQWE7SUFDOUI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQUMseUNBQUUsQ0FBQ0MsSUFBSCxDQUFRSixJQUFSLEVBQWMsQ0FBQ0ssR0FBRCxFQUFNQyxLQUFOLEtBQWdCRCxHQUFHLEdBQUdILE9BQU8sQ0FBQyxLQUFELENBQVYsR0FBb0JBLE9BQU8sQ0FBQ0ksS0FBRCxDQUE1RDtFQUNELENBVE0sQ0FBUDtBQVVELENBWEQ7O0FBYUEsTUFBTUMsS0FBSyxHQUFJQyxHQUFELElBQVM7RUFDckIsT0FBTyxJQUFJUCxPQUFKLENBQWFDLE9BQUQsSUFBYTtJQUM5QkMseUNBQUUsQ0FBQ0ksS0FBSCxDQUFTQyxHQUFULEVBQWNILEdBQUcsSUFBSUEsR0FBRyxHQUFHSCxPQUFPLENBQUMsS0FBRCxDQUFWLEdBQW9CQSxPQUFPLENBQUMsSUFBRCxDQUFuRDtFQUNELENBRk0sQ0FBUDtBQUdELENBSkQ7O0FBTUEsTUFBTU8sU0FBUyxHQUFHLE1BQU9ELEdBQVAsSUFBZTtFQUMvQixNQUFNRSxRQUFRLEdBQUcsTUFBTVgsUUFBUSxDQUFDUyxHQUFELENBQS9CLENBRCtCLENBRS9COztFQUNBLElBQUlFLFFBQVEsSUFBSUEsUUFBUSxDQUFDQyxXQUFULEVBQWhCLEVBQXdDO0lBQ3RDLE9BQU8sSUFBUDtFQUNELENBRkQsTUFFTyxJQUFJRCxRQUFKLEVBQWM7SUFDbkI7SUFDQSxPQUFPLEtBQVA7RUFDRCxDQVI4QixDQVMvQjs7O0VBQ0EsTUFBTUUsT0FBTyxHQUFHWiwyQ0FBSSxDQUFDYSxLQUFMLENBQVdMLEdBQVgsRUFBZ0JBLEdBQWhDLENBVitCLENBVy9COztFQUNBLE1BQU1NLE1BQU0sR0FBRyxNQUFNTCxTQUFTLENBQUNHLE9BQUQsQ0FBOUI7O0VBQ0EsSUFBSUUsTUFBSixFQUFZO0lBQ1YsTUFBTUMsTUFBTSxHQUFHLE1BQU1SLEtBQUssQ0FBQ0MsR0FBRCxDQUExQjtJQUNBUSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwwQkFBWixFQUF3Q0YsTUFBeEM7SUFDQSxPQUFPQSxNQUFQO0VBQ0QsQ0FKRCxNQUlPO0lBQ0wsT0FBTyxLQUFQO0VBQ0Q7QUFDRixDQXBCRDs7QUFzQkEsTUFBTUcsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTXpCLEdBQU4sRUFBVzBCLE1BQVgsS0FBc0I7RUFDbkMsSUFBSUMsTUFBTSxDQUFDQyxJQUFQLENBQVlILEdBQVosRUFBaUJJLE9BQWpCLENBQXlCN0IsR0FBekIsTUFBa0MsQ0FBQyxDQUF2QyxFQUEwQztJQUN4Q3lCLEdBQUcsQ0FBQ0MsTUFBRCxDQUFILEdBQWNELEdBQUcsQ0FBQ3pCLEdBQUQsQ0FBakI7SUFDQSxPQUFPeUIsR0FBRyxDQUFDekIsR0FBRCxDQUFWO0VBQ0Q7O0VBQ0QsT0FBT3lCLEdBQVA7QUFDRCxDQU5EOztBQVFBLE1BQU1LLE9BQU8sR0FBRyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBbUI7RUFDakMsT0FBT0QsR0FBRyxDQUFDRSxJQUFKLENBQVMsQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEtBQVVELENBQUMsQ0FBQ0YsUUFBRCxDQUFELEdBQWNHLENBQUMsQ0FBQ0gsUUFBRCxDQUFsQyxDQUFQO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNSSxTQUFTLEdBQUlDLElBQUQsSUFBVTtFQUMxQkEsSUFBSSxHQUFHUCxPQUFPLENBQUNPLElBQUQsRUFBTyxNQUFQLENBQWQ7O0VBQ0EsSUFBSUEsSUFBSSxDQUFDQyxRQUFMLElBQWlCRCxJQUFJLENBQUNDLFFBQUwsQ0FBY0MsTUFBZCxHQUF1QixDQUE1QyxFQUErQztJQUM3Q0YsSUFBSSxDQUFDQyxRQUFMLEdBQWdCRixTQUFTLENBQUNDLElBQUksQ0FBQ0MsUUFBTixFQUFnQixNQUFoQixDQUF6QjtFQUNEOztFQUNELElBQUlELElBQUksQ0FBQ0csVUFBTCxJQUFtQkgsSUFBSSxDQUFDRyxVQUFMLENBQWdCRCxNQUFoQixHQUF5QixDQUFoRCxFQUFtRDtJQUNqREYsSUFBSSxDQUFDRyxVQUFMLEdBQWtCSixTQUFTLENBQUNDLElBQUksQ0FBQ0csVUFBTixFQUFrQixNQUFsQixDQUEzQjtFQUNEOztFQUNELE9BQU9ILElBQVA7QUFDRCxDQVREOztBQVdBLE1BQU1JLFdBQVcsR0FBRyxDQUFDSixJQUFELEVBQU9LLE1BQVAsRUFBZUMsSUFBZixLQUF3QjtFQUMxQyxNQUFNWixHQUFHLEdBQUcsRUFBWjs7RUFDQSxLQUFLLElBQUlhLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdQLElBQUksQ0FBQ0UsTUFBekIsRUFBaUNLLENBQUMsRUFBbEMsRUFBc0M7SUFDcEMsTUFBTUMsSUFBSSxHQUFHUixJQUFJLENBQUNPLENBQUQsQ0FBakIsQ0FEb0MsQ0FFcEM7SUFDQTs7SUFDQSxJQUFJRixNQUFNLENBQUNJLFFBQVAsQ0FBZ0JELElBQUksQ0FBQ0UsR0FBTCxHQUFXLEVBQTNCLEtBQWtDSixJQUF0QyxFQUE0QztNQUMxQyxJQUFJRSxJQUFJLENBQUNHLElBQUwsS0FBYyxNQUFsQixFQUEwQjtRQUN4QmpCLEdBQUcsQ0FBQ2tCLElBQUosQ0FBUztVQUNQRixHQUFHLEVBQUVGLElBQUksQ0FBQ0UsR0FESDtVQUVQekMsSUFBSSxFQUFFdUMsSUFBSSxDQUFDdkMsSUFGSjtVQUdQNEMsSUFBSSxFQUFFO1lBQ0pDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQURSO1lBRUpDLFdBQVcsRUFBRVAsSUFBSSxDQUFDTyxXQUZkO1lBR0pDLFVBQVUsRUFBRVIsSUFBSSxDQUFDUSxVQUhiO1lBSUpDLFFBQVEsRUFBRVQsSUFBSSxDQUFDUyxRQUpYO1lBS0pDLElBQUksRUFBRVYsSUFBSSxDQUFDVTtVQUxQLENBSEM7VUFVUEMsU0FBUyxFQUFFWCxJQUFJLENBQUNXLFNBVlQ7VUFXUGxCLFFBQVEsRUFBRUcsV0FBVyxDQUFDSSxJQUFJLENBQUNQLFFBQU4sRUFBZ0JJLE1BQWhCO1FBWGQsQ0FBVDtNQWFELENBZEQsTUFjTyxJQUFJRyxJQUFJLENBQUNHLElBQUwsS0FBYyxNQUFsQixFQUEwQjtRQUMvQmpCLEdBQUcsQ0FBQ2tCLElBQUosQ0FBUztVQUNQRixHQUFHLEVBQUVGLElBQUksQ0FBQ0UsR0FESDtVQUVQekMsSUFBSSxFQUFFdUMsSUFBSSxDQUFDdkMsSUFGSjtVQUdQNEMsSUFBSSxFQUFFO1lBQ0pDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQURSO1lBRUpJLElBQUksRUFBRVYsSUFBSSxDQUFDVSxJQUZQO1lBR0pFLElBQUksRUFBRVosSUFBSSxDQUFDYTtVQUhQO1FBSEMsQ0FBVDtNQVNEO0lBQ0Y7RUFDRjs7RUFFRCxPQUFPNUIsT0FBTyxDQUFDQyxHQUFELEVBQU0sTUFBTixDQUFkO0FBQ0QsQ0FwQ0Q7O0FBc0NBLE1BQU00QixPQUFPLEdBQUk1QixHQUFELElBQVM7RUFDdkIsT0FBT0EsR0FBRyxDQUFDNkIsSUFBSixDQUFVZixJQUFELElBQVVnQixLQUFLLENBQUNDLE9BQU4sQ0FBY2pCLElBQWQsQ0FBbkIsQ0FBUCxFQUFnRDtJQUM5Q2QsR0FBRyxHQUFHLEdBQUdnQyxNQUFILENBQVUsR0FBR2hDLEdBQWIsQ0FBTjtFQUNEOztFQUNELE9BQU9BLEdBQVA7QUFDRCxDQUxEOztBQU9BLE1BQU1pQyxTQUFTLEdBQUcsQ0FBQzNCLElBQUQsRUFBTzRCLEtBQVAsS0FBaUI7RUFDakMsSUFBSWxDLEdBQUcsR0FBRyxFQUFWOztFQUNBLEtBQUssSUFBSWMsSUFBVCxJQUFpQlIsSUFBakIsRUFBdUI7SUFDckIsSUFBSVEsSUFBSSxDQUFDTCxVQUFMLElBQW1CSyxJQUFJLENBQUNMLFVBQUwsQ0FBZ0JELE1BQWhCLEdBQXlCLENBQWhELEVBQW1EO01BQ2pELEtBQUssSUFBSTJCLEVBQVQsSUFBZXJCLElBQUksQ0FBQ0wsVUFBcEIsRUFBZ0M7UUFDOUIsSUFBSXlCLEtBQUssQ0FBQ25CLFFBQU4sQ0FBZW9CLEVBQUUsQ0FBQ25CLEdBQUgsR0FBUyxFQUF4QixDQUFKLEVBQWlDO1VBQy9CaEIsR0FBRyxDQUFDa0IsSUFBSixDQUFTaUIsRUFBRSxDQUFDNUQsSUFBWjtRQUNEO01BQ0Y7SUFDRixDQU5ELE1BTU8sSUFBSXVDLElBQUksQ0FBQ1AsUUFBTCxJQUFpQk8sSUFBSSxDQUFDUCxRQUFMLENBQWNDLE1BQWQsR0FBdUIsQ0FBNUMsRUFBK0M7TUFDcERSLEdBQUcsQ0FBQ2tCLElBQUosQ0FBU2UsU0FBUyxDQUFDbkIsSUFBSSxDQUFDUCxRQUFOLEVBQWdCMkIsS0FBaEIsQ0FBbEI7SUFDRDtFQUNGOztFQUNELE9BQU9OLE9BQU8sQ0FBQzVCLEdBQUQsQ0FBZDtBQUNELENBZEQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL1V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VmFsdWUgfSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5jb25zdCBnZXRKV1RQYXlsb2FkID0gdG9rZW4gPT4ge1xuICByZXR1cm4gand0LnZlcmlmeSh0b2tlbi5zcGxpdCgnICcpWzFdLCBjb25maWcuSldUX1NFQ1JFVClcbn1cblxuY29uc3QgY2hlY2tDb2RlID0gYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgcmVkaXNEYXRhID0gYXdhaXQgZ2V0VmFsdWUoa2V5KVxuICBpZiAocmVkaXNEYXRhICE9IG51bGwpIHtcbiAgICBpZiAocmVkaXNEYXRhLnRvTG93ZXJDYXNlKCkgPT09IHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5jb25zdCBnZXRTdGF0cyA9IChwYXRoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIC8vIGZzLnN0YXRzKHBhdGgsIChlcnIsIHN0YXRzKSA9PiB7XG4gICAgLy8gICBpZiAoZXJyKSB7XG4gICAgLy8gICAgIHJlc29sdmUoZmFsc2UpXG4gICAgLy8gICB9IGVsc2Uge1xuICAgIC8vICAgICByZXNvbHZlKHN0YXRzKVxuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gICAgZnMuc3RhdChwYXRoLCAoZXJyLCBzdGF0cykgPT4gZXJyID8gcmVzb2x2ZShmYWxzZSkgOiByZXNvbHZlKHN0YXRzKSlcbiAgfSlcbn1cblxuY29uc3QgbWtkaXIgPSAoZGlyKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGZzLm1rZGlyKGRpciwgZXJyID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZSh0cnVlKSlcbiAgfSlcbn1cblxuY29uc3QgZGlyRXhpc3RzID0gYXN5bmMgKGRpcikgPT4ge1xuICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGdldFN0YXRzKGRpcilcbiAgLy8g5aaC5p6c6K+l6Lev5b6E5a2Y5Zyo5LiU5LiN5piv5paH5Lu277yM6L+U5ZueIHRydWVcbiAgaWYgKGlzRXhpc3RzICYmIGlzRXhpc3RzLmlzRGlyZWN0b3J5KCkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2UgaWYgKGlzRXhpc3RzKSB7XG4gICAgLy8g6Lev5b6E5a2Y5Zyo77yM5L2G5piv5piv5paH5Lu277yM6L+U5ZueIGZhbHNlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgLy8g5aaC5p6c6K+l6Lev5b6E5LiN5a2Y5ZyoXG4gIGNvbnN0IHRlbXBEaXIgPSBwYXRoLnBhcnNlKGRpcikuZGlyXG4gIC8vIOW+queOr+mBjeWOhu+8jOmAkuW9kuWIpOaWreWmguaenOS4iue6p+ebruW9leS4jeWtmOWcqO+8jOWImeS6p+eUn+S4iue6p+ebruW9lVxuICBjb25zdCBzdGF0dXMgPSBhd2FpdCBkaXJFeGlzdHModGVtcERpcilcbiAgaWYgKHN0YXR1cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1rZGlyKGRpcilcbiAgICBjb25zb2xlLmxvZygnVENMOiBkaXJFeGlzdHMgLT4gcmVzdWx0JywgcmVzdWx0KVxuICAgIHJldHVybiByZXN1bHRcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5jb25zdCByZW5hbWUgPSAob2JqLCBrZXksIG5ld0tleSkgPT4ge1xuICBpZiAoT2JqZWN0LmtleXMob2JqKS5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgb2JqW25ld0tleV0gPSBvYmpba2V5XVxuICAgIGRlbGV0ZSBvYmpba2V5XVxuICB9XG4gIHJldHVybiBvYmpcbn1cblxuY29uc3Qgc29ydE9iaiA9IChhcnIsIHByb3BlcnR5KSA9PiB7XG4gIHJldHVybiBhcnIuc29ydCgobSwgbikgPT4gbVtwcm9wZXJ0eV0gLSBuW3Byb3BlcnR5XSlcbn1cblxuY29uc3Qgc29ydE1lbnVzID0gKHRyZWUpID0+IHtcbiAgdHJlZSA9IHNvcnRPYmoodHJlZSwgJ3NvcnQnKVxuICBpZiAodHJlZS5jaGlsZHJlbiAmJiB0cmVlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICB0cmVlLmNoaWxkcmVuID0gc29ydE1lbnVzKHRyZWUuY2hpbGRyZW4sICdzb3J0JylcbiAgfVxuICBpZiAodHJlZS5vcGVyYXRpb25zICYmIHRyZWUub3BlcmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgdHJlZS5vcGVyYXRpb25zID0gc29ydE1lbnVzKHRyZWUub3BlcmF0aW9ucywgJ3NvcnQnKVxuICB9XG4gIHJldHVybiB0cmVlXG59XG5cbmNvbnN0IGdldE1lbnVEYXRhID0gKHRyZWUsIHJpZ2h0cywgZmxhZykgPT4ge1xuICBjb25zdCBhcnIgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gdHJlZVtpXVxuICAgIC8vIF9pZCDljIXlkKvlnKhtZW51c+S4rVxuICAgIC8vIOe7k+aehOi/m+ihjOaUuemAoO+8jOWIoOmZpG9wZXJ0YWlvbnNcbiAgICBpZiAocmlnaHRzLmluY2x1ZGVzKGl0ZW0uX2lkICsgJycpIHx8IGZsYWcpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZW51Jykge1xuICAgICAgICBhcnIucHVzaCh7XG4gICAgICAgICAgX2lkOiBpdGVtLl9pZCxcbiAgICAgICAgICBwYXRoOiBpdGVtLnBhdGgsXG4gICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICBoaWRlSW5CcmVhZDogaXRlbS5oaWRlSW5CcmVhZCxcbiAgICAgICAgICAgIGhpZGVJbk1lbnU6IGl0ZW0uaGlkZUluTWVudSxcbiAgICAgICAgICAgIG5vdENhY2hlOiBpdGVtLm5vdENhY2hlLFxuICAgICAgICAgICAgaWNvbjogaXRlbS5pY29uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wb25lbnQ6IGl0ZW0uY29tcG9uZW50LFxuICAgICAgICAgIGNoaWxkcmVuOiBnZXRNZW51RGF0YShpdGVtLmNoaWxkcmVuLCByaWdodHMpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgIGFyci5wdXNoKHtcbiAgICAgICAgICBfaWQ6IGl0ZW0uX2lkLFxuICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCxcbiAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICAgIGljb246IGl0ZW0uaWNvbixcbiAgICAgICAgICAgIGhyZWY6IGl0ZW0ubGlua1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gc29ydE9iaihhcnIsICdzb3J0Jylcbn1cblxuY29uc3QgZmxhdHRlbiA9IChhcnIpID0+IHtcbiAgd2hpbGUgKGFyci5zb21lKChpdGVtKSA9PiBBcnJheS5pc0FycmF5KGl0ZW0pKSkge1xuICAgIGFyciA9IFtdLmNvbmNhdCguLi5hcnIpXG4gIH1cbiAgcmV0dXJuIGFyclxufVxuXG5jb25zdCBnZXRSaWdodHMgPSAodHJlZSwgbWVudXMpID0+IHtcbiAgbGV0IGFyciA9IFtdXG4gIGZvciAobGV0IGl0ZW0gb2YgdHJlZSkge1xuICAgIGlmIChpdGVtLm9wZXJhdGlvbnMgJiYgaXRlbS5vcGVyYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IG9wIG9mIGl0ZW0ub3BlcmF0aW9ucykge1xuICAgICAgICBpZiAobWVudXMuaW5jbHVkZXMob3AuX2lkICsgJycpKSB7XG4gICAgICAgICAgYXJyLnB1c2gob3AucGF0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGFyci5wdXNoKGdldFJpZ2h0cyhpdGVtLmNoaWxkcmVuLCBtZW51cykpXG4gICAgfVxuICB9XG4gIHJldHVybiBmbGF0dGVuKGFycilcbn1cblxuZXhwb3J0IHtcbiAgY2hlY2tDb2RlLFxuICBnZXRKV1RQYXlsb2FkLFxuICBkaXJFeGlzdHMsXG4gIHJlbmFtZSxcbiAgZ2V0TWVudURhdGEsXG4gIHNvcnRNZW51cyxcbiAgZmxhdHRlbixcbiAgZ2V0UmlnaHRzXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/Utils.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.set('useCreateIndex', true); // mongoose.set('debug', true)\n// 创建连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); // 连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log(`MongoDB: ${_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_NAME}, DB_HOST: ${_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MONGO_HOSTNAME} connection opened! `);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', err => {\n  console.log('Mongoose connection error: ' + err);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose connection disconnected');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwic2V0IiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJEQl9OQU1FIiwiTU9OR09fSE9TVE5BTUUiLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBQSwrQ0FBUSxDQUFDQyxHQUFULENBQWEsZ0JBQWIsRUFBK0IsSUFBL0IsRSxDQUNBO0FBRUE7O0FBQ0FELCtDQUFRLENBQUNFLE9BQVQsQ0FBaUJDLDhDQUFNLENBQUNDLE1BQXhCLEVBQWdDO0VBQzlCQyxlQUFlLEVBQUUsSUFEYTtFQUU5QkMsa0JBQWtCLEVBQUU7QUFGVSxDQUFoQyxFLENBS0E7O0FBQ0FOLCtDQUFRLENBQUNPLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLFdBQXZCLEVBQW9DLE1BQU07RUFDeENDLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLFlBQVdQLDhDQUFNLENBQUNRLE9BQVEsY0FBYVIsOENBQU0sQ0FBQ1MsY0FBZSxzQkFBMUU7QUFDRCxDQUZELEUsQ0FJQTs7QUFDQVosK0NBQVEsQ0FBQ08sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBaUNLLEdBQUQsSUFBUztFQUN2Q0osT0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQWdDRyxHQUE1QztBQUNELENBRkQsRSxDQUlBOztBQUNBYiwrQ0FBUSxDQUFDTyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixjQUF2QixFQUF1QyxNQUFNO0VBQzNDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQ0FBWjtBQUNELENBRkQ7QUFJZVYsOEdBQWYiLCJmaWxlIjoiLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleCdcblxubW9uZ29vc2Uuc2V0KCd1c2VDcmVhdGVJbmRleCcsIHRydWUpXG4vLyBtb25nb29zZS5zZXQoJ2RlYnVnJywgdHJ1ZSlcblxuLy8g5Yib5bu66L+e5o6lXG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5EQl9VUkwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pXG5cbi8vIOi/nuaOpeaIkOWKn1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgTW9uZ29EQjogJHtjb25maWcuREJfTkFNRX0sIERCX0hPU1Q6ICR7Y29uZmlnLk1PTkdPX0hPU1ROQU1FfSBjb25uZWN0aW9uIG9wZW5lZCEgYClcbn0pXG5cbi8vIOi/nuaOpeW8guW4uFxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdNb25nb29zZSBjb25uZWN0aW9uIGVycm9yOiAnICsgZXJyKVxufSlcblxuLy8g5pat5byA6L+e5o6lXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdNb25nb29zZSBjb25uZWN0aW9uIGRpc2Nvbm5lY3RlZCcpXG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/Log4j.js":
/*!*****************************!*\
  !*** ./src/config/Log4j.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_log4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-log4 */ \"koa-log4\");\n/* harmony import */ var koa_log4__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_log4__WEBPACK_IMPORTED_MODULE_0__);\n\nkoa_log4__WEBPACK_IMPORTED_MODULE_0___default.a.configure({\n  appenders: {\n    access: {\n      type: 'dateFile',\n      filename: 'logs/access.log',\n      pattern: '-yyyy-MM-dd.log'\n    },\n    application: {\n      type: 'dateFile',\n      filename: 'logs/app.log',\n      pattern: '-yyyy-MM-dd.log'\n    },\n    error: {\n      type: 'dateFile',\n      filename: 'logs/error.log',\n      pattern: '-yyyy-MM-dd.log'\n    },\n    out: {\n      type: 'console'\n    }\n  },\n  categories: {\n    default: {\n      appenders: ['out'],\n      level: 'info'\n    },\n    access: {\n      appenders: ['access'],\n      level: 'info'\n    },\n    application: {\n      appenders: ['application'],\n      level: 'warn'\n    },\n    error: {\n      appenders: ['error'],\n      level: 'warn'\n    }\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_log4__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0xvZzRqLmpzPzIwYmMiXSwibmFtZXMiOlsibG9nNGpzIiwiY29uZmlndXJlIiwiYXBwZW5kZXJzIiwiYWNjZXNzIiwidHlwZSIsImZpbGVuYW1lIiwicGF0dGVybiIsImFwcGxpY2F0aW9uIiwiZXJyb3IiLCJvdXQiLCJjYXRlZ29yaWVzIiwiZGVmYXVsdCIsImxldmVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBQSwrQ0FBTSxDQUFDQyxTQUFQLENBQWlCO0VBQ2ZDLFNBQVMsRUFBRTtJQUNUQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFLFVBREE7TUFFTkMsUUFBUSxFQUFFLGlCQUZKO01BR05DLE9BQU8sRUFBRTtJQUhILENBREM7SUFNVEMsV0FBVyxFQUFFO01BQ1hILElBQUksRUFBRSxVQURLO01BRVhDLFFBQVEsRUFBRSxjQUZDO01BR1hDLE9BQU8sRUFBRTtJQUhFLENBTko7SUFXVEUsS0FBSyxFQUFFO01BQ0xKLElBQUksRUFBRSxVQUREO01BRUxDLFFBQVEsRUFBRSxnQkFGTDtNQUdMQyxPQUFPLEVBQUU7SUFISixDQVhFO0lBZ0JURyxHQUFHLEVBQUU7TUFBRUwsSUFBSSxFQUFFO0lBQVI7RUFoQkksQ0FESTtFQW1CZk0sVUFBVSxFQUFFO0lBQ1ZDLE9BQU8sRUFBRTtNQUFFVCxTQUFTLEVBQUUsQ0FBQyxLQUFELENBQWI7TUFBc0JVLEtBQUssRUFBRTtJQUE3QixDQURDO0lBRVZULE1BQU0sRUFBRTtNQUFFRCxTQUFTLEVBQUUsQ0FBQyxRQUFELENBQWI7TUFBeUJVLEtBQUssRUFBRTtJQUFoQyxDQUZFO0lBR1ZMLFdBQVcsRUFBRTtNQUFFTCxTQUFTLEVBQUUsQ0FBQyxhQUFELENBQWI7TUFBOEJVLEtBQUssRUFBRTtJQUFyQyxDQUhIO0lBSVZKLEtBQUssRUFBRTtNQUFFTixTQUFTLEVBQUUsQ0FBQyxPQUFELENBQWI7TUFBd0JVLEtBQUssRUFBRTtJQUEvQjtFQUpHO0FBbkJHLENBQWpCO0FBMkJlWiw4R0FBZiIsImZpbGUiOiIuL3NyYy9jb25maWcvTG9nNGouanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nNGpzIGZyb20gJ2tvYS1sb2c0J1xuXG5sb2c0anMuY29uZmlndXJlKHtcbiAgYXBwZW5kZXJzOiB7XG4gICAgYWNjZXNzOiB7XG4gICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxuICAgICAgZmlsZW5hbWU6ICdsb2dzL2FjY2Vzcy5sb2cnLFxuICAgICAgcGF0dGVybjogJy15eXl5LU1NLWRkLmxvZydcbiAgICB9LFxuICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxuICAgICAgZmlsZW5hbWU6ICdsb2dzL2FwcC5sb2cnLFxuICAgICAgcGF0dGVybjogJy15eXl5LU1NLWRkLmxvZydcbiAgICB9LFxuICAgIGVycm9yOiB7XG4gICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxuICAgICAgZmlsZW5hbWU6ICdsb2dzL2Vycm9yLmxvZycsXG4gICAgICBwYXR0ZXJuOiAnLXl5eXktTU0tZGQubG9nJ1xuICAgIH0sXG4gICAgb3V0OiB7IHR5cGU6ICdjb25zb2xlJyB9XG4gIH0sXG4gIGNhdGVnb3JpZXM6IHtcbiAgICBkZWZhdWx0OiB7IGFwcGVuZGVyczogWydvdXQnXSwgbGV2ZWw6ICdpbmZvJyB9LFxuICAgIGFjY2VzczogeyBhcHBlbmRlcnM6IFsnYWNjZXNzJ10sIGxldmVsOiAnaW5mbycgfSxcbiAgICBhcHBsaWNhdGlvbjogeyBhcHBlbmRlcnM6IFsnYXBwbGljYXRpb24nXSwgbGV2ZWw6ICd3YXJuJyB9LFxuICAgIGVycm9yOiB7IGFwcGVuZGVyczogWydlcnJvciddLCBsZXZlbDogJ3dhcm4nIH1cbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbG9nNGpzXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/Log4j.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // let testAccount = await nodemailer.createTestAccount()\n  // create reusable transporter object using the default SMTP transport\n  const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: 'smtp.qq.com',\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '1500529741@qq.com',\n      // generated ethereal user\n      pass: 'meieczqpsgmegiic' // generated ethereal password\n\n    }\n  });\n  const baseUrl = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : '/reset';\n  const url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data); // send mail with defined transport object\n\n  const info = await transporter.sendMail({\n    from: '\"认证邮件\" <1500529741@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' && sendInfo.type !== 'email' ? `你好小伙伴，${sendInfo.user}！考研社区${sendInfo.type === 'reset' ? '重置密码链接！' : '注册码！'}` : '考研社区 确认修改邮件链接',\n    // Subject line\n    text: `您在 考研社区 中注册，您的邀请码是${sendInfo.code},邀请码的过期时间: ${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">考研社区——欢迎来到考研人的社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，重置链接有效时间30分钟，请在${sendInfo.expire}之前${sendInfo.code ? '重置您的密码' : '修改您的邮箱为：' + sendInfo.data.username}：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">${sendInfo.code ? '立即重置密码' : '确认设置邮箱'}</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n    ` // html body\n\n  });\n  return `Message sent: %s, ${info.messageId}`; // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info))\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n} // main().catch(console.error)\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (send);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJzZW5kIiwic2VuZEluZm8iLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwiY29kZSIsImV4cGlyZSIsImh0bWwiLCJ1c2VybmFtZSIsIm1lc3NhZ2VJZCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtDQUdBOztBQUNBLGVBQWVBLElBQWYsQ0FBcUJDLFFBQXJCLEVBQStCO0VBQzdCO0VBQ0E7RUFDQTtFQUVBO0VBQ0EsTUFBTUMsV0FBVyxHQUFHQyxpREFBVSxDQUFDQyxlQUFYLENBQTJCO0lBQzdDQyxJQUFJLEVBQUUsYUFEdUM7SUFFN0NDLElBQUksRUFBRSxHQUZ1QztJQUc3Q0MsTUFBTSxFQUFFLEtBSHFDO0lBRzlCO0lBQ2ZDLElBQUksRUFBRTtNQUNKQyxJQUFJLEVBQUUsbUJBREY7TUFDdUI7TUFDM0JDLElBQUksRUFBRSxrQkFGRixDQUVxQjs7SUFGckI7RUFKdUMsQ0FBM0IsQ0FBcEI7RUFVQSxNQUFNQyxPQUFPLEdBQUdDLCtDQUFNLENBQUNELE9BQXZCO0VBQ0EsTUFBTUUsS0FBSyxHQUFHWixRQUFRLENBQUNhLElBQVQsS0FBa0IsT0FBbEIsR0FBNEIsVUFBNUIsR0FBeUMsUUFBdkQ7RUFDQSxNQUFNQyxHQUFHLEdBQUksR0FBRUosT0FBUSxLQUFJRSxLQUFNLEdBQXJCLEdBQTBCRyx5Q0FBRSxDQUFDQyxTQUFILENBQWFoQixRQUFRLENBQUNpQixJQUF0QixDQUF0QyxDQWxCNkIsQ0FvQjdCOztFQUNBLE1BQU1DLElBQUksR0FBRyxNQUFNakIsV0FBVyxDQUFDa0IsUUFBWixDQUFxQjtJQUN0Q0MsSUFBSSxFQUFFLDRCQURnQztJQUNGO0lBQ3BDQyxFQUFFLEVBQUVyQixRQUFRLENBQUNzQixLQUZ5QjtJQUVsQjtJQUNwQkMsT0FBTyxFQUNMdkIsUUFBUSxDQUFDUSxJQUFULEtBQWtCLEVBQWxCLElBQXdCUixRQUFRLENBQUNhLElBQVQsS0FBa0IsT0FBMUMsR0FDSyxTQUFRYixRQUFRLENBQUNRLElBQUssUUFBT1IsUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQWxCLEdBQTRCLFNBQTVCLEdBQXdDLE1BQU8sRUFEakYsR0FFSSxlQU5nQztJQU1mO0lBQ3ZCVyxJQUFJLEVBQUcscUJBQ0x4QixRQUFRLENBQUN5QixJQUNSLGNBQWF6QixRQUFRLENBQUMwQixNQUFPLEVBVE07SUFTSDtJQUNuQ0MsSUFBSSxFQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CM0IsUUFBUSxDQUFDUSxJQUFLLHFCQUM1QlIsUUFBUSxDQUFDMEIsTUFDUixLQUFJMUIsUUFBUSxDQUFDeUIsSUFBVCxHQUFnQixRQUFoQixHQUEyQixhQUFhekIsUUFBUSxDQUFDaUIsSUFBVCxDQUFjVyxRQUFTO0FBQzFFLHFCQUFxQmQsR0FBSSx5R0FBd0dkLFFBQVEsQ0FBQ3lCLElBQVQsR0FBZ0IsUUFBaEIsR0FBMkIsUUFBUztBQUNySztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBdEIwQyxDQXNCcEM7O0VBdEJvQyxDQUFyQixDQUFuQjtFQXlCQSxPQUFRLHFCQUFvQlAsSUFBSSxDQUFDVyxTQUFVLEVBQTNDLENBOUM2QixDQStDN0I7RUFFQTtFQUNBO0VBQ0E7QUFDRCxDLENBRUQ7OztBQUVlOUIsbUVBQWYiLCJmaWxlIjoiLi9zcmMvY29uZmlnL01haWxDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZydcbmltcG9ydCBxcyBmcm9tICdxcydcblxuLy8gYXN5bmMuLmF3YWl0IGlzIG5vdCBhbGxvd2VkIGluIGdsb2JhbCBzY29wZSwgbXVzdCB1c2UgYSB3cmFwcGVyXG5hc3luYyBmdW5jdGlvbiBzZW5kIChzZW5kSW5mbykge1xuICAvLyBHZW5lcmF0ZSB0ZXN0IFNNVFAgc2VydmljZSBhY2NvdW50IGZyb20gZXRoZXJlYWwuZW1haWxcbiAgLy8gT25seSBuZWVkZWQgaWYgeW91IGRvbid0IGhhdmUgYSByZWFsIG1haWwgYWNjb3VudCBmb3IgdGVzdGluZ1xuICAvLyBsZXQgdGVzdEFjY291bnQgPSBhd2FpdCBub2RlbWFpbGVyLmNyZWF0ZVRlc3RBY2NvdW50KClcblxuICAvLyBjcmVhdGUgcmV1c2FibGUgdHJhbnNwb3J0ZXIgb2JqZWN0IHVzaW5nIHRoZSBkZWZhdWx0IFNNVFAgdHJhbnNwb3J0XG4gIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xuICAgIGhvc3Q6ICdzbXRwLnFxLmNvbScsXG4gICAgcG9ydDogNTg3LFxuICAgIHNlY3VyZTogZmFsc2UsIC8vIHRydWUgZm9yIDQ2NSwgZmFsc2UgZm9yIG90aGVyIHBvcnRzXG4gICAgYXV0aDoge1xuICAgICAgdXNlcjogJzE1MDA1Mjk3NDFAcXEuY29tJywgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHVzZXJcbiAgICAgIHBhc3M6ICdtZWllY3pxcHNnbWVnaWljJyAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgcGFzc3dvcmRcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXG4gIGNvbnN0IHJvdXRlID0gc2VuZEluZm8udHlwZSA9PT0gJ2VtYWlsJyA/ICcvY29uZmlybScgOiAnL3Jlc2V0J1xuICBjb25zdCB1cmwgPSBgJHtiYXNlVXJsfS8jJHtyb3V0ZX0/YCArIHFzLnN0cmluZ2lmeShzZW5kSW5mby5kYXRhKVxuXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxuICBjb25zdCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgIGZyb206ICdcIuiupOivgemCruS7tlwiIDwxNTAwNTI5NzQxQHFxLmNvbT4nLCAvLyBzZW5kZXIgYWRkcmVzc1xuICAgIHRvOiBzZW5kSW5mby5lbWFpbCwgLy8gbGlzdCBvZiByZWNlaXZlcnNcbiAgICBzdWJqZWN0OlxuICAgICAgc2VuZEluZm8udXNlciAhPT0gJycgJiYgc2VuZEluZm8udHlwZSAhPT0gJ2VtYWlsJ1xuICAgICAgICA/IGDkvaDlpb3lsI/kvJnkvLTvvIwke3NlbmRJbmZvLnVzZXJ977yB6ICD56CU56S+5Yy6JHtzZW5kSW5mby50eXBlID09PSAncmVzZXQnID8gJ+mHjee9ruWvhueggemTvuaOpe+8gScgOiAn5rOo5YaM56CB77yBJ31gXG4gICAgICAgIDogJ+iAg+eglOekvuWMuiDnoa7orqTkv67mlLnpgq7ku7bpk77mjqUnLCAvLyBTdWJqZWN0IGxpbmVcbiAgICB0ZXh0OiBg5oKo5ZyoIOiAg+eglOekvuWMuiDkuK3ms6jlhozvvIzmgqjnmoTpgoDor7fnoIHmmK8ke1xuICAgICAgc2VuZEluZm8uY29kZVxuICAgICAgfSzpgoDor7fnoIHnmoTov4fmnJ/ml7bpl7Q6ICR7c2VuZEluZm8uZXhwaXJlfWAsIC8vIHBsYWluIHRleHQgYm9keVxuICAgIGh0bWw6IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkICNkY2RjZGM7Y29sb3I6ICM2NzY3Njc7d2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZy1ib3R0b206IDUwcHg7cG9zaXRpb246IHJlbGF0aXZlO1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kOiAjMzkzZDQ5OyBsaW5lLWhlaWdodDogNjBweDsgY29sb3I6ICM1OGEzNmY7IGZvbnQtc2l6ZTogMThweDtwYWRkaW5nLWxlZnQ6IDEwcHg7XCI+6ICD56CU56S+5Yy64oCU4oCU5qyi6L+O5p2l5Yiw6ICD56CU5Lq655qE56S+5Yy6PC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAyNXB4XCI+XG4gICAgICAgICAgPGRpdj7mgqjlpb3vvIwke3NlbmRJbmZvLnVzZXJ956ul6Z6L77yM6YeN572u6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke1xuICAgICAgc2VuZEluZm8uZXhwaXJlXG4gICAgICB95LmL5YmNJHtzZW5kSW5mby5jb2RlID8gJ+mHjee9ruaCqOeahOWvhueggScgOiAn5L+u5pS55oKo55qE6YKu566x5Li677yaJyArIHNlbmRJbmZvLmRhdGEudXNlcm5hbWV977yaPC9kaXY+XG4gICAgICAgICAgPGEgaHJlZj1cIiR7dXJsfVwiIHN0eWxlPVwicGFkZGluZzogMTBweCAyMHB4OyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzAwOWU5NDsgZGlzcGxheTogaW5saW5lLWJsb2NrO21hcmdpbjogMTVweCAwO1wiPiR7c2VuZEluZm8uY29kZSA/ICfnq4vljbPph43nva7lr4bnoIEnIDogJ+ehruiupOiuvue9rumCrueusSd9PC9hPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA1cHg7IGJhY2tncm91bmQ6ICNmMmYyZjI7XCI+5aaC5p6c6K+l6YKu5Lu25LiN5piv55Sx5L2g5pys5Lq65pON5L2c77yM6K+35Yu/6L+b6KGM5r+A5rS777yB5ZCm5YiZ5L2g55qE6YKu566x5bCG5Lya6KKr5LuW5Lq657uR5a6a44CCPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2ZhZmFmYTsgY29sb3I6ICNiNGI0YjQ7dGV4dC1hbGlnbjogY2VudGVyOyBsaW5lLWhlaWdodDogNDVweDsgaGVpZ2h0OiA0NXB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IGJvdHRvbTogMDt3aWR0aDogMTAwJTtcIj7ns7vnu5/pgq7ku7bvvIzor7fli7/nm7TmjqXlm57lpI08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgIC8vIGh0bWwgYm9keVxuICB9KVxuXG4gIHJldHVybiBgTWVzc2FnZSBzZW50OiAlcywgJHtpbmZvLm1lc3NhZ2VJZH1gXG4gIC8vIE1lc3NhZ2Ugc2VudDogPGI2NThmOGNhLTYyOTYtY2NmNC04MzA2LTg3ZDU3YTBiNDMyMUBleGFtcGxlLmNvbT5cblxuICAvLyBQcmV2aWV3IG9ubHkgYXZhaWxhYmxlIHdoZW4gc2VuZGluZyB0aHJvdWdoIGFuIEV0aGVyZWFsIGFjY291bnRcbiAgLy8gY29uc29sZS5sb2coJ1ByZXZpZXcgVVJMOiAlcycsIG5vZGVtYWlsZXIuZ2V0VGVzdE1lc3NhZ2VVcmwoaW5mbykpXG4gIC8vIFByZXZpZXcgVVJMOiBodHRwczovL2V0aGVyZWFsLmVtYWlsL21lc3NhZ2UvV2FRS01nS2RkeFFEb291Li4uXG59XG5cbi8vIG1haW4oKS5jYXRjaChjb25zb2xlLmVycm9yKVxuXG5leHBvcnQgZGVmYXVsdCBzZW5kXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, setValue, getValue, getHValue, delValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHValue\", function() { return getHValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delValue\", function() { return delValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bluebird */ \"bluebird\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\n\nconst options = {\n  host: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.host,\n  port: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.port,\n  password: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.password,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n}; // const client = redis.createClient(options)\n\nconst client = Object(bluebird__WEBPACK_IMPORTED_MODULE_1__[\"promisifyAll\"])(redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options));\nclient.on('error', err => {\n  console.log('Redis Client Error:' + err);\n});\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      client.set(key, value, 'EX', time);\n    } else {\n      client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n}; // const {promisify} = require('util');\n// const getAsync = promisify(client.get).bind(client);\n\n\nconst getValue = key => {\n  return client.getAsync(key);\n};\n\nconst getHValue = key => {\n  // v8 Promisify method use util, must node > 8\n  // return promisify(client.hgetall).bind(client)(key)\n  // bluebird async\n  return client.hgetallAsync(key);\n};\n\nconst delValue = key => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err);\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImhvc3QiLCJjb25maWciLCJSRURJUyIsInBvcnQiLCJwYXNzd29yZCIsImRldGVjdF9idWZmZXJzIiwicmV0cnlfc3RyYXRlZ3kiLCJlcnJvciIsImNvZGUiLCJFcnJvciIsInRvdGFsX3JldHJ5X3RpbWUiLCJhdHRlbXB0IiwidW5kZWZpbmVkIiwiTWF0aCIsIm1pbiIsImNsaWVudCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwiY3JlYXRlQ2xpZW50Iiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic2V0VmFsdWUiLCJrZXkiLCJ2YWx1ZSIsInRpbWUiLCJzZXQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJoc2V0IiwicHJpbnQiLCJnZXRWYWx1ZSIsImdldEFzeW5jIiwiZ2V0SFZhbHVlIiwiaGdldGFsbEFzeW5jIiwiZGVsVmFsdWUiLCJkZWwiLCJyZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxPQUFPLEdBQUc7RUFDZEMsSUFBSSxFQUFFQyw4Q0FBTSxDQUFDQyxLQUFQLENBQWFGLElBREw7RUFFZEcsSUFBSSxFQUFFRiw4Q0FBTSxDQUFDQyxLQUFQLENBQWFDLElBRkw7RUFHZEMsUUFBUSxFQUFFSCw4Q0FBTSxDQUFDQyxLQUFQLENBQWFFLFFBSFQ7RUFJZEMsY0FBYyxFQUFFLElBSkY7RUFLZEMsY0FBYyxFQUFFLFVBQVVQLE9BQVYsRUFBbUI7SUFDakMsSUFBSUEsT0FBTyxDQUFDUSxLQUFSLElBQWlCUixPQUFPLENBQUNRLEtBQVIsQ0FBY0MsSUFBZCxLQUF1QixjQUE1QyxFQUE0RDtNQUMxRDtNQUNBO01BQ0EsT0FBTyxJQUFJQyxLQUFKLENBQVUsbUNBQVYsQ0FBUDtJQUNEOztJQUNELElBQUlWLE9BQU8sQ0FBQ1csZ0JBQVIsR0FBMkIsT0FBTyxFQUFQLEdBQVksRUFBM0MsRUFBK0M7TUFDN0M7TUFDQTtNQUNBLE9BQU8sSUFBSUQsS0FBSixDQUFVLHNCQUFWLENBQVA7SUFDRDs7SUFDRCxJQUFJVixPQUFPLENBQUNZLE9BQVIsR0FBa0IsRUFBdEIsRUFBMEI7TUFDeEI7TUFDQSxPQUFPQyxTQUFQO0lBQ0QsQ0FkZ0MsQ0FlakM7OztJQUNBLE9BQU9DLElBQUksQ0FBQ0MsR0FBTCxDQUFTZixPQUFPLENBQUNZLE9BQVIsR0FBa0IsR0FBM0IsRUFBZ0MsSUFBaEMsQ0FBUDtFQUNEO0FBdEJhLENBQWhCLEMsQ0F5QkE7O0FBQ0EsTUFBTUksTUFBTSxHQUFHQyw2REFBWSxDQUFDQyw0Q0FBSyxDQUFDQyxZQUFOLENBQW1CbkIsT0FBbkIsQ0FBRCxDQUEzQjtBQUVBZ0IsTUFBTSxDQUFDSSxFQUFQLENBQVUsT0FBVixFQUFvQkMsR0FBRCxJQUFTO0VBQzFCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSx3QkFBd0JGLEdBQXBDO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNRyxRQUFRLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxLQUFOLEVBQWFDLElBQWIsS0FBc0I7RUFDckMsSUFBSSxPQUFPRCxLQUFQLEtBQWlCLFdBQWpCLElBQWdDQSxLQUFLLElBQUksSUFBekMsSUFBaURBLEtBQUssS0FBSyxFQUEvRCxFQUFtRTtJQUNqRTtFQUNEOztFQUNELElBQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtJQUM3QixJQUFJLE9BQU9DLElBQVAsS0FBZ0IsV0FBcEIsRUFBaUM7TUFDL0JYLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXSCxHQUFYLEVBQWdCQyxLQUFoQixFQUF1QixJQUF2QixFQUE2QkMsSUFBN0I7SUFDRCxDQUZELE1BRU87TUFDTFgsTUFBTSxDQUFDWSxHQUFQLENBQVdILEdBQVgsRUFBZ0JDLEtBQWhCO0lBQ0Q7RUFDRixDQU5ELE1BTU8sSUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0lBQ3BDO0lBQ0E7SUFDQUcsTUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTRCQyxJQUFELElBQVU7TUFDbkNoQixNQUFNLENBQUNpQixJQUFQLENBQVlSLEdBQVosRUFBaUJPLElBQWpCLEVBQXVCTixLQUFLLENBQUNNLElBQUQsQ0FBNUIsRUFBb0NkLDRDQUFLLENBQUNnQixLQUExQztJQUNELENBRkQ7RUFHRDtBQUNGLENBakJELEMsQ0FtQkE7QUFDQTs7O0FBRUEsTUFBTUMsUUFBUSxHQUFJVixHQUFELElBQVM7RUFDeEIsT0FBT1QsTUFBTSxDQUFDb0IsUUFBUCxDQUFnQlgsR0FBaEIsQ0FBUDtBQUNELENBRkQ7O0FBSUEsTUFBTVksU0FBUyxHQUFJWixHQUFELElBQVM7RUFDekI7RUFDQTtFQUVBO0VBQ0EsT0FBT1QsTUFBTSxDQUFDc0IsWUFBUCxDQUFvQmIsR0FBcEIsQ0FBUDtBQUNELENBTkQ7O0FBUUEsTUFBTWMsUUFBUSxHQUFJZCxHQUFELElBQVM7RUFDeEJULE1BQU0sQ0FBQ3dCLEdBQVAsQ0FBV2YsR0FBWCxFQUFnQixDQUFDSixHQUFELEVBQU1vQixHQUFOLEtBQWM7SUFDNUIsSUFBSUEsR0FBRyxLQUFLLENBQVosRUFBZTtNQUNibkIsT0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQVo7SUFDRCxDQUZELE1BRU87TUFDTEQsT0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQTRCRixHQUF4QztJQUNEO0VBQ0YsQ0FORDtBQU9ELENBUkQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzIGZyb20gJ3JlZGlzJ1xuaW1wb3J0IHsgcHJvbWlzaWZ5QWxsIH0gZnJvbSAnYmx1ZWJpcmQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXG5cbmNvbnN0IG9wdGlvbnMgPSB7XG4gIGhvc3Q6IGNvbmZpZy5SRURJUy5ob3N0LFxuICBwb3J0OiBjb25maWcuUkVESVMucG9ydCxcbiAgcGFzc3dvcmQ6IGNvbmZpZy5SRURJUy5wYXNzd29yZCxcbiAgZGV0ZWN0X2J1ZmZlcnM6IHRydWUsXG4gIHJldHJ5X3N0cmF0ZWd5OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmVycm9yICYmIG9wdGlvbnMuZXJyb3IuY29kZSA9PT0gJ0VDT05OUkVGVVNFRCcpIHtcbiAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgb24gYSBzcGVjaWZpYyBlcnJvciBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGhcbiAgICAgIC8vIGEgaW5kaXZpZHVhbCBlcnJvclxuICAgICAgcmV0dXJuIG5ldyBFcnJvcignVGhlIHNlcnZlciByZWZ1c2VkIHRoZSBjb25uZWN0aW9uJyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRvdGFsX3JldHJ5X3RpbWUgPiAxMDAwICogNjAgKiA2MCkge1xuICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyBhZnRlciBhIHNwZWNpZmljIHRpbWVvdXQgYW5kIGZsdXNoIGFsbCBjb21tYW5kc1xuICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1JldHJ5IHRpbWUgZXhoYXVzdGVkJyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmF0dGVtcHQgPiAxMCkge1xuICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyB3aXRoIGJ1aWx0IGluIGVycm9yXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyByZWNvbm5lY3QgYWZ0ZXJcbiAgICByZXR1cm4gTWF0aC5taW4ob3B0aW9ucy5hdHRlbXB0ICogMTAwLCAzMDAwKTtcbiAgfVxufVxuXG4vLyBjb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcbmNvbnN0IGNsaWVudCA9IHByb21pc2lmeUFsbChyZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucykpXG5cbmNsaWVudC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdSZWRpcyBDbGllbnQgRXJyb3I6JyArIGVycilcbn0pXG5cbmNvbnN0IHNldFZhbHVlID0gKGtleSwgdmFsdWUsIHRpbWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2YgdGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNsaWVudC5zZXQoa2V5LCB2YWx1ZSwgJ0VYJywgdGltZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgLy8geyBrZXkxOiB2YWx1ZTEsIGtleTI6IHZhbHVlMn1cbiAgICAvLyBPYmplY3Qua2V5cyh2YWx1ZSkgPT4gW2tleTEsIGtleTJdXG4gICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNsaWVudC5oc2V0KGtleSwgaXRlbSwgdmFsdWVbaXRlbV0sIHJlZGlzLnByaW50KVxuICAgIH0pXG4gIH1cbn1cblxuLy8gY29uc3Qge3Byb21pc2lmeX0gPSByZXF1aXJlKCd1dGlsJyk7XG4vLyBjb25zdCBnZXRBc3luYyA9IHByb21pc2lmeShjbGllbnQuZ2V0KS5iaW5kKGNsaWVudCk7XG5cbmNvbnN0IGdldFZhbHVlID0gKGtleSkgPT4ge1xuICByZXR1cm4gY2xpZW50LmdldEFzeW5jKGtleSlcbn1cblxuY29uc3QgZ2V0SFZhbHVlID0gKGtleSkgPT4ge1xuICAvLyB2OCBQcm9taXNpZnkgbWV0aG9kIHVzZSB1dGlsLCBtdXN0IG5vZGUgPiA4XG4gIC8vIHJldHVybiBwcm9taXNpZnkoY2xpZW50LmhnZXRhbGwpLmJpbmQoY2xpZW50KShrZXkpXG5cbiAgLy8gYmx1ZWJpcmQgYXN5bmNcbiAgcmV0dXJuIGNsaWVudC5oZ2V0YWxsQXN5bmMoa2V5KVxufVxuXG5jb25zdCBkZWxWYWx1ZSA9IChrZXkpID0+IHtcbiAgY2xpZW50LmRlbChrZXksIChlcnIsIHJlcykgPT4ge1xuICAgIGlmIChyZXMgPT09IDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdkZWxldGUgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdkZWxldGUgcmVkaXMga2V5IGVycm9yOicgKyBlcnIpXG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQge1xuICBjbGllbnQsXG4gIHNldFZhbHVlLFxuICBnZXRWYWx1ZSxcbiAgZ2V0SFZhbHVlLFxuICBkZWxWYWx1ZVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/WebSocket.js":
/*!*********************************!*\
  !*** ./src/config/WebSocket.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ws */ \"ws\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ws__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\n\n //\n\nclass WebSocketServer {\n  constructor(config = {}) {\n    const defaultConfig = {\n      port: 3001,\n      timeInterval: 5 * 1000,\n      isAuth: true\n    }; // 最终配置\n\n    const finalConfig = { ...defaultConfig,\n      ...config\n    };\n    this.wss = {};\n    this.timeInterval = finalConfig.timeInterval;\n    this.isAuth = finalConfig.isAuth;\n    this.port = finalConfig.port;\n    this.options = config.options || {};\n  } // 初始化webscoekt服务\n\n\n  init() {\n    this.wss = new ws__WEBPACK_IMPORTED_MODULE_0___default.a.Server({\n      port: this.port,\n      ...this.options\n    }); // 连接信息\n\n    this.wss.on('connection', ws => {\n      // 连接上之后随即发送一次心跳检测\n      ws.isAlive = true;\n      ws.send(JSON.stringify({\n        event: 'heartbeat',\n        message: 'ping'\n      }));\n      ws.on('message', msg => this.onMessage(ws, msg));\n      ws.on('close', () => this.onClose(ws));\n    }); // 心跳检测\n\n    this.heartbeat();\n  }\n\n  onMessage(ws, msg) {\n    // 用户鉴权 -> token -> _id\n    // 心跳检测\n    // 消息发送\n    const msgObj = JSON.parse(msg);\n    const events = {\n      auth: async () => {\n        try {\n          const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(msgObj.message);\n\n          if (obj) {\n            ws.isAuth = true;\n            ws._id = obj._id;\n            const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTotal(obj._id);\n            ws.send(JSON.stringify({\n              event: 'message',\n              message: num\n            }));\n          }\n        } catch (error) {\n          ws.send(JSON.stringify({\n            event: 'noauth',\n            message: 'please auth again'\n          }));\n        }\n      },\n      heartbeat: () => {\n        if (msgObj.message === 'pong') {\n          ws.isAlive = true;\n        }\n      },\n      message: () => {\n        鉴权拦截;\n\n        if (!ws.isAuth && this.isAuth) {\n          return;\n        }\n\n        消息广播;\n        this.wss.clients.forEach(client => {\n          if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN && client._id === ws._id) {\n            this.send(msg);\n          }\n        });\n      }\n    };\n    events[msgObj.event]();\n  } // 点对点的消息发送\n\n\n  send(uid, msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN && client._id === uid) {\n        client.send(msg);\n      }\n    });\n  } // 广播消息 -> 推送系统消息\n\n\n  broadcast(msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN) {\n        client.send(msg);\n      }\n    });\n  }\n\n  onClose(ws) {} // 心跳检测\n\n\n  heartbeat() {\n    clearInterval(this.interval);\n    this.interval = setInterval(() => {\n      this.wss.clients.forEach(ws => {\n        if (!ws.isAlive) {\n          return ws.terminate();\n        } // 主动发送心跳检测请求\n        // 当客户端返回了消息之后，主动设置flag为在线\n\n\n        ws.isAlive = false;\n        ws.send(JSON.stringify({\n          event: 'heartbeat',\n          message: 'ping'\n        }));\n      });\n    }, this.timeInterval);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebSocketServer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1dlYlNvY2tldC5qcz9jZDkzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInBvcnQiLCJ0aW1lSW50ZXJ2YWwiLCJpc0F1dGgiLCJmaW5hbENvbmZpZyIsIndzcyIsIm9wdGlvbnMiLCJpbml0IiwiV2ViU29ja2V0IiwiU2VydmVyIiwib24iLCJ3cyIsImlzQWxpdmUiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsImV2ZW50IiwibWVzc2FnZSIsIm1zZyIsIm9uTWVzc2FnZSIsIm9uQ2xvc2UiLCJoZWFydGJlYXQiLCJtc2dPYmoiLCJwYXJzZSIsImV2ZW50cyIsImF1dGgiLCJvYmoiLCJnZXRKV1RQYXlsb2FkIiwiX2lkIiwibnVtIiwiQ29tbWVudHMiLCJnZXRUb3RhbCIsImVycm9yIiwi6Ym05p2D5oum5oiqIiwi5raI5oGv5bm/5pKtIiwiY2xpZW50cyIsImZvckVhY2giLCJjbGllbnQiLCJyZWFkeVN0YXRlIiwiT1BFTiIsInVpZCIsImJyb2FkY2FzdCIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwidGVybWluYXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Q0FFQTs7QUFDQSxNQUFNQSxlQUFOLENBQXNCO0VBQ3BCQyxXQUFXLENBQUVDLE1BQU0sR0FBRyxFQUFYLEVBQWU7SUFDeEIsTUFBTUMsYUFBYSxHQUFHO01BQ3BCQyxJQUFJLEVBQUMsSUFEZTtNQUVwQkMsWUFBWSxFQUFFLElBQUksSUFGRTtNQUdwQkMsTUFBTSxFQUFFO0lBSFksQ0FBdEIsQ0FEd0IsQ0FNeEI7O0lBQ0EsTUFBTUMsV0FBVyxHQUFHLEVBQUUsR0FBR0osYUFBTDtNQUFvQixHQUFHRDtJQUF2QixDQUFwQjtJQUNBLEtBQUtNLEdBQUwsR0FBVyxFQUFYO0lB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LENBQUNFLElBQUgsQ0FBUUMsSUFBSSxDQUFDQyxTQUFMLENBQWU7VUFDckJDLEtBQUssRUFBRSxXQURjO1VBRXJCQyxPQUFPLEVBQUU7UUFGWSxDQUFmLENBQVI7TUFJRCxDQVhEO0lBWUQsQ0FiMEIsRUFheEIsS0FBS2YsWUFibUIsQ0FBM0I7RUFjRDs7QUF6SG1COztBQTRIUEwsOEVBQWYiLCJmaWxlIjoiLi9zcmMvY29uZmlnL1dlYlNvY2tldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJTb2NrZXQgZnJvbSAnd3MnXG5pbXBvcnQgeyBnZXRKV1RQYXlsb2FkIH0gZnJvbSAnQC9jb21tb24vVXRpbHMnXG5pbXBvcnQgQ29tbWVudHMgZnJvbSAnQC9tb2RlbC9Db21tZW50cydcbmltcG9ydCBjb25maWdmaWxlIGZyb20gJy4vaW5kZXgnXG4vL1xuY2xhc3MgV2ViU29ja2V0U2VydmVyIHtcbiAgY29uc3RydWN0b3IgKGNvbmZpZyA9IHt9KSB7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIHBvcnQ6MzAwMSxcbiAgICAgIHRpbWVJbnRlcnZhbDogNSAqIDEwMDAsXG4gICAgICBpc0F1dGg6IHRydWVcbiAgICB9XG4gICAgLy8g5pyA57uI6YWN572uXG4gICAgY29uc3QgZmluYWxDb25maWcgPSB7IC4uLmRlZmF1bHRDb25maWcsIC4uLmNvbmZpZyB9XG4gICAgdGhpcy53c3MgPSB7fVxuICAgIHRoaXMudGltZUludGVydmFsID0gZmluYWxDb25maWcudGltZUludGVydmFsXG4gICAgdGhpcy5pc0F1dGggPSBmaW5hbENvbmZpZy5pc0F1dGhcbiAgICB0aGlzLnBvcnQgPSBmaW5hbENvbmZpZy5wb3J0XG4gICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwge31cbiAgfVxuXG4gIC8vIOWIneWni+WMlndlYnNjb2VrdOacjeWKoVxuICBpbml0ICgpIHtcbiAgICB0aGlzLndzcyA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgcG9ydDogdGhpcy5wb3J0LCAuLi50aGlzLm9wdGlvbnMgfSlcblxuICAgIC8vIOi/nuaOpeS/oeaBr1xuICAgIHRoaXMud3NzLm9uKCdjb25uZWN0aW9uJywgKHdzKSA9PiB7XG4gICAgICAvLyDov57mjqXkuIrkuYvlkI7pmo/ljbPlj5HpgIHkuIDmrKHlv4Pot7Pmo4DmtYtcbiAgICAgIHdzLmlzQWxpdmUgPSB0cnVlXG4gICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZXZlbnQ6ICdoZWFydGJlYXQnLFxuICAgICAgICBtZXNzYWdlOiAncGluZydcbiAgICAgIH0pKVxuICAgICAgd3Mub24oJ21lc3NhZ2UnLCAobXNnKSA9PiB0aGlzLm9uTWVzc2FnZSh3cywgbXNnKSlcbiAgICAgIHdzLm9uKCdjbG9zZScsICgpID0+IHRoaXMub25DbG9zZSh3cykpXG4gICAgfSlcblxuICAgIC8vIOW/g+i3s+ajgOa1i1xuICAgIHRoaXMuaGVhcnRiZWF0KClcbiAgfVxuXG4gIG9uTWVzc2FnZSAod3MsIG1zZykge1xuICAgIC8vIOeUqOaIt+mJtOadgyAtPiB0b2tlbiAtPiBfaWRcbiAgICAvLyDlv4Pot7Pmo4DmtYtcbiAgICAvLyDmtojmga/lj5HpgIFcbiAgICBjb25zdCBtc2dPYmogPSBKU09OLnBhcnNlKG1zZylcbiAgICBjb25zdCBldmVudHMgPSB7XG4gICAgICBhdXRoOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChtc2dPYmoubWVzc2FnZSlcbiAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB3cy5pc0F1dGggPSB0cnVlXG4gICAgICAgICAgICB3cy5faWQgPSBvYmouX2lkXG4gICAgICAgICAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChvYmouX2lkKVxuICAgICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGV2ZW50OiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IG51bVxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZXZlbnQ6ICdub2F1dGgnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ3BsZWFzZSBhdXRoIGFnYWluJ1xuICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGVhcnRiZWF0OiAoKSA9PiB7XG4gICAgICAgIGlmIChtc2dPYmoubWVzc2FnZSA9PT0gJ3BvbmcnKSB7XG4gICAgICAgICAgd3MuaXNBbGl2ZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICgpID0+IHtcbiAgICAgICAg6Ym05p2D5oum5oiqXG4gICAgICAgIGlmICghd3MuaXNBdXRoICYmIHRoaXMuaXNBdXRoKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAg5raI5oGv5bm/5pKtXG4gICAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaCgoY2xpZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiAmJiBjbGllbnQuX2lkID09PSB3cy5faWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZChtc2cpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBldmVudHNbbXNnT2JqLmV2ZW50XSgpXG4gIH1cblxuICAvLyDngrnlr7nngrnnmoTmtojmga/lj5HpgIFcbiAgc2VuZCAodWlkLCBtc2cpIHtcbiAgICB0aGlzLndzcy5jbGllbnRzLmZvckVhY2goKGNsaWVudCkgPT4ge1xuICAgICAgaWYgKGNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiAmJiBjbGllbnQuX2lkID09PSB1aWQpIHtcbiAgICAgICAgY2xpZW50LnNlbmQobXNnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyDlub/mkq3mtojmga8gLT4g5o6o6YCB57O757uf5raI5oGvXG4gIGJyb2FkY2FzdCAobXNnKSB7XG4gICAgdGhpcy53c3MuY2xpZW50cy5mb3JFYWNoKChjbGllbnQpID0+IHtcbiAgICAgIGlmIChjbGllbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgY2xpZW50LnNlbmQobXNnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBvbkNsb3NlICh3cykge1xuXG4gIH1cblxuICAvLyDlv4Pot7Pmo4DmtYtcbiAgaGVhcnRiZWF0ICgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG4gICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaCgod3MpID0+IHtcbiAgICAgICAgaWYgKCF3cy5pc0FsaXZlKSB7XG4gICAgICAgICAgcmV0dXJuIHdzLnRlcm1pbmF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgLy8g5Li75Yqo5Y+R6YCB5b+D6Lez5qOA5rWL6K+35rGCXG4gICAgICAgIC8vIOW9k+WuouaIt+err+i/lOWbnuS6hua2iOaBr+S5i+WQju+8jOS4u+WKqOiuvue9rmZsYWfkuLrlnKjnur9cbiAgICAgICAgd3MuaXNBbGl2ZSA9IGZhbHNlXG4gICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGV2ZW50OiAnaGVhcnRiZWF0JyxcbiAgICAgICAgICBtZXNzYWdlOiAncGluZydcbiAgICAgICAgfSkpXG4gICAgICB9KVxuICAgIH0sIHRoaXMudGltZUludGVydmFsKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYlNvY2tldFNlcnZlclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/WebSocket.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGO_USERNAME = Object({\"NODE_ENV\":'development'}).DB_USER || 'test';\nconst MONGO_PASSWORD = Object({\"NODE_ENV\":'development'}).DB_PASS || '123456';\nconst MONGO_HOSTNAME = Object({\"NODE_ENV\":'development'}).DB_HOST || '192.168.229.8';\nconst MONGO_PORT = Object({\"NODE_ENV\":'development'}).DB_PORT || '27017';\nconst DB_NAME = Object({\"NODE_ENV\":'development'}).DB_NAME || 'testdb';\nconst DB_URL = `mongodb://${MONGO_USERNAME}:${MONGO_PASSWORD}@${MONGO_HOSTNAME}:${MONGO_PORT}/${DB_NAME}`; // console.log('DB_URL', DB_URL)\n\nconst REDIS = {\n  host: Object({\"NODE_ENV\":'development'}).REDIS_HOST || '192.168.229.8',\n  port: Object({\"NODE_ENV\":'development'}).REDIS_PORT || 15001,\n  password: Object({\"NODE_ENV\":'development'}).REDIS_PASS || '123456'\n};\nconst JWT_SECRET = 'a&*38QthAKuiRwISGLotgq^3%^$zvA3A6Hfr8MF$jM*HY4*dWcwAW&9NGp7*b53!';\nconst baseUrl =  false ? undefined : 'http://localhost:8080';\nconst uploadPath =  false ? undefined : path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\nconst adminEmail = ['1500529741@qq.com'];\nconst publicPath = [/^\\/public/, /^\\/login/, /^\\/content/, /^\\/user/, /^\\/comments/];\nconst isDevMode = 'development' !== 'production';\nconst port = 3000;\nconst wsPort = 3001;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_NAME,\n  MONGO_HOSTNAME,\n  DB_URL,\n  REDIS,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath,\n  adminEmail,\n  publicPath,\n  isDevMode,\n  port,\n  wsPort\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiTU9OR09fVVNFUk5BTUUiLCJwcm9jZXNzIiwiREJfVVNFUiIsIk1PTkdPX1BBU1NXT1JEIiwiREJfUEFTUyIsIk1PTkdPX0hPU1ROQU1FIiwiREJfSE9TVCIsIk1PTkdPX1BPUlQiLCJEQl9QT1JUIiwiREJfTkFNRSIsIkRCX1VSTCIsIlJFRElTIiwiaG9zdCIsIlJFRElTX0hPU1QiLCJwb3J0IiwiUkVESVNfUE9SVCIsInBhc3N3b3JkIiwiUkVESVNfUEFTUyIsIkpXVF9TRUNSRVQiLCJiYXNlVXJsIiwidXBsb2FkUGF0aCIsInBhdGgiLCJqb2luIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImFkbWluRW1haWwiLCJwdWJsaWNQYXRoIiwiaXNEZXZNb2RlIiwid3NQb3J0Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLGNBQWMsR0FBR0Msa0NBQUEsQ0FBWUMsT0FBWixJQUF1QixNQUE5QztBQUNBLE1BQU1DLGNBQWMsR0FBR0Ysa0NBQUEsQ0FBWUcsT0FBWixJQUF1QixRQUE5QztBQUNBLE1BQU1DLGNBQWMsR0FBR0osa0NBQUEsQ0FBWUssT0FBWixJQUF1QixlQUE5QztBQUNBLE1BQU1DLFVBQVUsR0FBR04sa0NBQUEsQ0FBWU8sT0FBWixJQUF1QixPQUExQztBQUNBLE1BQU1DLE9BQU8sR0FBR1Isa0NBQUEsQ0FBWVEsT0FBWixJQUF1QixRQUF2QztBQUVBLE1BQU1DLE1BQU0sR0FBSSxhQUFZVixjQUFlLElBQUdHLGNBQWUsSUFBR0UsY0FBZSxJQUFHRSxVQUFXLElBQUdFLE9BQVEsRUFBeEcsQyxDQUVBOztBQUVBLE1BQU1FLEtBQUssR0FBRztFQUNaQyxJQUFJLEVBQUVYLGtDQUFBLENBQVlZLFVBQVosSUFBMEIsZUFEcEI7RUFFWkMsSUFBSSxFQUFFYixrQ0FBQSxDQUFZYyxVQUFaLElBQTBCLEtBRnBCO0VBR1pDLFFBQVEsRUFBRWYsa0NBQUEsQ0FBWWdCLFVBQVosSUFBMEI7QUFIeEIsQ0FBZDtBQU1BLE1BQU1DLFVBQVUsR0FBRyxrRUFBbkI7QUFFQSxNQUFNQyxPQUFPLEdBQUdsQixNQUFBLEdBQXdDLFNBQXhDLEdBQTZFLHVCQUE3RjtBQUVBLE1BQU1tQixVQUFVLEdBQUduQixNQUFBLEdBQXdDLFNBQXhDLEdBQXdEb0IsMkNBQUksQ0FBQ0MsSUFBTCxDQUFVRCwyQ0FBSSxDQUFDRSxPQUFMLENBQWFDLFNBQWIsQ0FBVixFQUFtQyxjQUFuQyxDQUEzRTtBQUVBLE1BQU1DLFVBQVUsR0FBRyxDQUFDLG1CQUFELENBQW5CO0FBRUEsTUFBTUMsVUFBVSxHQUFHLENBQUMsV0FBRCxFQUFjLFVBQWQsRUFBMEIsWUFBMUIsRUFBd0MsU0FBeEMsRUFBbUQsYUFBbkQsQ0FBbkI7QUFFQSxNQUFNQyxTQUFTLEdBQUcxQixhQUFBLEtBQXlCLFlBQTNDO0FBRUEsTUFBTWEsSUFBSSxHQUFHLElBQWI7QUFDQSxNQUFNYyxNQUFNLEdBQUcsSUFBZjtBQUVlO0VBQ2JuQixPQURhO0VBRWJKLGNBRmE7RUFHYkssTUFIYTtFQUliQyxLQUphO0VBS2JPLFVBTGE7RUFNYkMsT0FOYTtFQU9iQyxVQVBhO0VBUWJLLFVBUmE7RUFTYkMsVUFUYTtFQVViQyxTQVZhO0VBV2JiLElBWGE7RUFZYmM7QUFaYSxDQUFmLEUiLCJmaWxlIjoiLi9zcmMvY29uZmlnL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuY29uc3QgTU9OR09fVVNFUk5BTUUgPSBwcm9jZXNzLmVudi5EQl9VU0VSIHx8ICd0ZXN0J1xuY29uc3QgTU9OR09fUEFTU1dPUkQgPSBwcm9jZXNzLmVudi5EQl9QQVNTIHx8ICcxMjM0NTYnXG5jb25zdCBNT05HT19IT1NUTkFNRSA9IHByb2Nlc3MuZW52LkRCX0hPU1QgfHwgJzE5Mi4xNjguMjI5LjgnXG5jb25zdCBNT05HT19QT1JUID0gcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAnMjcwMTcnXG5jb25zdCBEQl9OQU1FID0gcHJvY2Vzcy5lbnYuREJfTkFNRSB8fCAndGVzdGRiJ1xuXG5jb25zdCBEQl9VUkwgPSBgbW9uZ29kYjovLyR7TU9OR09fVVNFUk5BTUV9OiR7TU9OR09fUEFTU1dPUkR9QCR7TU9OR09fSE9TVE5BTUV9OiR7TU9OR09fUE9SVH0vJHtEQl9OQU1FfWBcblxuLy8gY29uc29sZS5sb2coJ0RCX1VSTCcsIERCX1VSTClcblxuY29uc3QgUkVESVMgPSB7XG4gIGhvc3Q6IHByb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgJzE5Mi4xNjguMjI5LjgnLFxuICBwb3J0OiBwcm9jZXNzLmVudi5SRURJU19QT1JUIHx8IDE1MDAxLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUkVESVNfUEFTUyB8fCAnMTIzNDU2J1xufVxuXG5jb25zdCBKV1RfU0VDUkVUID0gJ2EmKjM4UXRoQUt1aVJ3SVNHTG90Z3FeMyVeJHp2QTNBNkhmcjhNRiRqTSpIWTQqZFdjd0FXJjlOR3A3KmI1MyEnXG5cbmNvbnN0IGJhc2VVcmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJ2h0dHA6Ly9mcm9udC5kZXYudG9pbWMuY29tOjIyNTAwJyA6ICdodHRwOi8vbG9jYWxob3N0OjgwODAnXG5cbmNvbnN0IHVwbG9hZFBhdGggPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJy9hcHAvcHVibGljJyA6IHBhdGguam9pbihwYXRoLnJlc29sdmUoX19kaXJuYW1lKSwgJy4uLy4uL3B1YmxpYycpXG5cbmNvbnN0IGFkbWluRW1haWwgPSBbJzE1MDA1Mjk3NDFAcXEuY29tJ11cblxuY29uc3QgcHVibGljUGF0aCA9IFsvXlxcL3B1YmxpYy8sIC9eXFwvbG9naW4vLCAvXlxcL2NvbnRlbnQvLCAvXlxcL3VzZXIvLCAvXlxcL2NvbW1lbnRzL11cblxuY29uc3QgaXNEZXZNb2RlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuXG5jb25zdCBwb3J0ID0gMzAwMFxuY29uc3Qgd3NQb3J0ID0gMzAwMVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIERCX05BTUUsXG4gIE1PTkdPX0hPU1ROQU1FLFxuICBEQl9VUkwsXG4gIFJFRElTLFxuICBKV1RfU0VDUkVULFxuICBiYXNlVXJsLFxuICB1cGxvYWRQYXRoLFxuICBhZG1pbkVtYWlsLFxuICBwdWJsaWNQYXRoLFxuICBpc0Rldk1vZGUsXG4gIHBvcnQsXG4gIHdzUG9ydFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n/* harmony import */ var _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./config/WebSocket */ \"./src/config/WebSocket.js\");\n/* harmony import */ var _common_Auth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/common/Auth */ \"./src/common/Auth.js\");\n/* harmony import */ var _common_Init__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./common/Init */ \"./src/common/Init.js\");\n/* harmony import */ var _config_Log4j__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/config/Log4j */ \"./src/config/Log4j.js\");\n/* harmony import */ var _common_Logger__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/common/Logger */ \"./src/common/Logger.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst ws = new _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\nws.init();\nglobal.ws = ws; // 定义公共路径，不需要jwt鉴权\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /^\\/login/]\n});\n/**\n * 使用koa-compose 集成中间件\n */\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_9___default()([_common_Logger__WEBPACK_IMPORTED_MODULE_17__[\"default\"], koa_body__WEBPACK_IMPORTED_MODULE_6___default()({\n  multipart: true,\n  formidable: {\n    keepExtensions: true,\n    maxFieldsSize: 5 * 1024 * 1024\n  },\n  onError: err => {\n    console.log('koabody TCL: err', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_4___default()(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_json__WEBPACK_IMPORTED_MODULE_7___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_3___default()(), jwt, _common_Auth__WEBPACK_IMPORTED_MODULE_14__[\"default\"], _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"], _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].isDevMode ? _config_Log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].koaLogger(_config_Log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].getLogger('http'), {\n  level: 'auto'\n}) : _config_Log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].koaLogger(_config_Log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].getLogger('access'), {\n  level: 'auto'\n})]);\n\nif (!_config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_10___default()());\n}\n\nconsole.log(_config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].baseUrl);\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\napp.listen(_config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].port, () => {\n  const logger = _config_Log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].getLogger('out');\n  logger.info('app is runing at ' + _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].port);\n  Object(_common_Init__WEBPACK_IMPORTED_MODULE_15__[\"run\"])();\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJLb2EiLCJ3cyIsIldlYlNvY2tldFNlcnZlciIsImluaXQiLCJnbG9iYWwiLCJqd3QiLCJKV1QiLCJzZWNyZXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwidW5sZXNzIiwicGF0aCIsIm1pZGRsZXdhcmUiLCJjb21wb3NlIiwibW9uaXRvckxvZ2dlciIsImtvYUJvZHkiLCJtdWx0aXBhcnQiLCJmb3JtaWRhYmxlIiwia2VlcEV4dGVuc2lvbnMiLCJtYXhGaWVsZHNTaXplIiwib25FcnJvciIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0aWNzIiwiam9pbiIsIl9fZGlybmFtZSIsImNvcnMiLCJqc29udXRpbCIsInByZXR0eSIsInBhcmFtIiwiaGVsbWV0IiwiYXV0aCIsImVycm9ySGFuZGxlIiwiaXNEZXZNb2RlIiwibG9nNGpzIiwia29hTG9nZ2VyIiwiZ2V0TG9nZ2VyIiwibGV2ZWwiLCJ1c2UiLCJjb21wcmVzcyIsImJhc2VVcmwiLCJyb3V0ZXIiLCJsaXN0ZW4iLCJwb3J0IiwibG9nZ2VyIiwiaW5mbyIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLEdBQUcsR0FBRyxJQUFJQywwQ0FBSixFQUFaO0FBQ0EsTUFBTUMsRUFBRSxHQUFHLElBQUlDLDBEQUFKLEVBQVg7QUFFQUQsRUFBRSxDQUFDRSxJQUFIO0FBQ0FDLE1BQU0sQ0FBQ0gsRUFBUCxHQUFZQSxFQUFaLEMsQ0FFQTs7QUFDQSxNQUFNSSxHQUFHLEdBQUdDLDhDQUFHLENBQUM7RUFBRUMsTUFBTSxFQUFFQyxzREFBTSxDQUFDQztBQUFqQixDQUFELENBQUgsQ0FBbUNDLE1BQW5DLENBQTBDO0VBQUVDLElBQUksRUFBRSxDQUFDLFdBQUQsRUFBYyxVQUFkO0FBQVIsQ0FBMUMsQ0FBWjtBQUVBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQyxVQUFVLEdBQUdDLGtEQUFPLENBQUMsQ0FDekJDLHVEQUR5QixFQUV6QkMsK0NBQU8sQ0FBQztFQUNOQyxTQUFTLEVBQUUsSUFETDtFQUVOQyxVQUFVLEVBQUU7SUFDVkMsY0FBYyxFQUFFLElBRE47SUFFVkMsYUFBYSxFQUFFLElBQUksSUFBSixHQUFXO0VBRmhCLENBRk47RUFNTkMsT0FBTyxFQUFFQyxHQUFHLElBQUk7SUFDZEMsT0FBTyxDQUFDQyxHQUFSLENBQVksa0JBQVosRUFBZ0NGLEdBQWhDO0VBQ0Q7QUFSSyxDQUFELENBRmtCLEVBWXpCRyxpREFBTyxDQUFDYiwyQ0FBSSxDQUFDYyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsV0FBckIsQ0FBRCxDQVprQixFQWF6QkMsZ0RBQUksRUFicUIsRUFjekJDLCtDQUFRLENBQUM7RUFBRUMsTUFBTSxFQUFFLEtBQVY7RUFBaUJDLEtBQUssRUFBRTtBQUF4QixDQUFELENBZGlCLEVBZXpCQyxpREFBTSxFQWZtQixFQWdCekIxQixHQWhCeUIsRUFpQnpCMkIscURBakJ5QixFQWtCekJDLDREQWxCeUIsRUFtQnpCekIsc0RBQU0sQ0FBQzBCLFNBQVAsR0FBbUJDLHNEQUFNLENBQUNDLFNBQVAsQ0FBaUJELHNEQUFNLENBQUNFLFNBQVAsQ0FBaUIsTUFBakIsQ0FBakIsRUFBMkM7RUFDNURDLEtBQUssRUFBRTtBQURxRCxDQUEzQyxDQUFuQixHQUVLSCxzREFBTSxDQUFDQyxTQUFQLENBQWlCRCxzREFBTSxDQUFDRSxTQUFQLENBQWlCLFFBQWpCLENBQWpCLEVBQTZDO0VBQ2hEQyxLQUFLLEVBQUU7QUFEeUMsQ0FBN0MsQ0FyQm9CLENBQUQsQ0FBMUI7O0FBMEJBLElBQUksQ0FBQzlCLHNEQUFNLENBQUMwQixTQUFaLEVBQXVCO0VBQ3JCbkMsR0FBRyxDQUFDd0MsR0FBSixDQUFRQyxvREFBUSxFQUFoQjtBQUNEOztBQUNEbEIsT0FBTyxDQUFDQyxHQUFSLENBQVlmLHNEQUFNLENBQUNpQyxPQUFuQjtBQUNBMUMsR0FBRyxDQUFDd0MsR0FBSixDQUFRM0IsVUFBUjtBQUNBYixHQUFHLENBQUN3QyxHQUFKLENBQVFHLDhEQUFNLEVBQWQ7QUFFQTNDLEdBQUcsQ0FBQzRDLE1BQUosQ0FBV25DLHNEQUFNLENBQUNvQyxJQUFsQixFQUF3QixNQUFNO0VBQzVCLE1BQU1DLE1BQU0sR0FBR1Ysc0RBQU0sQ0FBQ0UsU0FBUCxDQUFpQixLQUFqQixDQUFmO0VBQ0FRLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLHNCQUFzQnRDLHNEQUFNLENBQUNvQyxJQUF6QztFQUNBRyx5REFBRztBQUNKLENBSkQsRSIsImZpbGUiOiIuL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBLb2EgZnJvbSAna29hJ1xuaW1wb3J0IEpXVCBmcm9tICdrb2Etand0J1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBoZWxtZXQgZnJvbSAna29hLWhlbG1ldCdcbmltcG9ydCBzdGF0aWNzIGZyb20gJ2tvYS1zdGF0aWMnXG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVzL3JvdXRlcydcbmltcG9ydCBrb2FCb2R5IGZyb20gJ2tvYS1ib2R5J1xuaW1wb3J0IGpzb251dGlsIGZyb20gJ2tvYS1qc29uJ1xuaW1wb3J0IGNvcnMgZnJvbSAnQGtvYS9jb3JzJ1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAna29hLWNvbXBvc2UnXG5pbXBvcnQgY29tcHJlc3MgZnJvbSAna29hLWNvbXByZXNzJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy9pbmRleCdcbmltcG9ydCBlcnJvckhhbmRsZSBmcm9tICcuL2NvbW1vbi9FcnJvckhhbmRsZSdcbmltcG9ydCBXZWJTb2NrZXRTZXJ2ZXIgZnJvbSAnLi9jb25maWcvV2ViU29ja2V0J1xuaW1wb3J0IGF1dGggZnJvbSAnQC9jb21tb24vQXV0aCdcbmltcG9ydCB7IHJ1biB9IGZyb20gJy4vY29tbW9uL0luaXQnXG5pbXBvcnQgbG9nNGpzIGZyb20gJ0AvY29uZmlnL0xvZzRqJ1xuaW1wb3J0IG1vbml0b3JMb2dnZXIgZnJvbSAnQC9jb21tb24vTG9nZ2VyJ1xuY29uc3QgYXBwID0gbmV3IEtvYSgpXG5jb25zdCB3cyA9IG5ldyBXZWJTb2NrZXRTZXJ2ZXIoKVxuXG53cy5pbml0KClcbmdsb2JhbC53cyA9IHdzXG5cbi8vIOWumuS5ieWFrOWFsei3r+W+hO+8jOS4jemcgOimgWp3dOmJtOadg1xuY29uc3Qgand0ID0gSldUKHsgc2VjcmV0OiBjb25maWcuSldUX1NFQ1JFVCB9KS51bmxlc3MoeyBwYXRoOiBbL15cXC9wdWJsaWMvLCAvXlxcL2xvZ2luL10gfSlcblxuLyoqXG4gKiDkvb/nlKhrb2EtY29tcG9zZSDpm4bmiJDkuK3pl7Tku7ZcbiAqL1xuY29uc3QgbWlkZGxld2FyZSA9IGNvbXBvc2UoW1xuICBtb25pdG9yTG9nZ2VyLFxuICBrb2FCb2R5KHtcbiAgICBtdWx0aXBhcnQ6IHRydWUsXG4gICAgZm9ybWlkYWJsZToge1xuICAgICAga2VlcEV4dGVuc2lvbnM6IHRydWUsXG4gICAgICBtYXhGaWVsZHNTaXplOiA1ICogMTAyNCAqIDEwMjRcbiAgICB9LFxuICAgIG9uRXJyb3I6IGVyciA9PiB7XG4gICAgICBjb25zb2xlLmxvZygna29hYm9keSBUQ0w6IGVycicsIGVycilcbiAgICB9XG4gIH0pLFxuICBzdGF0aWNzKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSksXG4gIGNvcnMoKSxcbiAganNvbnV0aWwoeyBwcmV0dHk6IGZhbHNlLCBwYXJhbTogJ3ByZXR0eScgfSksXG4gIGhlbG1ldCgpLFxuICBqd3QsXG4gIGF1dGgsXG4gIGVycm9ySGFuZGxlLFxuICBjb25maWcuaXNEZXZNb2RlID8gbG9nNGpzLmtvYUxvZ2dlcihsb2c0anMuZ2V0TG9nZ2VyKCdodHRwJyksIHtcbiAgICBsZXZlbDogJ2F1dG8nXG4gIH0pIDogbG9nNGpzLmtvYUxvZ2dlcihsb2c0anMuZ2V0TG9nZ2VyKCdhY2Nlc3MnKSwge1xuICAgIGxldmVsOiAnYXV0bydcbiAgfSlcbl0pXG5cbmlmICghY29uZmlnLmlzRGV2TW9kZSkge1xuICBhcHAudXNlKGNvbXByZXNzKCkpXG59XG5jb25zb2xlLmxvZyhjb25maWcuYmFzZVVybClcbmFwcC51c2UobWlkZGxld2FyZSlcbmFwcC51c2Uocm91dGVyKCkpXG5cbmFwcC5saXN0ZW4oY29uZmlnLnBvcnQsICgpID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcignb3V0JylcbiAgbG9nZ2VyLmluZm8oJ2FwcCBpcyBydW5pbmcgYXQgJyArIGNvbmZpZy5wb3J0KVxuICBydW4oKVxufSlcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Comments.js":
/*!*******************************!*\
  !*** ./src/model/Comments.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  tid: {\n    type: String,\n    ref: 'post'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  cuid: {\n    type: String,\n    ref: 'users'\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  hands: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '1'\n  },\n  isRead: {\n    type: String,\n    default: '0'\n  },\n  isBest: {\n    type: String,\n    default: '0'\n  }\n}, {\n  toJSON: {\n    virtuals: true\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByTid: function (id) {\n    return this.find({\n      tid: id\n    });\n  },\n  findByCid: function (id) {\n    return this.findOne({\n      _id: id\n    });\n  },\n  getCommentsList: function (id, page, limit) {\n    return this.find({\n      tid: id\n    }).populate({\n      path: 'cuid',\n      select: '_id name pic isVip',\n      match: {\n        status: {\n          $eq: '0'\n        }\n      }\n    }).populate({\n      path: 'tid',\n      select: '_id title status'\n    }).skip(page * limit).limit(limit);\n  },\n  queryCount: function (id) {\n    return this.find({\n      tid: id\n    }).countDocuments();\n  },\n  getCommetsPublic: function (id, page, limit) {\n    return this.find({\n      cuid: id\n    }).populate({\n      path: 'tid',\n      select: '_id title'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  getMsgList: function (id, page, limit) {\n    return this.find({\n      uid: id,\n      cuid: {\n        $ne: id\n      },\n      isRead: {\n        $eq: '0'\n      },\n      // 未读状态\n      status: {\n        $eq: '1'\n      } // 是否显示\n\n    }).populate({\n      path: 'tid',\n      select: '_id title content'\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cuid',\n      select: '_id name'\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  getTotal: function (id) {\n    return this.find({\n      uid: id,\n      isRead: '0',\n      status: '1'\n    }).countDocuments();\n  },\n  getCommentsOptions: function (options, page, limit) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        // radio\n        query[options.item] = options.search;\n      }\n      /**\n       * 创建视图：\n       * db.createView('comments_users', 'comments', [\n          { '$lookup': {\n              from: 'posts', let: { pid: { '$toObjectId': '$tid' } },\n              pipeline: [ { '$match': { '$expr': { '$eq': [ '$_id', '$$pid' ] } } },\n              { '$project': { _id: 1, uid: 1, title: 1 } } ], as: 'tid' } },\n              { '$replaceRoot': { newRoot: { '$mergeObjects': [ { '$arrayElemAt': [ '$tid', 0 ] }, '$$ROOT' ] } } },\n              { '$unwind': '$tid' },\n              { '$addFields': { userId: { '$toObjectId': '$uid' } } },\n              { '$lookup': {\n                  from: 'users', localField: 'userId', foreignField: '_id', as: 'uid' } },\n              { '$unwind': '$uid' }, { '$addFields': { fuserId: { '$toObjectId': '$cuid' } } },\n              { '$lookup': { from: 'users', localField: 'fuserId', foreignField: '_id', as: 'cuid' } },\n              { '$unwind': '$cuid' },\n          { '$project': { tid: 1, cuid: { name: 1, _id: 1 }, uid: { name: 1, _id: 1 }, isBest: 1, status: 1, content: 1, created: 1 } },\n          { '$sort': { created: -1 } }],\n          {})\n       */\n\n\n      if (['uid', 'tid', 'cuid'].includes(options.item)) {\n        let arr = [{\n          $lookup: {\n            from: 'posts',\n            let: {\n              pid: {\n                $toObjectId: '$tid'\n              }\n            },\n            pipeline: [{\n              $match: {\n                $expr: {\n                  $eq: ['$_id', '$$pid']\n                }\n              }\n            }, {\n              $project: {\n                _id: 1,\n                uid: 1,\n                title: 1\n              }\n            }],\n            as: 'tid'\n          }\n        }, {\n          $replaceRoot: {\n            newRoot: {\n              $mergeObjects: [{\n                $arrayElemAt: ['$tid', 0]\n              }, '$$ROOT']\n            }\n          }\n        }, {\n          $unwind: '$tid'\n        }];\n\n        if (options.item === 'tid') {\n          arr.push({\n            $match: {\n              title: {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $addFields: {\n            userId: {\n              $toObjectId: '$uid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'userId',\n            foreignField: '_id',\n            as: 'uid'\n          }\n        }]);\n\n        if (options.item === 'uid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'uid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$uid'\n        });\n        arr = arr.concat([{\n          $addFields: {\n            fuserId: {\n              $toObjectId: '$cuid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'fuserId',\n            foreignField: '_id',\n            as: 'cuid'\n          }\n        }]);\n\n        if (options.item === 'cuid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'cuid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $unwind: '$cuid'\n        }, {\n          $project: {\n            tid: 1,\n            cuid: {\n              name: 1,\n              _id: 1\n            },\n            uid: {\n              name: 1,\n              _id: 1\n            },\n            isBest: 1,\n            status: 1,\n            content: 1,\n            created: 1\n          }\n        }, {\n          $skip: limit * page\n        }, {\n          $limit: limit\n        }, {\n          $sort: {\n            created: -1\n          }\n        }]);\n        return this.aggregate(arr);\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n\n      return this.find(query).populate({\n        path: 'tid',\n        select: '_id title'\n      }).populate({\n        path: 'cuid',\n        select: '_id name'\n      }).populate({\n        path: 'uid',\n        select: '_id name'\n      }).skip(page * limit).limit(limit).sort({\n        created: -1\n      });\n    }\n  },\n  getCommentsOptionsCount: function (options) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        // radio\n        query[options.item] = options.search;\n      }\n\n      if (['uid', 'tid', 'cuid'].includes(options.item)) {\n        let arr = [{\n          $lookup: {\n            from: 'posts',\n            let: {\n              pid: {\n                $toObjectId: '$tid'\n              }\n            },\n            pipeline: [{\n              $match: {\n                $expr: {\n                  $eq: ['$_id', '$$pid']\n                }\n              }\n            }, {\n              $project: {\n                _id: 1,\n                uid: 1,\n                title: 1\n              }\n            }],\n            as: 'tid'\n          }\n        }, {\n          $replaceRoot: {\n            newRoot: {\n              $mergeObjects: [{\n                $arrayElemAt: ['$tid', 0]\n              }, '$$ROOT']\n            }\n          }\n        }, {\n          $unwind: '$tid'\n        }];\n\n        if (options.item === 'tid') {\n          arr.push({\n            $match: {\n              title: {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $addFields: {\n            userId: {\n              $toObjectId: '$uid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'userId',\n            foreignField: '_id',\n            as: 'uid'\n          }\n        }]);\n\n        if (options.item === 'uid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'uid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$uid'\n        });\n        arr = arr.concat([{\n          $addFields: {\n            fuserId: {\n              $toObjectId: '$cuid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'fuserId',\n            foreignField: '_id',\n            as: 'cuid'\n          }\n        }]);\n\n        if (options.item === 'cuid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'cuid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$cuid'\n        });\n        arr.push({\n          $project: {\n            tid: 1,\n            cuid: {\n              name: 1,\n              _id: 1\n            },\n            uid: {\n              name: 1,\n              _id: 1\n            },\n            isBest: 1,\n            status: 1,\n            content: 1,\n            created: 1\n          }\n        });\n        arr.push({\n          $group: {\n            _id: null,\n            count: {\n              $sum: 1\n            }\n          }\n        });\n        return this.aggregate(arr);\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n\n      return this.find(query).countDocuments();\n    }\n\n    return this.find(query).countDocuments();\n  },\n  // getMsgList: function (id, page, limit) {\n  //   return this.aggregate([\n  // {\n  //   $lookup: {\n  //     from: 'posts',\n  //     let: { pid: { $toObjectId: '$tid' } },\n  //     pipeline: [\n  //       { $match: { $expr: { $eq: ['$_id', '$$pid'] } } },\n  //       { $project: { _id: 1, uid: 1, content: 1 } }\n  //     ],\n  //     as: 'post'\n  //   }\n  // },\n  // {\n  //   $replaceRoot: {\n  //     newRoot: {\n  //       $mergeObjects: [{ $arrayElemAt: ['$post', 0] }, '$$ROOT']\n  //     }\n  //   }\n  // },\n  // { $addFields: { userId: { $toObjectId: '$uid' } } },\n  // { $lookup: { from: 'users', localField: 'userId', foreignField: '_id', as: 'tuid' } },\n  // { $unwind: '$tuid' },\n  // { $addFields: { fuserId: { $toObjectId: '$cuid' } } },\n  // { $lookup: { from: 'users', localField: 'fuserId', foreignField: '_id', as: 'fuid' } },\n  // { $unwind: '$fuid' },\n  // { $project: { post: 0, tuid: { username: 0, password: 0 }, fuid: { username: 0, password: 0 }, userId: 0, fuserId: 0, tid: 0, cuid: 0 } },\n  //     { $match: { uid: id, status: '1', isRead: '0' } }\n  //   ])\n  //     .skip(limit * page)\n  //     .limit(limit)\n  //     .sort({ created: -1 })\n  // }\n  getHotComments: function (page, limit, index) {\n    if (index === '0') {\n      // 总评论记数 -> aggregate聚合查询\n      return this.aggregate([// 匹配30天内的评论数据\n      {\n        $match: {\n          created: {\n            $gte: new Date(dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(30, 'day'))\n          }\n        }\n      }, {\n        $group: {\n          _id: '$cuid',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $addFields: {\n          userId: {\n            $toObjectId: '$_id'\n          }\n        }\n      }, {\n        $lookup: {\n          from: 'users',\n          localField: 'userId',\n          foreignField: '_id',\n          as: 'cuid'\n        }\n      }, {\n        $unwind: '$cuid'\n      }, {\n        $project: {\n          cuid: {\n            name: 1,\n            _id: 1,\n            pic: 1\n          },\n          count: 1\n        }\n      }, {\n        $skip: page * limit\n      }, {\n        $limit: limit\n      }, {\n        $sort: {\n          count: -1\n        }\n      }]);\n    } else if (index === '1') {\n      // 最新评论\n      return this.find({}) // populate\n      .populate({\n        path: 'cuid',\n        select: 'name pic _id'\n      }).skip(page * limit).limit(limit).sort({\n        created: -1\n      });\n    }\n  },\n  getHotCommentsCount: async function (index) {\n    if (index === '0') {\n      // 总评论记数 -> aggregate聚合查询\n      const result = await this.aggregate([// 匹配30天内的评论数据\n      {\n        $match: {\n          created: {\n            $gte: new Date(dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(30, 'day'))\n          }\n        }\n      }, {\n        $group: {\n          _id: '$cuid',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $group: {\n          _id: 'null',\n          total: {\n            $sum: 1\n          }\n        }\n      }]);\n      return result[0].total;\n    } else if (index === '1') {\n      // 最新评论\n      return this.find({}).countDocuments();\n    }\n  }\n};\nconst Comments = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Comments);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHMuanM/MmUwMSJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvbW1lbnRzU2NoZW1hIiwidGlkIiwidHlwZSIsIlN0cmluZyIsInJlZiIsInVpZCIsImN1aWQiLCJjb250ZW50IiwiY3JlYXRlZCIsIkRhdGUiLCJoYW5kcyIsIk51bWJlciIsImRlZmF1bHQiLCJzdGF0dXMiLCJpc1JlYWQiLCJpc0Jlc3QiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInByZSIsIm5leHQiLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuYW1lIiwiY29kZSIsIkVycm9yIiwic3RhdGljcyIsImZpbmRCeVRpZCIsImlkIiwiZmluZCIsImZpbmRCeUNpZCIsImZpbmRPbmUiLCJfaWQiLCJnZXRDb21tZW50c0xpc3QiLCJwYWdlIiwibGltaXQiLCJwb3B1bGF0ZSIsInBhdGgiLCJzZWxlY3QiLCJtYXRjaCIsIiRlcSIsInNraXAiLCJxdWVyeUNvdW50IiwiY291bnREb2N1bWVudHMiLCJnZXRDb21tZXRzUHVibGljIiwic29ydCIsImdldE1zZ0xpc3QiLCIkbmUiLCJnZXRUb3RhbCIsImdldENvbW1lbnRzT3B0aW9ucyIsIm9wdGlvbnMiLCJxdWVyeSIsInNlYXJjaCIsInRyaW0iLCJpdGVtIiwiaW5jbHVkZXMiLCJhcnIiLCIkbG9va3VwIiwiZnJvbSIsImxldCIsInBpZCIsIiR0b09iamVjdElkIiwicGlwZWxpbmUiLCIkbWF0Y2giLCIkZXhwciIsIiRwcm9qZWN0IiwidGl0bGUiLCJhcyIsIiRyZXBsYWNlUm9vdCIsIm5ld1Jvb3QiLCIkbWVyZ2VPYmplY3RzIiwiJGFycmF5RWxlbUF0IiwiJHVud2luZCIsInB1c2giLCIkcmVnZXgiLCIkb3B0aW9ucyIsImNvbmNhdCIsIiRhZGRGaWVsZHMiLCJ1c2VySWQiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiZnVzZXJJZCIsIiRza2lwIiwiJGxpbWl0IiwiJHNvcnQiLCJhZ2dyZWdhdGUiLCJzdGFydCIsImVuZCIsIiRndGUiLCIkbHQiLCJnZXRDb21tZW50c09wdGlvbnNDb3VudCIsIiRncm91cCIsImNvdW50IiwiJHN1bSIsImdldEhvdENvbW1lbnRzIiwiaW5kZXgiLCJtb21lbnQiLCJzdWJ0cmFjdCIsInBpYyIsImdldEhvdENvbW1lbnRzQ291bnQiLCJyZXN1bHQiLCJ0b3RhbCIsIkNvbW1lbnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQ2hDRyxHQUFHLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxHQUFHLEVBQUU7RUFBckIsQ0FEMkI7RUFFaENDLEdBQUcsRUFBRTtJQUFFSCxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLEdBQUcsRUFBRTtFQUFyQixDQUYyQjtFQUdoQ0UsSUFBSSxFQUFFO0lBQUVKLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsR0FBRyxFQUFFO0VBQXJCLENBSDBCO0VBSWhDRyxPQUFPLEVBQUU7SUFBRUwsSUFBSSxFQUFFQztFQUFSLENBSnVCO0VBS2hDSyxPQUFPLEVBQUU7SUFBRU4sSUFBSSxFQUFFTztFQUFSLENBTHVCO0VBTWhDQyxLQUFLLEVBQUU7SUFBRVIsSUFBSSxFQUFFUyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FOeUI7RUFPaENDLE1BQU0sRUFBRTtJQUFFWCxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JTLE9BQU8sRUFBRTtFQUF6QixDQVB3QjtFQVFoQ0UsTUFBTSxFQUFFO0lBQUVaLElBQUksRUFBRUMsTUFBUjtJQUFnQlMsT0FBTyxFQUFFO0VBQXpCLENBUndCO0VBU2hDRyxNQUFNLEVBQUU7SUFBRWIsSUFBSSxFQUFFQyxNQUFSO0lBQWdCUyxPQUFPLEVBQUU7RUFBekI7QUFUd0IsQ0FBWCxFQVVwQjtFQUFF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LENBQWUsVUFBZixFQUEyQnZHLGNBQTNCLENBQWpCO0FBRWVzRyx1RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Db21tZW50cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IENvbW1lbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRpZDogeyB0eXBlOiBTdHJpbmcsIHJlZjogJ3Bvc3QnIH0sXG4gIHVpZDogeyB0eXBlOiBTdHJpbmcsIHJlZjogJ3VzZXJzJyB9LFxuICBjdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXG4gIGNvbnRlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxuICBoYW5kczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzEnIH0sXG4gIGlzUmVhZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxuICBpc0Jlc3Q6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfVxufSwgeyB0b0pTT046IHsgdmlydHVhbHM6IHRydWUgfSB9KVxuXG5Db21tZW50c1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gIG5leHQoKVxufSlcblxuQ29tbWVudHNTY2hlbWEucG9zdCgnc2F2ZScsIGZ1bmN0aW9uIChlcnJvciwgZG9jLCBuZXh0KSB7XG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxuICB9IGVsc2Uge1xuICAgIG5leHQoZXJyb3IpXG4gIH1cbn0pXG5cbkNvbW1lbnRzU2NoZW1hLnN0YXRpY3MgPSB7XG4gIGZpbmRCeVRpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IHRpZDogaWQgfSlcbiAgfSxcbiAgZmluZEJ5Q2lkOiBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgX2lkOiBpZCB9KVxuICB9LFxuICBnZXRDb21tZW50c0xpc3Q6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdGlkOiBpZCB9KS5wb3B1bGF0ZSh7XG4gICAgICBwYXRoOiAnY3VpZCcsXG4gICAgICBzZWxlY3Q6ICdfaWQgbmFtZSBwaWMgaXNWaXAnLFxuICAgICAgbWF0Y2g6IHsgc3RhdHVzOiB7ICRlcTogJzAnIH0gfVxuICAgIH0pLnBvcHVsYXRlKHtcbiAgICAgIHBhdGg6ICd0aWQnLFxuICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlIHN0YXR1cydcbiAgICB9KS5za2lwKHBhZ2UgKiBsaW1pdCkubGltaXQobGltaXQpXG4gIH0sXG4gIHF1ZXJ5Q291bnQ6IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoeyB0aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcbiAgfSxcbiAgZ2V0Q29tbWV0c1B1YmxpYzogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoeyBjdWlkOiBpZCB9KVxuICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgcGF0aDogJ3RpZCcsXG4gICAgICAgIHNlbGVjdDogJ19pZCB0aXRsZSdcbiAgICAgIH0pXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIH0sXG4gIGdldE1zZ0xpc3Q6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICAgIHVpZDogaWQsXG4gICAgICBjdWlkOiB7ICRuZTogaWQgfSxcbiAgICAgIGlzUmVhZDogeyAkZXE6ICcwJyB9LCAvLyDmnKror7vnirbmgIFcbiAgICAgIHN0YXR1czogeyAkZXE6ICcxJyB9IC8vIOaYr+WQpuaYvuekulxuICAgIH0pXG4gICAgICAucG9wdWxhdGUoe1xuICAgICAgICBwYXRoOiAndGlkJyxcbiAgICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlIGNvbnRlbnQnXG4gICAgICB9KVxuICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgcGF0aDogJ3VpZCcsXG4gICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xuICAgICAgfSlcbiAgICAgIC5wb3B1bGF0ZSh7XG4gICAgICAgIHBhdGg6ICdjdWlkJyxcbiAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUnXG4gICAgICB9KVxuICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxuICB9LFxuICBnZXRUb3RhbDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IHVpZDogaWQsIGlzUmVhZDogJzAnLCBzdGF0dXM6ICcxJyB9KS5jb3VudERvY3VtZW50cygpXG4gIH0sXG4gIGdldENvbW1lbnRzT3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMsIHBhZ2UsIGxpbWl0KSB7XG4gICAgbGV0IHF1ZXJ5ID0ge31cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xuICAgICAgICAvLyByYWRpb1xuICAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0gb3B0aW9ucy5zZWFyY2hcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiDliJvlu7rop4blm77vvJpcbiAgICAgICAqIGRiLmNyZWF0ZVZpZXcoJ2NvbW1lbnRzX3VzZXJzJywgJ2NvbW1lbnRzJywgW1xuICAgICAgICAgIHsgJyRsb29rdXAnOiB7XG4gICAgICAgICAgICAgIGZyb206ICdwb3N0cycsIGxldDogeyBwaWQ6IHsgJyR0b09iamVjdElkJzogJyR0aWQnIH0gfSxcbiAgICAgICAgICAgICAgcGlwZWxpbmU6IFsgeyAnJG1hdGNoJzogeyAnJGV4cHInOiB7ICckZXEnOiBbICckX2lkJywgJyQkcGlkJyBdIH0gfSB9LFxuICAgICAgICAgICAgICB7ICckcHJvamVjdCc6IHsgX2lkOiAxLCB1aWQ6IDEsIHRpdGxlOiAxIH0gfSBdLCBhczogJ3RpZCcgfSB9LFxuICAgICAgICAgICAgICB7ICckcmVwbGFjZVJvb3QnOiB7IG5ld1Jvb3Q6IHsgJyRtZXJnZU9iamVjdHMnOiBbIHsgJyRhcnJheUVsZW1BdCc6IFsgJyR0aWQnLCAwIF0gfSwgJyQkUk9PVCcgXSB9IH0gfSxcbiAgICAgICAgICAgICAgeyAnJHVud2luZCc6ICckdGlkJyB9LFxuICAgICAgICAgICAgICB7ICckYWRkRmllbGRzJzogeyB1c2VySWQ6IHsgJyR0b09iamVjdElkJzogJyR1aWQnIH0gfSB9LFxuICAgICAgICAgICAgICB7ICckbG9va3VwJzoge1xuICAgICAgICAgICAgICAgICAgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ3VzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAndWlkJyB9IH0sXG4gICAgICAgICAgICAgIHsgJyR1bndpbmQnOiAnJHVpZCcgfSwgeyAnJGFkZEZpZWxkcyc6IHsgZnVzZXJJZDogeyAnJHRvT2JqZWN0SWQnOiAnJGN1aWQnIH0gfSB9LFxuICAgICAgICAgICAgICB7ICckbG9va3VwJzogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAnZnVzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAnY3VpZCcgfSB9LFxuICAgICAgICAgICAgICB7ICckdW53aW5kJzogJyRjdWlkJyB9LFxuICAgICAgICAgIHsgJyRwcm9qZWN0JzogeyB0aWQ6IDEsIGN1aWQ6IHsgbmFtZTogMSwgX2lkOiAxIH0sIHVpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgaXNCZXN0OiAxLCBzdGF0dXM6IDEsIGNvbnRlbnQ6IDEsIGNyZWF0ZWQ6IDEgfSB9LFxuICAgICAgICAgIHsgJyRzb3J0JzogeyBjcmVhdGVkOiAtMSB9IH1dLFxuICAgICAgICAgIHt9KVxuICAgICAgICovXG4gICAgICBpZiAoWyd1aWQnLCAndGlkJywgJ2N1aWQnXS5pbmNsdWRlcyhvcHRpb25zLml0ZW0pKSB7XG4gICAgICAgIGxldCBhcnIgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgICAgICBmcm9tOiAncG9zdHMnLFxuICAgICAgICAgICAgICBsZXQ6IHsgcGlkOiB7ICR0b09iamVjdElkOiAnJHRpZCcgfSB9LFxuICAgICAgICAgICAgICBwaXBlbGluZTogW1xuICAgICAgICAgICAgICAgIHsgJG1hdGNoOiB7ICRleHByOiB7ICRlcTogWyckX2lkJywgJyQkcGlkJ10gfSB9IH0sXG4gICAgICAgICAgICAgICAgeyAkcHJvamVjdDogeyBfaWQ6IDEsIHVpZDogMSwgdGl0bGU6IDEgfSB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGFzOiAndGlkJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJHJlcGxhY2VSb290OiB7XG4gICAgICAgICAgICAgIG5ld1Jvb3Q6IHtcbiAgICAgICAgICAgICAgICAkbWVyZ2VPYmplY3RzOiBbeyAkYXJyYXlFbGVtQXQ6IFsnJHRpZCcsIDBdIH0sICckJFJPT1QnXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7ICR1bndpbmQ6ICckdGlkJyB9XG4gICAgICAgIF1cbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ3RpZCcpIHtcbiAgICAgICAgICBhcnIucHVzaCh7XG4gICAgICAgICAgICAkbWF0Y2g6IHsgdGl0bGU6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGFyciA9IGFyci5jb25jYXQoW1xuICAgICAgICAgIHsgJGFkZEZpZWxkczogeyB1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckdWlkJyB9IH0gfSxcbiAgICAgICAgICB7ICRsb29rdXA6IHsgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ3VzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAndWlkJyB9IH1dKVxuICAgICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAndWlkJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgYXJyLnB1c2goe1xuICAgICAgICAgICAgJG1hdGNoOiB7ICd1aWQubmFtZSc6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGFyci5wdXNoKHsgJHVud2luZDogJyR1aWQnIH0pXG4gICAgICAgIGFyciA9IGFyci5jb25jYXQoW1xuICAgICAgICAgIHsgJGFkZEZpZWxkczogeyBmdXNlcklkOiB7ICR0b09iamVjdElkOiAnJGN1aWQnIH0gfSB9LFxuICAgICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAnZnVzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAnY3VpZCcgfSB9XG4gICAgICAgIF0pXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdjdWlkJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgYXJyLnB1c2goe1xuICAgICAgICAgICAgJG1hdGNoOiB7ICdjdWlkLm5hbWUnOiB7ICRyZWdleDogb3B0aW9ucy5zZWFyY2gsICRvcHRpb25zOiAnaScgfSB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBhcnIgPSBhcnIuY29uY2F0KFtcbiAgICAgICAgICB7ICR1bndpbmQ6ICckY3VpZCcgfSxcbiAgICAgICAgICB7ICRwcm9qZWN0OiB7IHRpZDogMSwgY3VpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgdWlkOiB7IG5hbWU6IDEsIF9pZDogMSB9LCBpc0Jlc3Q6IDEsIHN0YXR1czogMSwgY29udGVudDogMSwgY3JlYXRlZDogMSB9IH0sXG4gICAgICAgICAgeyAkc2tpcDogbGltaXQgKiBwYWdlIH0sXG4gICAgICAgICAgeyAkbGltaXQ6IGxpbWl0IH0sXG4gICAgICAgICAgeyAkc29ydDogeyBjcmVhdGVkOiAtMSB9IH1cbiAgICAgICAgXSlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlKGFycilcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdjcmVhdGVkJykge1xuICAgICAgICBjb25zdCBzdGFydCA9IG9wdGlvbnMuc2VhcmNoWzBdXG4gICAgICAgIGNvbnN0IGVuZCA9IG9wdGlvbnMuc2VhcmNoWzFdXG4gICAgICAgIHF1ZXJ5ID0geyBjcmVhdGVkOiB7ICRndGU6IG5ldyBEYXRlKHN0YXJ0KSwgJGx0OiBuZXcgRGF0ZShlbmQpIH0gfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZmluZChxdWVyeSlcbiAgICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiAndGlkJyxcbiAgICAgICAgICBzZWxlY3Q6ICdfaWQgdGl0bGUnXG4gICAgICAgIH0pXG4gICAgICAgIC5wb3B1bGF0ZSh7XG4gICAgICAgICAgcGF0aDogJ2N1aWQnLFxuICAgICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xuICAgICAgICB9KVxuICAgICAgICAucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6ICd1aWQnLFxuICAgICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xuICAgICAgICB9KVxuICAgICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAgIC5saW1pdChsaW1pdClcbiAgICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxuICAgIH1cbiAgfSxcbiAgZ2V0Q29tbWVudHNPcHRpb25zQ291bnQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgbGV0IHF1ZXJ5ID0ge31cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xuICAgICAgICAvLyByYWRpb1xuICAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0gb3B0aW9ucy5zZWFyY2hcbiAgICAgIH1cbiAgICAgIGlmIChbJ3VpZCcsICd0aWQnLCAnY3VpZCddLmluY2x1ZGVzKG9wdGlvbnMuaXRlbSkpIHtcbiAgICAgICAgbGV0IGFyciA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAkbG9va3VwOiB7XG4gICAgICAgICAgICAgIGZyb206ICdwb3N0cycsXG4gICAgICAgICAgICAgIGxldDogeyBwaWQ6IHsgJHRvT2JqZWN0SWQ6ICckdGlkJyB9IH0sXG4gICAgICAgICAgICAgIHBpcGVsaW5lOiBbXG4gICAgICAgICAgICAgICAgeyAkbWF0Y2g6IHsgJGV4cHI6IHsgJGVxOiBbJyRfaWQnLCAnJCRwaWQnXSB9IH0gfSxcbiAgICAgICAgICAgICAgICB7ICRwcm9qZWN0OiB7IF9pZDogMSwgdWlkOiAxLCB0aXRsZTogMSB9IH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXM6ICd0aWQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAkcmVwbGFjZVJvb3Q6IHtcbiAgICAgICAgICAgICAgbmV3Um9vdDoge1xuICAgICAgICAgICAgICAgICRtZXJnZU9iamVjdHM6IFt7ICRhcnJheUVsZW1BdDogWyckdGlkJywgMF0gfSwgJyQkUk9PVCddXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgJHVud2luZDogJyR0aWQnIH1cbiAgICAgICAgXVxuICAgICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAndGlkJykge1xuICAgICAgICAgIGFyci5wdXNoKHtcbiAgICAgICAgICAgICRtYXRjaDogeyB0aXRsZTogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgYXJyID0gYXJyLmNvbmNhdChbXG4gICAgICAgICAgeyAkYWRkRmllbGRzOiB7IHVzZXJJZDogeyAkdG9PYmplY3RJZDogJyR1aWQnIH0gfSB9LFxuICAgICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAndXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICd1aWQnIH0gfV0pXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICd1aWQnICYmIG9wdGlvbnMuc2VhcmNoLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgICBhcnIucHVzaCh7XG4gICAgICAgICAgICAkbWF0Y2g6IHsgJ3VpZC5uYW1lJzogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgYXJyLnB1c2goeyAkdW53aW5kOiAnJHVpZCcgfSlcbiAgICAgICAgYXJyID0gYXJyLmNvbmNhdChbXG4gICAgICAgICAgeyAkYWRkRmllbGRzOiB7IGZ1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckY3VpZCcgfSB9IH0sXG4gICAgICAgICAgeyAkbG9va3VwOiB7IGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICdmdXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH1cbiAgICAgICAgXSlcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2N1aWQnICYmIG9wdGlvbnMuc2VhcmNoLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgICBhcnIucHVzaCh7XG4gICAgICAgICAgICAkbWF0Y2g6IHsgJ2N1aWQubmFtZSc6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGFyci5wdXNoKHsgJHVud2luZDogJyRjdWlkJyB9KVxuICAgICAgICBhcnIucHVzaCh7ICRwcm9qZWN0OiB7IHRpZDogMSwgY3VpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgdWlkOiB7IG5hbWU6IDEsIF9pZDogMSB9LCBpc0Jlc3Q6IDEsIHN0YXR1czogMSwgY29udGVudDogMSwgY3JlYXRlZDogMSB9IH0pXG4gICAgICAgIGFyci5wdXNoKHsgJGdyb3VwOiB7IF9pZDogbnVsbCwgY291bnQ6IHsgJHN1bTogMSB9IH0gfSlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlKGFycilcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5zZWFyY2hbMF1cbiAgICAgICAgY29uc3QgZW5kID0gb3B0aW9ucy5zZWFyY2hbMV1cbiAgICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnQpLCAkbHQ6IG5ldyBEYXRlKGVuZCkgfSB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmQocXVlcnkpLmNvdW50RG9jdW1lbnRzKClcbiAgfSxcbiAgLy8gZ2V0TXNnTGlzdDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAvLyAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZShbXG4gIC8vIHtcbiAgLy8gICAkbG9va3VwOiB7XG4gIC8vICAgICBmcm9tOiAncG9zdHMnLFxuICAvLyAgICAgbGV0OiB7IHBpZDogeyAkdG9PYmplY3RJZDogJyR0aWQnIH0gfSxcbiAgLy8gICAgIHBpcGVsaW5lOiBbXG4gIC8vICAgICAgIHsgJG1hdGNoOiB7ICRleHByOiB7ICRlcTogWyckX2lkJywgJyQkcGlkJ10gfSB9IH0sXG4gIC8vICAgICAgIHsgJHByb2plY3Q6IHsgX2lkOiAxLCB1aWQ6IDEsIGNvbnRlbnQ6IDEgfSB9XG4gIC8vICAgICBdLFxuICAvLyAgICAgYXM6ICdwb3N0J1xuICAvLyAgIH1cbiAgLy8gfSxcbiAgLy8ge1xuICAvLyAgICRyZXBsYWNlUm9vdDoge1xuICAvLyAgICAgbmV3Um9vdDoge1xuICAvLyAgICAgICAkbWVyZ2VPYmplY3RzOiBbeyAkYXJyYXlFbGVtQXQ6IFsnJHBvc3QnLCAwXSB9LCAnJCRST09UJ11cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH0sXG4gIC8vIHsgJGFkZEZpZWxkczogeyB1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckdWlkJyB9IH0gfSxcbiAgLy8geyAkbG9va3VwOiB7IGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICd1c2VySWQnLCBmb3JlaWduRmllbGQ6ICdfaWQnLCBhczogJ3R1aWQnIH0gfSxcbiAgLy8geyAkdW53aW5kOiAnJHR1aWQnIH0sXG4gIC8vIHsgJGFkZEZpZWxkczogeyBmdXNlcklkOiB7ICR0b09iamVjdElkOiAnJGN1aWQnIH0gfSB9LFxuICAvLyB7ICRsb29rdXA6IHsgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ2Z1c2VySWQnLCBmb3JlaWduRmllbGQ6ICdfaWQnLCBhczogJ2Z1aWQnIH0gfSxcbiAgLy8geyAkdW53aW5kOiAnJGZ1aWQnIH0sXG4gIC8vIHsgJHByb2plY3Q6IHsgcG9zdDogMCwgdHVpZDogeyB1c2VybmFtZTogMCwgcGFzc3dvcmQ6IDAgfSwgZnVpZDogeyB1c2VybmFtZTogMCwgcGFzc3dvcmQ6IDAgfSwgdXNlcklkOiAwLCBmdXNlcklkOiAwLCB0aWQ6IDAsIGN1aWQ6IDAgfSB9LFxuICAvLyAgICAgeyAkbWF0Y2g6IHsgdWlkOiBpZCwgc3RhdHVzOiAnMScsIGlzUmVhZDogJzAnIH0gfVxuICAvLyAgIF0pXG4gIC8vICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXG4gIC8vICAgICAubGltaXQobGltaXQpXG4gIC8vICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIC8vIH1cbiAgZ2V0SG90Q29tbWVudHM6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09ICcwJykge1xuICAgICAgLy8g5oC76K+E6K666K6w5pWwIC0+IGFnZ3JlZ2F0ZeiBmuWQiOafpeivolxuICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlKFtcbiAgICAgICAgLy8g5Yy56YWNMzDlpKnlhoXnmoTor4TorrrmlbDmja5cbiAgICAgICAgeyAkbWF0Y2g6IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShtb21lbnQoKS5zdWJ0cmFjdCgzMCwgJ2RheScpKSB9IH0gfSxcbiAgICAgICAgeyAkZ3JvdXA6IHsgX2lkOiAnJGN1aWQnLCBjb3VudDogeyAkc3VtOiAxIH0gfSB9LFxuICAgICAgICB7ICRhZGRGaWVsZHM6IHsgdXNlcklkOiB7ICR0b09iamVjdElkOiAnJF9pZCcgfSB9IH0sXG4gICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAndXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH0sXG4gICAgICAgIHsgJHVud2luZDogJyRjdWlkJyB9LFxuICAgICAgICB7ICRwcm9qZWN0OiB7IGN1aWQ6IHsgbmFtZTogMSwgX2lkOiAxLCBwaWM6IDEgfSwgY291bnQ6IDEgfSB9LFxuICAgICAgICB7ICRza2lwOiBwYWdlICogbGltaXQgfSxcbiAgICAgICAgeyAkbGltaXQ6IGxpbWl0IH0sXG4gICAgICAgIHsgJHNvcnQ6IHsgY291bnQ6IC0xIH0gfVxuICAgICAgXSlcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAnMScpIHtcbiAgICAgIC8vIOacgOaWsOivhOiuulxuICAgICAgcmV0dXJuIHRoaXMuZmluZCh7fSlcbiAgICAgICAgLy8gcG9wdWxhdGVcbiAgICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiAnY3VpZCcsXG4gICAgICAgICAgc2VsZWN0OiAnbmFtZSBwaWMgX2lkJ1xuICAgICAgICB9KVxuICAgICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAgIC5saW1pdChsaW1pdClcbiAgICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxuICAgIH1cbiAgfSxcbiAgZ2V0SG90Q29tbWVudHNDb3VudDogYXN5bmMgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09PSAnMCcpIHtcbiAgICAgIC8vIOaAu+ivhOiuuuiusOaVsCAtPiBhZ2dyZWdhdGXogZrlkIjmn6Xor6JcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYWdncmVnYXRlKFtcbiAgICAgICAgLy8g5Yy56YWNMzDlpKnlhoXnmoTor4TorrrmlbDmja5cbiAgICAgICAgeyAkbWF0Y2g6IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShtb21lbnQoKS5zdWJ0cmFjdCgzMCwgJ2RheScpKSB9IH0gfSxcbiAgICAgICAgeyAkZ3JvdXA6IHsgX2lkOiAnJGN1aWQnLCBjb3VudDogeyAkc3VtOiAxIH0gfSB9LFxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICdudWxsJywgdG90YWw6IHsgJHN1bTogMSB9IH0gfVxuICAgICAgXSlcbiAgICAgIHJldHVybiByZXN1bHRbMF0udG90YWxcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAnMScpIHtcbiAgICAgIC8vIOacgOaWsOivhOiuulxuICAgICAgcmV0dXJuIHRoaXMuZmluZCh7fSkuY291bnREb2N1bWVudHMoKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBDb21tZW50cyA9IG1vbmdvb3NlLm1vZGVsKCdjb21tZW50cycsIENvbW1lbnRzU2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBDb21tZW50c1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Comments.js\n");

/***/ }),

/***/ "./src/model/CommentsHands.js":
/*!************************************!*\
  !*** ./src/model/CommentsHands.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  // 'cid': { type: String},\n  cid: {\n    type: String,\n    ref: 'comments'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByCid: function (id) {\n    return this.find({\n      cid: id\n    });\n  },\n  getHandsByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cid',\n      select: '_id content'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  }\n};\nconst CommentsHands = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments_hands', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentsHands);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHNIYW5kcy5qcz9jOTdiIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ29tbWVudHNTY2hlbWEiLCJjaWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVmIiwidWlkIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlDaWQiLCJpZCIsImZpbmQiLCJnZXRIYW5kc0J5VWlkIiwicGFnZSIsImxpbWl0IiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0Iiwic2tpcCIsInNvcnQiLCJDb21tZW50c0hhbmRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQ2hDO0VBQ0FHLEdBQUcsRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLEdBQUcsRUFBRTtFQUFyQixDQUYyQjtFQUdoQ0MsR0FBRyxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBUjtJQUFnQkMsR0FBRyxFQUFFO0VBQXJCLENBSDJCO0VBSWhDRSxPQUFPLEVBQUU7SUFBRUosSUFBSSxFQUFFSztFQUFSO0FBSnVCLENBQVgsQ0FBdkI7QUFPQVAsY0FBYyxDQUFDUSxHQUFmLENBQW1CLE1BQW5CLEVBQTJCLFVBQVVDLElBQVYsRUFBZ0I7RUFDekMsS0FBS0gsT0FBTCxHQUFlLElBQUlDLElBQUosRUFBZjtFQUNBRSxJQUFJO0FBQ0wsQ0FIRDtBQUtBVCxjQUFjLENBQUNVLElBQWYsQ0FBb0IsTUFBcEIsRUFBNEIsVUFBVUMsS0FBVixFQUFpQkMsR0FBakIsRUFBc0JILElBQXRCLEVBQTRCO0VBQ3RELElBQUlFLEtBQUssQ0FBQ0UsSUFBTixLQUFlLFlBQWYsSUFBK0JGLEtBQUssQ0FBQ0csSUFBTixLQUFlLEtBQWxELEVBQXlEO0lBQ3ZETCxJQUFJLENBQUMsSUFBSU0sS0FBSixDQUFVLGlDQUFWLENBQUQsQ0FBSjtFQUNELENBRkQsTUFFTztJQUNMTixJQUFJLENBQUNFLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FORDtBQVFBWCxjQUFjLENBQUNnQixPQUFmLEdBQXlCO0VBQ3ZCQyxTQUFTLEVBQUUsVUFBVUMsRUFBVixFQUFjO0lBQ3ZCLE9BQU8sS0FBS0MsSUFBTCxDQUFVO01BQUVsQixHQUFHLEVBQUVpQjtJQUFQLENBQVYsQ0FBUDtFQUNELENBSHNCO0VBSXZCRSxhQUFhLEVBQUUsVUFBVUYsRUFBVixFQUFjRyxJQUFkLEVBQW9CQyxLQUFwQixFQUEyQjtJQUN4QyxPQUFPLEtBQUtILElBQUwsQ0FBVTtNQUFFZCxHQUFHLEVBQUVhO0lBQVAsQ0FBVixFQUNKSyxRQURJLENBQ0s7TUFDUkMsSUFBSSxFQUFFLEtBREU7TUFFUkMsTUFBTSxFQUFFO0lBRkEsQ0FETCxFQUtKRixRQUxJLENBS0s7TUFDUkMsSUFBSSxFQUFFLEtBREU7TUFFUkMsTUFBTSxFQUFFO0lBRkEsQ0FMTCxFQVNKQyxJQVRJLENBU0NMLElBQUksR0FBR0MsS0FUUixFQVVKQSxLQVZJLENBVUVBLEtBVkYsRUFXSkssSUFYSSxDQVdDO01BQUVyQixPQUFPLEVBQUUsQ0FBQztJQUFaLENBWEQsQ0FBUDtFQVlEO0FBakJzQixDQUF6QjtBQW9CQSxNQUFNc0IsYUFBYSxHQUFHN0IseURBQVEsQ0FBQzhCLEtBQVQsQ0FBZSxnQkFBZixFQUFpQzdCLGNBQWpDLENBQXRCO0FBRWU0Qiw0RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Db21tZW50c0hhbmRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBDb21tZW50c1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAvLyAnY2lkJzogeyB0eXBlOiBTdHJpbmd9LFxuICBjaWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICdjb21tZW50cycgfSxcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9XG59KVxuXG5Db21tZW50c1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gIG5leHQoKVxufSlcblxuQ29tbWVudHNTY2hlbWEucG9zdCgnc2F2ZScsIGZ1bmN0aW9uIChlcnJvciwgZG9jLCBuZXh0KSB7XG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxuICB9IGVsc2Uge1xuICAgIG5leHQoZXJyb3IpXG4gIH1cbn0pXG5cbkNvbW1lbnRzU2NoZW1hLnN0YXRpY3MgPSB7XG4gIGZpbmRCeUNpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IGNpZDogaWQgfSlcbiAgfSxcbiAgZ2V0SGFuZHNCeVVpZDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXG4gICAgICAucG9wdWxhdGUoe1xuICAgICAgICBwYXRoOiAndWlkJyxcbiAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUnXG4gICAgICB9KVxuICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgcGF0aDogJ2NpZCcsXG4gICAgICAgIHNlbGVjdDogJ19pZCBjb250ZW50J1xuICAgICAgfSlcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcbiAgfVxufVxuXG5jb25zdCBDb21tZW50c0hhbmRzID0gbW9uZ29vc2UubW9kZWwoJ2NvbW1lbnRzX2hhbmRzJywgQ29tbWVudHNTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IENvbW1lbnRzSGFuZHNcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/CommentsHands.js\n");

/***/ }),

/***/ "./src/model/ErrorRecord.js":
/*!**********************************!*\
  !*** ./src/model/ErrorRecord.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst ErrorRecordSchema = new Schema({\n  message: {\n    type: String,\n    default: ''\n  },\n  // 错误信息\n  code: {\n    type: String,\n    default: ''\n  },\n  // response status\n  method: {\n    type: String,\n    default: ''\n  },\n  // 请求的类型\n  path: {\n    type: String,\n    default: ''\n  },\n  // 请求的路径\n  param: {\n    type: Schema.Types.Mixed,\n    default: ''\n  },\n  // 请求的参数\n  username: {\n    type: String,\n    default: ''\n  },\n  // 当前登录用户\n  stack: {\n    type: String,\n    default: ''\n  },\n  created: {\n    type: Date\n  }\n});\nErrorRecordSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst ErrorRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('error_record', ErrorRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvRXJyb3JSZWNvcmQuanM/YTgyYyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkVycm9yUmVjb3JkU2NoZW1hIiwibWVzc2FnZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiY29kZSIsIm1ldGhvZCIsInBhdGgiLCJwYXJhbSIsIlR5cGVzIiwiTWl4ZWQiLCJ1c2VybmFtZSIsInN0YWNrIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwiRXJyb3JSZWNvcmQiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyx5REFBUSxDQUFDRCxNQUF4QjtBQUVBLE1BQU1FLGlCQUFpQixHQUFHLElBQUlGLE1BQUosQ0FBVztFQUNuQ0csT0FBTyxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBRDBCO0VBQ0s7RUFDeENDLElBQUksRUFBRTtJQUFFSCxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQUY2QjtFQUVFO0VBQ3JDRSxNQUFNLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FIMkI7RUFHSTtFQUN2Q0csSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBSjZCO0VBSUU7RUFDckNJLEtBQUssRUFBRTtJQUFFTixJQUFJLEVBQUVKLE1BQU0sQ0FBQ1csS0FBUCxDQUFhQyxLQUFyQjtJQUE0Qk4sT0FBTyxFQUFFO0VBQXJDLENBTDRCO0VBS2U7RUFDbERPLFFBQVEsRUFBRTtJQUFFVCxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQU55QjtFQU1NO0VBQ3pDUSxLQUFLLEVBQUU7SUFBRVYsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FQNEI7RUFRbkNTLE9BQU8sRUFBRTtJQUFFWCxJQUFJLEVBQUVZO0VBQVI7QUFSMEIsQ0FBWCxDQUExQjtBQVdBZCxpQkFBaUIsQ0FBQ2UsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtFQUM1QyxLQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0VBQ0FFLElBQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsV0FBVyxHQUFHbEIseURBQVEsQ0FBQ21CLEtBQVQsQ0FBZSxjQUFmLEVBQStCbEIsaUJBQS9CLENBQXBCO0FBRWVpQiwwRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9FcnJvclJlY29yZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxuY29uc3QgRXJyb3JSZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbWVzc2FnZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sIC8vIOmUmeivr+S/oeaBr1xuICBjb2RlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8gcmVzcG9uc2Ugc3RhdHVzXG4gIG1ldGhvZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sIC8vIOivt+axgueahOexu+Wei1xuICBwYXRoOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8g6K+35rGC55qE6Lev5b6EXG4gIHBhcmFtOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5NaXhlZCwgZGVmYXVsdDogJycgfSwgLy8g6K+35rGC55qE5Y+C5pWwXG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8g5b2T5YmN55m75b2V55So5oi3XG4gIHN0YWNrOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH1cbn0pXG5cbkVycm9yUmVjb3JkU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuXG5jb25zdCBFcnJvclJlY29yZCA9IG1vbmdvb3NlLm1vZGVsKCdlcnJvcl9yZWNvcmQnLCBFcnJvclJlY29yZFNjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JSZWNvcmRcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/ErrorRecord.js\n");

/***/ }),

/***/ "./src/model/Links.js":
/*!****************************!*\
  !*** ./src/model/Links.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst LinksSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'link'\n  },\n  created: {\n    type: Date\n  },\n  isTop: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: ''\n  }\n});\nLinksSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('links', LinksSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTGlua3MuanM/ZTMxMiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkxpbmtzU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsImxpbmsiLCJjcmVhdGVkIiwiRGF0ZSIsImlzVG9wIiwic29ydCIsInByZSIsIm5leHQiLCJMaW5rcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztFQUM3QkcsS0FBSyxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBRHNCO0VBRTdCQyxJQUFJLEVBQUU7SUFBRUgsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FGdUI7RUFHN0JGLElBQUksRUFBRTtJQUFFQSxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQUh1QjtFQUk3QkUsT0FBTyxFQUFFO0lBQUVKLElBQUksRUFBRUs7RUFBUixDQUpvQjtFQUs3QkMsS0FBSyxFQUFFO0lBQUVOLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBTHNCO0VBTTdCSyxJQUFJLEVBQUU7SUFBRVAsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekI7QUFOdUIsQ0FBWCxDQUFwQjtBQVNBSixXQUFXLENBQUNVLEdBQVosQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBVUMsSUFBVixFQUFnQjtFQUN0QyxLQUFLTCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0VBQ0FJLElBQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsS0FBSyxHQUFHYix5REFBUSxDQUFDYyxLQUFULENBQWUsT0FBZixFQUF3QmIsV0FBeEIsQ0FBZDtBQUVlWSxvRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9MaW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IExpbmtzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIGxpbms6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHR5cGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnbGluaycgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcclxuICBpc1RvcDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgc29ydDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH1cclxufSlcclxuXHJcbkxpbmtzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuY29uc3QgTGlua3MgPSBtb25nb29zZS5tb2RlbCgnbGlua3MnLCBMaW5rc1NjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IExpbmtzXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Links.js\n");

/***/ }),

/***/ "./src/model/Menus.js":
/*!****************************!*\
  !*** ./src/model/Menus.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst MenuSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  name: {\n    type: String,\n    default: ''\n  },\n  path: {\n    type: String,\n    default: ''\n  },\n  component: {\n    type: String,\n    default: ''\n  },\n  hideInBread: {\n    type: Boolean,\n    default: false\n  },\n  hideInMenu: {\n    type: Boolean,\n    default: false\n  },\n  notCache: {\n    type: Boolean,\n    default: false\n  },\n  icon: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: 0\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  redirect: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'menu'\n  },\n  // 配合tree组件，展开对应的树形结构\n  expand: {\n    type: Boolean,\n    default: true\n  }\n});\nconst OperationSchema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: ''\n  },\n  method: {\n    type: String,\n    default: ''\n  },\n  path: {\n    type: String,\n    default: ''\n  },\n  regmark: {\n    type: String,\n    default: ''\n  }\n});\nMenuSchema.add({\n  children: [MenuSchema],\n  operations: [OperationSchema]\n});\nconst Menus = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('menus', MenuSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Menus);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTWVudXMuanM/NGNhNCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIk1lbnVTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwibmFtZSIsInBhdGgiLCJjb21wb25lbnQiLCJoaWRlSW5CcmVhZCIsIkJvb2xlYW4iLCJoaWRlSW5NZW51Iiwibm90Q2FjaGUiLCJpY29uIiwic29ydCIsImxpbmsiLCJyZWRpcmVjdCIsImV4cGFuZCIsIk9wZXJhdGlvblNjaGVtYSIsIm1ldGhvZCIsInJlZ21hcmsiLCJhZGQiLCJjaGlsZHJlbiIsIm9wZXJhdGlvbnMiLCJNZW51cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztFQUM1QkcsS0FBSyxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBRHFCO0VBRTVCQyxJQUFJLEVBQUU7SUFBRUgsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FGc0I7RUFHNUJFLElBQUksRUFBRTtJQUFFSixJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQUhzQjtFQUk1QkcsU0FBUyxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBSmlCO0VBSzVCSSxXQUFXLEVBQUU7SUFBRU4sSUFBSSxFQUFFTyxPQUFSO0lBQWlCTCxPQUFPLEVBQUU7RUFBMUIsQ0FMZTtFQU01Qk0sVUFBVSxFQUFFO0lBQUVSLElBQUksRUFBRU8sT0FBUjtJQUFpQkwsT0FBTyxFQUFFO0VBQTFCLENBTmdCO0VBTzVCTyxRQUFRLEVBQUU7SUFBRVQsSUFBSSxFQUFFTyxPQUFSO0lBQWlCTCxPQUFPLEVBQUU7RUFBMUIsQ0FQa0I7RUFRNUJRLElBQUksRUFBRTtJQUFFVixJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQVJzQjtFQVM1QlMsSUFBSSxFQUFFO0lBQUVYLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBVHNCO0VBVTVCVSxJQUFJLEVBQUU7SUFBRVosSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FWc0I7RUFXNUJXLFFBQVEsRUFBRTtJQUFFYixJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQVhrQjtFQVk1QkYsSUFBSSxFQUFFO0lBQUVBLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBWnNCO0VBYTVCO0VBQ0FZLE1BQU0sRUFBRTtJQUFFZCxJQUFJLEVBQUVPLE9BQVI7SUFBaUJMLE9BQU8sRUFBRTtFQUExQjtBQWRvQixDQUFYLENBQW5CO0FBaUJBLE1BQU1hLGVBQWUsR0FBRyxJQUFJbkIsTUFBSixDQUFXO0VBQ2pDTyxJQUFJLEVBQUU7SUFBRUgsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FEMkI7RUFFakNGLElBQUksRUFBRTtJQUFFQSxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQUYyQjtFQUdqQ2MsTUFBTSxFQUFFO0lBQUVoQixJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQUh5QjtFQUlqQ0UsSUFBSSxFQUFFO0lBQUVKLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBSjJCO0VBS2pDZSxPQUFPLEVBQUU7SUFBRWpCLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCO0FBTHdCLENBQVgsQ0FBeEI7QUFRQUosVUFBVSxDQUFDb0IsR0FBWCxDQUFlO0VBQ2JDLFFBQVEsRUFBRSxDQUFDckIsVUFBRCxDQURHO0VBRWJzQixVQUFVLEVBQUUsQ0FBQ0wsZUFBRDtBQUZDLENBQWY7QUFLQSxNQUFNTSxLQUFLLEdBQUd4Qix5REFBUSxDQUFDeUIsS0FBVCxDQUFlLE9BQWYsRUFBd0J4QixVQUF4QixDQUFkO0FBRWV1QixvRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9NZW51cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBNZW51U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHBhdGg6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBjb21wb25lbnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBoaWRlSW5CcmVhZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBoaWRlSW5NZW51OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIG5vdENhY2hlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIGljb246IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBzb3J0OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogMCB9LFxuICBsaW5rOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgcmVkaXJlY3Q6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ21lbnUnIH0sXG4gIC8vIOmFjeWQiHRyZWXnu4Tku7bvvIzlsZXlvIDlr7nlupTnmoTmoJHlvaLnu5PmnoRcbiAgZXhwYW5kOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfVxufSlcblxuY29uc3QgT3BlcmF0aW9uU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgbWV0aG9kOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgcGF0aDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHJlZ21hcms6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9XG59KVxuXG5NZW51U2NoZW1hLmFkZCh7XG4gIGNoaWxkcmVuOiBbTWVudVNjaGVtYV0sXG4gIG9wZXJhdGlvbnM6IFtPcGVyYXRpb25TY2hlbWFdXG59KVxuXG5jb25zdCBNZW51cyA9IG1vbmdvb3NlLm1vZGVsKCdtZW51cycsIE1lbnVTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IE1lbnVzXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/Menus.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: 100\n  },\n  tags: {\n    type: Array,\n    default: [// {\n      //   name: '',\n      //   class: ''\n      // }\n    ]\n  }\n});\nPostSchema.virtual('user', {\n  ref: 'users',\n  localField: 'uid',\n  foreignField: '_id'\n});\nPostSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostSchema.statics = {\n  /**\n   * 获取文章列表数据\n   * @param {Object} options 筛选条件\n   * @param {String} sort 排序方式\n   * @param {Number} page 分页页数\n   * @param {Number} limit 分页条数\n   */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      select: 'name isVip pic'\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  },\n  getTopWeek: function () {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(7, 'days')\n      }\n    }, {\n      answer: 1,\n      title: 1\n    }).sort({\n      answer: -1\n    }).limit(15);\n  },\n  findByTid: function (id) {\n    return this.findOne({\n      _id: id\n    }).populate({\n      path: 'uid',\n      select: 'name pic isVip _id'\n    });\n  },\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  },\n  getHotPost: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).skip(limit * page).limit(limit).sort({\n      answer: -1\n    });\n  },\n  getHotPostCount: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).countDocuments();\n  }\n};\nconst PostModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInZpcnR1YWwiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwicHJlIiwibmV4dCIsInN0YXRpY3MiLCJnZXRMaXN0Iiwib3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3BXZWVrIiwiJGd0ZSIsIm1vbWVudCIsInN1YnRyYWN0IiwiZmluZEJ5VGlkIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwiZ2V0TGlzdEJ5VWlkIiwiY291bnRCeVVpZCIsImdldEhvdFBvc3QiLCJzdGFydCIsImVuZCIsInF1ZXJ5IiwiJGx0IiwiZ2V0SG90UG9zdENvdW50IiwiUG9zdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQzVCRyxHQUFHLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxHQUFHLEVBQUU7RUFBckIsQ0FEdUI7RUFFNUJDLEtBQUssRUFBRTtJQUFFSCxJQUFJLEVBQUVDO0VBQVIsQ0FGcUI7RUFHNUJHLE9BQU8sRUFBRTtJQUFFSixJQUFJLEVBQUVDO0VBQVIsQ0FIbUI7RUFJNUJJLE9B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NUIsRUFBZ0M7TUFDOUJDLEtBQUssR0FBRztRQUFFNUMsT0FBTyxFQUFFO1VBQUVnQyxJQUFJLEVBQUVVLEtBQVI7VUFBZUcsR0FBRyxFQUFFRjtRQUFwQjtNQUFYLENBQVI7SUFDRDs7SUFDRCxPQUFPLEtBQUtuQixJQUFMLENBQVVvQixLQUFWLEVBQWlCZCxjQUFqQixFQUFQO0VBQ0Q7QUEvRGtCLENBQXJCO0FBa0VBLE1BQU1pQixTQUFTLEdBQUd2RCx5REFBUSxDQUFDd0QsS0FBVCxDQUFlLE1BQWYsRUFBdUJ2RCxVQUF2QixDQUFsQjtBQUVlc0Qsd0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUG9zdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxuY29uc3QgUG9zdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGNvbnRlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxuICBjYXRhbG9nOiB7IHR5cGU6IFN0cmluZyB9LFxuICBmYXY6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGlzRW5kOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXG4gIHJlYWRzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICBhbnN3ZXI6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gIHN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxuICBpc1RvcDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxuICBzb3J0OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogMTAwIH0sXG4gIHRhZ3M6IHtcbiAgICB0eXBlOiBBcnJheSxcbiAgICBkZWZhdWx0OiBbXG4gICAgICAvLyB7XG4gICAgICAvLyAgIG5hbWU6ICcnLFxuICAgICAgLy8gICBjbGFzczogJydcbiAgICAgIC8vIH1cbiAgICBdXG4gIH1cbn0pXG5cblBvc3RTY2hlbWEudmlydHVhbCgndXNlcicsIHtcbiAgcmVmOiAndXNlcnMnLFxuICBsb2NhbEZpZWxkOiAndWlkJyxcbiAgZm9yZWlnbkZpZWxkOiAnX2lkJ1xufSlcblxuUG9zdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXG4gIG5leHQoKVxufSlcblxuUG9zdFNjaGVtYS5zdGF0aWNzID0ge1xuICAvKipcbiAgICog6I635Y+W5paH56ug5YiX6KGo5pWw5o2uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOetm+mAieadoeS7tlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc29ydCDmjpLluo/mlrnlvI9cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2Ug5YiG6aG16aG15pWwXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW1pdCDliIbpobXmnaHmlbBcbiAgICovXG4gIGdldExpc3Q6IGZ1bmN0aW9uIChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucylcbiAgICAgIC5zb3J0KHsgW3NvcnRdOiAtMSB9KVxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgcGF0aDogJ3VpZCcsXG4gICAgICAgIHNlbGVjdDogJ25hbWUgaXNWaXAgcGljJ1xuICAgICAgfSlcbiAgfSxcbiAgY291bnRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucykuY291bnREb2N1bWVudHMoKVxuICB9LFxuICBnZXRUb3BXZWVrOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgICBjcmVhdGVkOiB7XG4gICAgICAgICRndGU6IG1vbWVudCgpLnN1YnRyYWN0KDcsICdkYXlzJylcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBhbnN3ZXI6IDEsXG4gICAgICB0aXRsZTogMVxuICAgIH0pLnNvcnQoeyBhbnN3ZXI6IC0xIH0pXG4gICAgICAubGltaXQoMTUpXG4gIH0sXG4gIGZpbmRCeVRpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IF9pZDogaWQgfSkucG9wdWxhdGUoe1xuICAgICAgcGF0aDogJ3VpZCcsXG4gICAgICBzZWxlY3Q6ICduYW1lIHBpYyBpc1ZpcCBfaWQnXG4gICAgfSlcbiAgfSxcbiAgZ2V0TGlzdEJ5VWlkOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IHVpZDogaWQgfSlcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcbiAgfSxcbiAgY291bnRCeVVpZDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IHVpZDogaWQgfSkuY291bnREb2N1bWVudHMoKVxuICB9LFxuICBnZXRIb3RQb3N0OiBmdW5jdGlvbiAocGFnZSwgbGltaXQsIHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgcXVlcnkgPSB7fVxuICAgIGlmIChzdGFydCAhPT0gJycgJiYgZW5kICE9PSAnJykge1xuICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogc3RhcnQsICRsdDogZW5kIH0gfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KVxuICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgLnNvcnQoeyBhbnN3ZXI6IC0xIH0pXG4gIH0sXG4gIGdldEhvdFBvc3RDb3VudDogZnVuY3Rpb24gKHBhZ2UsIGxpbWl0LCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IHF1ZXJ5ID0ge31cbiAgICBpZiAoc3RhcnQgIT09ICcnICYmIGVuZCAhPT0gJycpIHtcbiAgICAgIHF1ZXJ5ID0geyBjcmVhdGVkOiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9IH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmluZChxdWVyeSkuY291bnREb2N1bWVudHMoKVxuICB9XG59XG5cbmNvbnN0IFBvc3RNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdwb3N0JywgUG9zdFNjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgUG9zdE1vZGVsXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/PostTags.js":
/*!*******************************!*\
  !*** ./src/model/PostTags.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostTagsSchema = new Schema({\n  tagName: {\n    type: String,\n    default: ''\n  },\n  tagClass: {\n    type: String,\n    default: ''\n  }\n});\nPostTagsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostTagsSchema.statics = {\n  getList: function (options, page, limit) {\n    return this.find(options).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  }\n};\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post_tags', PostTagsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdFRhZ3MuanM/Y2ZjZiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlBvc3RUYWdzU2NoZW1hIiwidGFnTmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwidGFnQ2xhc3MiLCJwcmUiLCJuZXh0IiwiY3JlYXRlZCIsIkRhdGUiLCJzdGF0aWNzIiwiZ2V0TGlzdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInNvcnQiLCJjb3VudExpc3QiLCJjb3VudERvY3VtZW50cyIsIkxpbmtzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQ2hDRyxPQUFPLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FEdUI7RUFFaENDLFFBQVEsRUFBRTtJQUFFSCxJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QjtBQUZzQixDQUFYLENBQXZCO0FBS0FKLGNBQWMsQ0FBQ00sR0FBZixDQUFtQixNQUFuQixFQUEyQixVQUFVQyxJQUFWLEVBQWdCO0VBQ3pDLEtBQUtDLE9BQUwsR0FBZSxJQUFJQyxJQUFKLEVBQWY7RUFDQUYsSUFBSTtBQUNMLENBSEQ7QUFLQVAsY0FBYyxDQUFDVSxPQUFmLEdBQXlCO0VBQ3ZCQyxPQUFPLEVBQUUsVUFBVUMsT0FBVixFQUFtQkMsSUFBbkIsRUFBeUJDLEtBQXpCLEVBQWdDO0lBQ3ZDLE9BQU8sS0FBS0MsSUFBTCxDQUFVSCxPQUFWLEVBQ0pJLElBREksQ0FDQ0gsSUFBSSxHQUFHQyxLQURSLEVBRUpBLEtBRkksQ0FFRUEsS0FGRixFQUdKRyxJQUhJLENBR0M7TUFBRVQsT0FBTyxFQUFFLENBQUM7SUFBWixDQUhELENBQVA7RUFJRCxDQU5zQjtFQU92QlUsU0FBUyxFQUFFLFVBQVVOLE9BQVYsRUFBbUI7SUFDNUIsT0FBTyxLQUFLRyxJQUFMLENBQVVILE9BQVYsRUFBbUJPLGNBQW5CLEVBQVA7RUFDRDtBQVRzQixDQUF6QjtBQVlBLE1BQU1DLEtBQUssR0FBR3JCLHlEQUFRLENBQUNzQixLQUFULENBQWUsV0FBZixFQUE0QnJCLGNBQTVCLENBQWQ7QUFFZW9CLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3RUYWdzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFBvc3RUYWdzU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRhZ05hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICB0YWdDbGFzczogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH1cbn0pXG5cblBvc3RUYWdzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuXG5Qb3N0VGFnc1NjaGVtYS5zdGF0aWNzID0ge1xuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIH0sXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcbiAgfVxufVxuXG5jb25zdCBMaW5rcyA9IG1vbmdvb3NlLm1vZGVsKCdwb3N0X3RhZ3MnLCBQb3N0VGFnc1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgTGlua3NcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/PostTags.js\n");

/***/ }),

/***/ "./src/model/Roles.js":
/*!****************************!*\
  !*** ./src/model/Roles.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst RolesSchema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  role: {\n    type: String,\n    default: ''\n  },\n  desc: {\n    type: String,\n    default: ''\n  },\n  menu: {\n    type: Array,\n    default: []\n  }\n});\nconst Roles = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('roles', RolesSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Roles);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUm9sZXMuanM/NTFjYiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlJvbGVzU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0Iiwicm9sZSIsImRlc2MiLCJtZW51IiwiQXJyYXkiLCJSb2xlcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztFQUM3QkcsSUFBSSxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsT0FBTyxFQUFFO0VBQXpCLENBRHVCO0VBRTdCQyxJQUFJLEVBQUU7SUFBRUgsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxPQUFPLEVBQUU7RUFBekIsQ0FGdUI7RUFHN0JFLElBQUksRUFBRTtJQUFFSixJQUFJLEVBQUVDLE1BQVI7SUFBZ0JDLE9BQU8sRUFBRTtFQUF6QixDQUh1QjtFQUk3QkcsSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRU0sS0FBUjtJQUFlSixPQUFPLEVBQUU7RUFBeEI7QUFKdUIsQ0FBWCxDQUFwQjtBQU9BLE1BQU1LLEtBQUssR0FBR1YseURBQVEsQ0FBQ1csS0FBVCxDQUFlLE9BQWYsRUFBd0JWLFdBQXhCLENBQWQ7QUFFZVMsb0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUm9sZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnQC9jb25maWcvREJIZWxwbGVyJ1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxuY29uc3QgUm9sZXNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHJvbGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBkZXNjOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgbWVudTogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogW10gfVxufSlcblxuY29uc3QgUm9sZXMgPSBtb25nb29zZS5tb2RlbCgncm9sZXMnLCBSb2xlc1NjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgUm9sZXNcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Roles.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  },\n  lastSign: {\n    type: Date\n  }\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  },\n  getLatestSign: function (page, limit) {\n    return this.find({}).populate({\n      path: 'uid',\n      select: '_id name pic'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  getTopSign: function (page, limit) {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD 00:00:00')\n      }\n    }).populate({\n      path: 'uid',\n      select: '_id name pic'\n    }).skip(page * limit).limit(limit).sort({\n      created: 1\n    });\n  },\n  getSignCount: function () {\n    return this.find({}).countDocuments();\n  },\n  getTopSignCount: function () {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD 00:00:00')\n      }\n    }).countDocuments();\n  }\n};\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJsYXN0U2lnbiIsInByZSIsIm5leHQiLCJzdGF0aWNzIiwiZmluZEJ5VWlkIiwiZmluZE9uZSIsInNvcnQiLCJnZXRMYXRlc3RTaWduIiwicGFnZSIsImxpbWl0IiwiZmluZCIsInBvcHVsYXRlIiwicGF0aCIsInNlbGVjdCIsInNraXAiLCJnZXRUb3BTaWduIiwiJGd0ZSIsIm1vbWVudCIsImZvcm1hdCIsImdldFNpZ25Db3VudCIsImNvdW50RG9jdW1lbnRzIiwiZ2V0VG9wU2lnbkNvdW50IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0VBQ2xDRyxHQUFHLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFSO0lBQWdCQyxHQUFHLEVBQUU7RUFBckIsQ0FENkI7RUFFbENDLE9BQU8sRUFBRTtJQUFFSCxJQUFJLEVBQUVJO0VBQVIsQ0FGeUI7RUFHbENDLElBQUksRUFBRTtJQUFFTCxJQUFJLEVBQUVNO0VBQVIsQ0FINEI7RUFJbENDLFFBQVEsRUFBRTtJQUFFUCxJQUFJLEVBQUVJO0VBQVI7QUFKd0IsQ0FBWCxDQUF6QjtBQU9BTixnQkFBZ0IsQ0FBQ1UsR0FBakIsQ0FBcUIsTUFBckIsRUFBNkIsVUFBVUMsSUFBVixFQUFnQjtFQUMzQyxLQUFLTixPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0VBQ0FLLElBQUk7QUFDTCxDQUhEO0FBS0FYLGdCQUFnQixDQUFDWSxPQUFqQixHQUEyQjtFQUN6QkMsU0FBUyxFQUFFLFVBQVVaLEdBQVYsRUFBZTtJQUN4QixPQUFPLEtBQUthLE9BQUwsQ0FBYTtNQUFFYixHQUFHLEVBQUVBO0lBQVAsQ0FBYixFQUEyQmMsSUFBM0IsQ0FBZ0M7TUFBRVYsT0FBTyxFQUFFLENBQUM7SUFBWixDQUFoQyxDQUFQO0VBQ0QsQ0FId0I7RUFJekJXLGFBQWEsRUFBRSxVQUFVQyxJQUFWLEVBQWdCQyxLQUFoQixFQUF1QjtJQUNwQyxPQUFPLEtBQUtDLElBQUwsQ0FBVSxFQUFWLEVBQ0pDLFFBREksQ0FDSztNQUNSQyxJQUFJLEVBQUUsS0FERTtNQUVSQyxNQUFNLEVBQUU7SUFGQSxDQURMLEVBS0pDLElBTEksQ0FLQ04sSUFBSSxHQUFHQyxLQUxSLEVBTUpBLEtBTkksQ0FNRUEsS0FORixFQU9KSCxJQVBJLENBT0M7TUFBRVYsT0FBTyxFQUFFLENBQUM7SUFBWixDQVBELENBQVA7RUFRRCxDQWJ3QjtFQWN6Qm1CLFVBQVUsRUFBRSxVQUFVUCxJQUFWLEVBQWdCQyxLQUFoQixFQUF1QjtJQUNqQyxPQUFPLEtBQUtDLElBQUwsQ0FBVTtNQUNmZCxPQUFPLEVBQUU7UUFBRW9CLElBQUksRUFBRUMsNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEI7TUFBUjtJQURNLENBQVYsRUFFSlAsUUFGSSxDQUVLO01BQ1ZDLElBQUksRUFBRSxLQURJO01BRVZDLE1BQU0sRUFBRTtJQUZFLENBRkwsRUFNSkMsSUFOSSxDQU1DTixJQUFJLEdBQUdDLEtBTlIsRUFPSkEsS0FQSSxDQU9FQSxLQVBGLEVBUUpILElBUkksQ0FRQztNQUFFVixPQUFPLEVBQUU7SUFBWCxDQVJELENBQVA7RUFTRCxDQXhCd0I7RUF5QnpCdUIsWUFBWSxFQUFFLFlBQVk7SUFDeEIsT0FBTyxLQUFLVCxJQUFMLENBQVUsRUFBVixFQUFjVSxjQUFkLEVBQVA7RUFDRCxDQTNCd0I7RUE0QnpCQyxlQUFlLEVBQUUsWUFBWTtJQUMzQixPQUFPLEtBQUtYLElBQUwsQ0FBVTtNQUNmZCxPQUFPLEVBQUU7UUFBRW9CLElBQUksRUFBRUMsNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEI7TUFBUjtJQURNLENBQVYsRUFFSkUsY0FGSSxFQUFQO0VBR0Q7QUFoQ3dCLENBQTNCO0FBbUNBLE1BQU1FLFVBQVUsR0FBR2hDLHlEQUFRLENBQUNpQyxLQUFULENBQWUsYUFBZixFQUE4QmhDLGdCQUE5QixDQUFuQjtBQUVlK0IseUVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBTaWduUmVjb3JkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgZmF2czogeyB0eXBlOiBOdW1iZXIgfSxcclxuICBsYXN0U2lnbjogeyB0eXBlOiBEYXRlIH1cclxufSlcclxuXHJcblNpZ25SZWNvcmRTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5TaWduUmVjb3JkU2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgZmluZEJ5VWlkOiBmdW5jdGlvbiAodWlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgdWlkOiB1aWQgfSkuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICBnZXRMYXRlc3RTaWduOiBmdW5jdGlvbiAocGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoe30pXHJcbiAgICAgIC5wb3B1bGF0ZSh7XHJcbiAgICAgICAgcGF0aDogJ3VpZCcsXHJcbiAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUgcGljJ1xyXG4gICAgICB9KVxyXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gIH0sXHJcbiAgZ2V0VG9wU2lnbjogZnVuY3Rpb24gKHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHtcclxuICAgICAgY3JlYXRlZDogeyAkZ3RlOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgMDA6MDA6MDAnKSB9XHJcbiAgICB9KS5wb3B1bGF0ZSh7XHJcbiAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICBzZWxlY3Q6ICdfaWQgbmFtZSBwaWMnXHJcbiAgICB9KVxyXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkOiAxIH0pXHJcbiAgfSxcclxuICBnZXRTaWduQ291bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoe30pLmNvdW50RG9jdW1lbnRzKClcclxuICB9LFxyXG4gIGdldFRvcFNpZ25Db3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZCh7XHJcbiAgICAgIGNyZWF0ZWQ6IHsgJGd0ZTogbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIDAwOjAwOjAwJykgfVxyXG4gICAgfSkuY291bnREb2N1bWVudHMoKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgU2lnblJlY29yZCA9IG1vbmdvb3NlLm1vZGVsKCdzaWduX3JlY29yZCcsIFNpZ25SZWNvcmRTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWduUmVjb3JkXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/User.js":
/*!***************************!*\
  !*** ./src/model/User.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    index: {\n      unique: true\n    },\n    sparse: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  updated: {\n    type: Date\n  },\n  favs: {\n    type: Number,\n    default: 100\n  },\n  gender: {\n    type: String,\n    default: ''\n  },\n  roles: {\n    type: Array,\n    default: ['user']\n  },\n  pic: {\n    type: String,\n    default: '/img/header.jpg'\n  },\n  mobile: {\n    type: String,\n    match: /^1[3-9](\\d{9})$/,\n    default: ''\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  regmark: {\n    type: String,\n    default: ''\n  },\n  location: {\n    type: String,\n    default: ''\n  },\n  isVip: {\n    type: String,\n    default: '0'\n  },\n  count: {\n    type: Number,\n    default: 0\n  }\n});\nUserSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nUserSchema.pre('update', function (next) {\n  this.updated = new Date();\n  next();\n});\nUserSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error: Monngoose has a duplicate key.'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.statics = {\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  },\n  getList: function (options, sort, page, limit) {\n    // 1. datepicker -> item: string, search -> array  startitme,endtime\n    // 2. radio -> key-value $in\n    // 3. select -> key-array $in\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        if (['name', 'username'].includes(options.item)) {\n          // 模糊匹配\n          query[options.item] = {\n            $regex: new RegExp(options.search)\n          }; // =》 { name: { $regex: /admin/ } } => mysql like %admin%\n        } else {\n          // radio\n          query[options.item] = options.search;\n        }\n      }\n\n      if (options.item === 'roles') {\n        query = {\n          roles: {\n            $in: options.search\n          }\n        };\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n    }\n\n    return this.find(query, {\n      password: 0,\n      mobile: 0\n    }).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit);\n  },\n  countList: function (options) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        if (['name', 'username'].includes(options.item)) {\n          // 模糊匹配\n          query[options.item] = {\n            $regex: new RegExp(options.search)\n          }; // =》 { name: { $regex: /admin/ } } => mysql like %admin%\n        } else {\n          // radio\n          query[options.item] = options.search;\n        }\n      }\n\n      if (options.item === 'roles') {\n        query = {\n          roles: {\n            $in: options.search\n          }\n        };\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n    }\n\n    return this.find(query).countDocuments();\n  },\n  getTotalSign: function (page, limit) {\n    return this.find({}).skip(page * limit).limit(limit).sort({\n      count: -1\n    });\n  },\n  getTotalSignCount: function (page, limit) {\n    return this.find({}).countDocuments();\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlci5qcz83NmZlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsImluZGV4IiwidW5pcXVlIiwic3BhcnNlIiwicGFzc3dvcmQiLCJuYW1lIiwiY3JlYXRlZCIsIkRhdGUiLCJ1cGRhdGVkIiwiZmF2cyIsIk51bWJlciIsImRlZmF1bHQiLCJnZW5kZXIiLCJyb2xlcyIsIkFycmF5IiwicGljIiwibW9iaWxlIiwibWF0Y2giLCJzdGF0dXMiLCJyZWdtYXJrIiwibG9jYXRpb24iLCJpc1ZpcCIsImNvdW50IiwicHJlIiwibmV4dCIsInBvc3QiLCJlcnJvciIsImRvYyIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlJRCIsImlkIiwiZmluZE9uZSIsIl9pZCIsImdldExpc3QiLCJvcHRpb25zIiwic29ydCIsInBhZ2UiLCJsaW1pdCIsInF1ZXJ5Iiwic2VhcmNoIiwidHJpbSIsImluY2x1ZGVzIiwiaXRlbSIsIiRyZWdleCIsIlJlZ0V4cCIsIiRpbiIsInN0YXJ0IiwiZW5kIiwiJGd0ZSIsIiRsdCIsImZpbmQiLCJza2lwIiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3RhbFNpZ24iLCJnZXRUb3RhbFNpZ25Db3VudCIsIlVzZXJNb2RlbCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztFQUM1QkcsUUFBUSxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBUjtJQUFnQkMsS0FBSyxFQUFFO01BQUVDLE1BQU0sRUFBRTtJQUFWLENBQXZCO0lBQXlDQyxNQUFNLEVBQUU7RUFBakQsQ0FEa0I7RUFFNUJDLFFBQVEsRUFBRTtJQUFFTCxJQUFJLEVBQUVDO0VB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QyxPQUFPLEVBQUU7WUFBRTRDLElBQUksRUFBRSxJQUFJM0MsSUFBSixDQUFTeUMsS0FBVCxDQUFSO1lBQXlCRyxHQUFHLEVBQUUsSUFBSTVDLElBQUosQ0FBUzBDLEdBQVQ7VUFBOUI7UUFBWCxDQUFSO01BQ0Q7SUFDRjs7SUFDRCxPQUFPLEtBQUtHLElBQUwsQ0FBVVosS0FBVixFQUFpQmUsY0FBakIsRUFBUDtFQUNELENBaEVrQjtFQWlFbkJDLFlBQVksRUFBRSxVQUFVbEIsSUFBVixFQUFnQkMsS0FBaEIsRUFBdUI7SUFDbkMsT0FBTyxLQUFLYSxJQUFMLENBQVUsRUFBVixFQUNKQyxJQURJLENBQ0NmLElBQUksR0FBR0MsS0FEUixFQUVKQSxLQUZJLENBRUVBLEtBRkYsRUFHSkYsSUFISSxDQUdDO01BQUVmLEtBQUssRUFBRSxDQUFDO0lBQVYsQ0FIRCxDQUFQO0VBSUQsQ0F0RWtCO0VBdUVuQm1DLGlCQUFpQixFQUFFLFVBQVVuQixJQUFWLEVBQWdCQyxLQUFoQixFQUF1QjtJQUN4QyxPQUFPLEtBQUthLElBQUwsQ0FBVSxFQUFWLEVBQWNHLGNBQWQsRUFBUDtFQUNEO0FBekVrQixDQUFyQjtBQTRFQSxNQUFNRyxTQUFTLEdBQUc5RCx5REFBUSxDQUFDK0QsS0FBVCxDQUFlLE9BQWYsRUFBd0I5RCxVQUF4QixDQUFsQjtBQUVlNkQsd0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgaW5kZXg6IHsgdW5pcXVlOiB0cnVlIH0sIHNwYXJzZTogdHJ1ZSB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXG4gIHVwZGF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxuICBmYXZzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMTAwIH0sXG4gIGdlbmRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHJvbGVzOiB7IHR5cGU6IEFycmF5LCBkZWZhdWx0OiBbJ3VzZXInXSB9LFxuICBwaWM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnL2ltZy9oZWFkZXIuanBnJyB9LFxuICBtb2JpbGU6IHsgdHlwZTogU3RyaW5nLCBtYXRjaDogL14xWzMtOV0oXFxkezl9KSQvLCBkZWZhdWx0OiAnJyB9LFxuICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcbiAgcmVnbWFyazogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxvY2F0aW9uOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgaXNWaXA6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcbiAgY291bnQ6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH1cbn0pXG5cblVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxuICBuZXh0KClcbn0pXG5cblVzZXJTY2hlbWEucHJlKCd1cGRhdGUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLnVwZGF0ZWQgPSBuZXcgRGF0ZSgpXG4gIG5leHQoKVxufSlcblxuVXNlclNjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcbiAgaWYgKGVycm9yLm5hbWUgPT09ICdNb25nb0Vycm9yJyAmJiBlcnJvci5jb2RlID09PSAxMTAwMCkge1xuICAgIG5leHQobmV3IEVycm9yKCdFcnJvcjogTW9ubmdvb3NlIGhhcyBhIGR1cGxpY2F0ZSBrZXkuJykpXG4gIH0gZWxzZSB7XG4gICAgbmV4dChlcnJvcilcbiAgfVxufSlcblxuVXNlclNjaGVtYS5zdGF0aWNzID0ge1xuICBmaW5kQnlJRDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZShcbiAgICAgIHsgX2lkOiBpZCB9LFxuICAgICAge1xuICAgICAgICBwYXNzd29yZDogMCxcbiAgICAgICAgdXNlcm5hbWU6IDAsXG4gICAgICAgIG1vYmlsZTogMFxuICAgICAgfVxuICAgIClcbiAgfSxcbiAgZ2V0TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMsIHNvcnQsIHBhZ2UsIGxpbWl0KSB7XG4gICAgLy8gMS4gZGF0ZXBpY2tlciAtPiBpdGVtOiBzdHJpbmcsIHNlYXJjaCAtPiBhcnJheSAgc3RhcnRpdG1lLGVuZHRpbWVcbiAgICAvLyAyLiByYWRpbyAtPiBrZXktdmFsdWUgJGluXG4gICAgLy8gMy4gc2VsZWN0IC0+IGtleS1hcnJheSAkaW5cbiAgICBsZXQgcXVlcnkgPSB7fVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zZWFyY2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIGlmIChbJ25hbWUnLCAndXNlcm5hbWUnXS5pbmNsdWRlcyhvcHRpb25zLml0ZW0pKSB7XG4gICAgICAgICAgLy8g5qih57OK5Yy56YWNXG4gICAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKG9wdGlvbnMuc2VhcmNoKSB9XG4gICAgICAgICAgLy8gPeOAiyB7IG5hbWU6IHsgJHJlZ2V4OiAvYWRtaW4vIH0gfSA9PiBteXNxbCBsaWtlICVhZG1pbiVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByYWRpb1xuICAgICAgICAgIHF1ZXJ5W29wdGlvbnMuaXRlbV0gPSBvcHRpb25zLnNlYXJjaFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAncm9sZXMnKSB7XG4gICAgICAgIHF1ZXJ5ID0geyByb2xlczogeyAkaW46IG9wdGlvbnMuc2VhcmNoIH0gfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5zZWFyY2hbMF1cbiAgICAgICAgY29uc3QgZW5kID0gb3B0aW9ucy5zZWFyY2hbMV1cbiAgICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnQpLCAkbHQ6IG5ldyBEYXRlKGVuZCkgfSB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmQocXVlcnksIHsgcGFzc3dvcmQ6IDAsIG1vYmlsZTogMCB9KVxuICAgICAgLnNvcnQoeyBbc29ydF06IC0xIH0pXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gIH0sXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBsZXQgcXVlcnkgPSB7fVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zZWFyY2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIGlmIChbJ25hbWUnLCAndXNlcm5hbWUnXS5pbmNsdWRlcyhvcHRpb25zLml0ZW0pKSB7XG4gICAgICAgICAgLy8g5qih57OK5Yy56YWNXG4gICAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKG9wdGlvbnMuc2VhcmNoKSB9XG4gICAgICAgICAgLy8gPeOAiyB7IG5hbWU6IHsgJHJlZ2V4OiAvYWRtaW4vIH0gfSA9PiBteXNxbCBsaWtlICVhZG1pbiVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByYWRpb1xuICAgICAgICAgIHF1ZXJ5W29wdGlvbnMuaXRlbV0gPSBvcHRpb25zLnNlYXJjaFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAncm9sZXMnKSB7XG4gICAgICAgIHF1ZXJ5ID0geyByb2xlczogeyAkaW46IG9wdGlvbnMuc2VhcmNoIH0gfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5zZWFyY2hbMF1cbiAgICAgICAgY29uc3QgZW5kID0gb3B0aW9ucy5zZWFyY2hbMV1cbiAgICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnQpLCAkbHQ6IG5ldyBEYXRlKGVuZCkgfSB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmQocXVlcnkpLmNvdW50RG9jdW1lbnRzKClcbiAgfSxcbiAgZ2V0VG90YWxTaWduOiBmdW5jdGlvbiAocGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHt9KVxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgLnNvcnQoeyBjb3VudDogLTEgfSlcbiAgfSxcbiAgZ2V0VG90YWxTaWduQ291bnQ6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoe30pLmNvdW50RG9jdW1lbnRzKClcbiAgfVxufVxuXG5jb25zdCBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgndXNlcnMnLCBVc2VyU2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyTW9kZWxcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/User.js\n");

/***/ }),

/***/ "./src/model/UserCollect.js":
/*!**********************************!*\
  !*** ./src/model/UserCollect.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserCollectSchema = new Schema({\n  uid: {\n    type: String\n  },\n  tid: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nUserCollectSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nUserCollectSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nUserCollectSchema.statics = {\n  // 查询特定用户的收藏数据\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 查询总数\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst UserCollect = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('user_collect', UserCollectSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCollect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanM/ODE5OCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb29nb29zZSIsIlVzZXJDb2xsZWN0U2NoZW1hIiwidWlkIiwidHlwZSIsIlN0cmluZyIsInRpZCIsInRpdGxlIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJnZXRMaXN0QnlVaWQiLCJpZCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNvdW50QnlVaWQiLCJjb3VudERvY3VtZW50cyIsIlVzZXJDb2xsZWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxpQkFBaUIsR0FBRyxJQUFJRixNQUFKLENBQVc7RUFDbkNHLEdBQUcsRUFBRTtJQUFFQyxJQUFJLEVBQUVDO0VBQVIsQ0FEOEI7RUFFbkNDLEdBQUcsRUFBRTtJQUFFRixJQUFJLEVBQUVDO0VBQVIsQ0FGOEI7RUFHbkNFLEtBQUssRUFBRTtJQUFFSCxJQUFJLEVBQUVDO0VBQVIsQ0FINEI7RUFJbkNHLE9BQU8sRUFBRTtJQUFFSixJQUFJLEVBQUVLO0VBQVI7QUFKMEIsQ0FBWCxDQUExQjtBQU9BUCxpQkFBaUIsQ0FBQ1EsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtFQUM1QyxLQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0VBQ0FFLElBQUk7QUFDTCxDQUhEO0FBS0FULGlCQUFpQixDQUFDVSxJQUFsQixDQUF1QixNQUF2QixFQUErQixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkgsSUFBdEIsRUFBNEI7RUFDekQsSUFBSUUsS0FBSyxDQUFDRSxJQUFOLEtBQWUsWUFBZixJQUErQkYsS0FBSyxDQUFDRyxJQUFOLEtBQWUsS0FBbEQsRUFBeUQ7SUFDdkRMLElBQUksQ0FBQyxJQUFJTSxLQUFKLENBQVUsaUNBQVYsQ0FBRCxDQUFKO0VBQ0QsQ0FGRCxNQUVPO0lBQ0xOLElBQUksQ0FBQ0UsS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQU5EO0FBUUFYLGlCQUFpQixDQUFDZ0IsT0FBbEIsR0FBNEI7RUFDMUI7RUFDQUMsWUFBWSxFQUFFLFVBQVVDLEVBQVYsRUFBY0MsSUFBZCxFQUFvQkMsS0FBcEIsRUFBMkI7SUFDdkMsT0FBTyxLQUFLQyxJQUFMLENBQVU7TUFBRXBCLEdBQUcsRUFBRWlCO0lBQVAsQ0FBVixFQUNKSSxJQURJLENBQ0NGLEtBQUssR0FBR0QsSUFEVCxFQUVKQyxLQUZJLENBRUVBLEtBRkYsRUFHSkcsSUFISSxDQUdDO01BQUVqQixPQUFPLEVBQUUsQ0FBQztJQUFaLENBSEQsQ0FBUDtFQUlELENBUHlCO0VBUTFCO0VBQ0FrQixVQUFVLEVBQUUsVUFBVU4sRUFBVixFQUFjO0lBQ3hCLE9BQU8sS0FBS0csSUFBTCxDQUFVO01BQUVwQixHQUFHLEVBQUVpQjtJQUFQLENBQVYsRUFBdUJPLGNBQXZCLEVBQVA7RUFDRDtBQVh5QixDQUE1QjtBQWNBLE1BQU1DLFdBQVcsR0FBRzNCLHlEQUFRLENBQUM0QixLQUFULENBQWUsY0FBZixFQUErQjNCLGlCQUEvQixDQUFwQjtBQUVlMEIsMEVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcblxuY29uc3QgU2NoZW1hID0gbW9vZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFVzZXJDb2xsZWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVpZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgdGlkOiB7IHR5cGU6IFN0cmluZyB9LFxuICB0aXRsZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH1cbn0pXG5cblVzZXJDb2xsZWN0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuXG5Vc2VyQ29sbGVjdFNjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcbiAgaWYgKGVycm9yLm5hbWUgPT09ICdNb25nb0Vycm9yJyAmJiBlcnJvci5jb2RlID09PSAxMTAwMCkge1xuICAgIG5leHQobmV3IEVycm9yKCdUaGVyZSB3YXMgYSBkdXBsaWNhdGUga2V5IGVycm9yJykpXG4gIH0gZWxzZSB7XG4gICAgbmV4dChlcnJvcilcbiAgfVxufSlcblxuVXNlckNvbGxlY3RTY2hlbWEuc3RhdGljcyA9IHtcbiAgLy8g5p+l6K+i54m55a6a55So5oi355qE5pS26JeP5pWw5o2uXG4gIGdldExpc3RCeVVpZDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXG4gICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXG4gIH0sXG4gIC8vIOafpeivouaAu+aVsFxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdWlkOiBpZCB9KS5jb3VudERvY3VtZW50cygpXG4gIH1cbn1cblxuY29uc3QgVXNlckNvbGxlY3QgPSBtb29nb29zZS5tb2RlbCgndXNlcl9jb2xsZWN0JywgVXNlckNvbGxlY3RTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJDb2xsZWN0XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/UserCollect.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./adminRouter.js\": \"./src/routes/modules/adminRouter.js\",\n\t\"./commentsRouter.js\": \"./src/routes/modules/commentsRouter.js\",\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./loginRouter.js\": \"./src/routes/modules/loginRouter.js\",\n\t\"./publicRouter.js\": \"./src/routes/modules/publicRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyByZWN1cnNpdmUgXFwuanMkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL2FkbWluUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanNcIixcblx0XCIuL2NvbW1lbnRzUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanNcIixcblx0XCIuL2NvbnRlbnRSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb250ZW50Um91dGVyLmpzXCIsXG5cdFwiLi9sb2dpblJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL2xvZ2luUm91dGVyLmpzXCIsXG5cdFwiLi9wdWJsaWNSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9wdWJsaWNSb3V0ZXIuanNcIixcblx0XCIuL3VzZXJSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy91c2VyUm91dGVyLmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzIHN5bmMgcmVjdXJzaXZlIFxcXFwuanMkXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/adminRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/adminRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/AdminController */ \"./src/api/AdminController.js\");\n/* harmony import */ var _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/api/ErrorController */ \"./src/api/ErrorController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/admin'); // 标签页面\n// 获取标签列表\n\nrouter.get('/getTags', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getTags); // 添加标签\n\nrouter.post('/addTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addTag); // 删除标签\n\nrouter.get('/removeTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeTag); // 编辑标签\n\nrouter.post('/editTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateTag); // 用户管理\n// 查询所有用户\n\nrouter.get('/users', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUsers); // 删除\n\nrouter.post('/deleteUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteUserById); // 更新特定用户\n\nrouter.post('/updateUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserById);\nrouter.post('/updateUserSettings', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserBatch); // 添加用户\n\nrouter.post('/addUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addUser); // 校验用户名是否冲突\n\nrouter.get('/checkname', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].checkUsername); // 添加菜单\n\nrouter.post('/addMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addMenu); // 获取菜单\n\nrouter.get('/getMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMenu); // 删除菜单\n\nrouter.post('/deleteMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteMenu); // 更新菜单\n\nrouter.post('/updateMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateMenu); // 添加角色\n\nrouter.post('/addRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addRole); // 获取角色\n\nrouter.get('/getRoles', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoles); // 删除角色\n\nrouter.post('/deleteRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteRole); // 更新角色\n\nrouter.post('/updateRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateRole); // 获取评论\n\nrouter.get('/getComments', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getCommentsAll); // 删除评论\n\nrouter.post('/deleteComments', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteCommentsBatch); // 批量更新评论\n\nrouter.post('/updateCommentsBatch', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateCommentsBatch); // 获取角色列表\n\nrouter.get('/getRolesNames', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoleNames); // 获取用户 -> 角色 -> 动态菜单信息\n\nrouter.get('/getRoutes', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoutes); // 获取统计数据\n\nrouter.get('/getstat', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getStats); // 获取错误日志\n\nrouter.get('/getError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getErrorList); // 删除错误日志\n\nrouter.post('/deleteError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteError); // router.get('/getOperations', adminController.getOperations)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanM/ZDY0OSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJnZXQiLCJjb250ZW50Q29udHJvbGxlciIsImdldFRhZ3MiLCJwb3N0IiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwidXBkYXRlVGFnIiwidXNlckNvbnRyb2xsZXIiLCJnZXRVc2VycyIsImRlbGV0ZVVzZXJCeUlkIiwidXBkYXRlVXNlckJ5SWQiLCJ1cGRhdGVVc2VyQmF0Y2giLCJhZGRVc2VyIiwiY2hlY2tVc2VybmFtZSIsImFkbWluQ29udHJvbGxlciIsImFkZE1lbnUiLCJnZXRNZW51IiwiZGVsZXRlTWVudSIsInVwZGF0ZU1lbnUiLCJhZGRSb2xlIiwiZ2V0Um9sZXMiLCJkZWxldGVSb2xlIiwidXBkYXRlUm9sZSIsImdldENvbW1lbnRzQWxsIiwiZGVsZXRlQ29tbWVudHNCYXRjaCIsInVwZGF0ZUNvbW1lbnRzQmF0Y2giLCJnZXRSb2xlTmFtZXMiLCJnZXRSb3V0ZXMiLCJnZXRTdGF0cyIsImVycm9yQ29udHJvbGxlciIsImdldEVycm9yTGlzdCIsImRlbGV0ZUVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxRQUFkLEUsQ0FFQTtBQUNBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxVQUFYLEVBQXVCQyw4REFBaUIsQ0FBQ0MsT0FBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLElBQVAsQ0FBWSxTQUFaLEVBQXVCRiw4REFBaUIsQ0FBQ0csTUFBekMsRSxDQUVBOztBQUNBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxZQUFYLEVBQXlCQyw4REFBaUIsQ0FBQ0ksU0FBM0MsRSxDQUVBOztBQUNBUixNQUFNLENBQUNNLElBQVAsQ0FBWSxVQUFaLEVBQXdCRiw4REFBaUIsQ0FBQ0ssU0FBMUMsRSxDQUVBO0FBQ0E7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJPLDJEQUFjLENBQUNDLFFBQXBDLEUsQ0FFQTs7QUFDQVgsTUFBTSxDQUFDTSxJQUFQLENBQVksYUFBWixFQUEyQkksMkRBQWMsQ0FBQ0UsY0FBMUMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNNLElBQVAsQ0FBWSxhQUFaLEVBQTJCSSwyREFBYyxDQUFDRyxjQUExQztBQUVBYixNQUFNLENBQUNNLElBQVAsQ0FBWSxxQkFBWixFQUFtQ0ksMkRBQWMsQ0FBQ0ksZUFBbEQsRSxDQUVBOztBQUNBZCxNQUFNLENBQUNNLElBQVAsQ0FBWSxVQUFaLEVBQXdCSSwyREFBYyxDQUFDSyxPQUF2QyxFLENBRUE7O0FBQ0FmLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJPLDJEQUFjLENBQUNNLGFBQXhDLEUsQ0FFQTs7QUFDQWhCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JXLDREQUFlLENBQUNDLE9BQXhDLEUsQ0FFQTs7QUFDQWxCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJjLDREQUFlLENBQUNFLE9BQXZDLEUsQ0FFQTs7QUFDQW5CLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNHLFVBQTNDLEUsQ0FFQTs7QUFDQXBCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNJLFVBQTNDLEUsQ0FFQTs7QUFDQXJCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JXLDREQUFlLENBQUNLLE9BQXhDLEUsQ0FFQTs7QUFDQXRCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBd0JjLDREQUFlLENBQUNNLFFBQXhDLEUsQ0FFQTs7QUFDQXZCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNPLFVBQTNDLEUsQ0FFQTs7QUFDQXhCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJXLDREQUFlLENBQUNRLFVBQTNDLEUsQ0FFQTs7QUFDQXpCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJjLDREQUFlLENBQUNTLGNBQTNDLEUsQ0FFQTs7QUFDQTFCLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGlCQUFaLEVBQStCVyw0REFBZSxDQUFDVSxtQkFBL0MsRSxDQUVBOztBQUNBM0IsTUFBTSxDQUFDTSxJQUFQLENBQVksc0JBQVosRUFBb0NXLDREQUFlLENBQUNXLG1CQUFwRCxFLENBRUE7O0FBQ0E1QixNQUFNLENBQUNHLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QmMsNERBQWUsQ0FBQ1ksWUFBN0MsRSxDQUVBOztBQUNBN0IsTUFBTSxDQUFDRyxHQUFQLENBQVcsWUFBWCxFQUF5QmMsNERBQWUsQ0FBQ2EsU0FBekMsRSxDQUVBOztBQUNBOUIsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QmMsNERBQWUsQ0FBQ2MsUUFBdkMsRSxDQUVBOztBQUNBL0IsTUFBTSxDQUFDRyxHQUFQLENBQVcsV0FBWCxFQUF3QjZCLDREQUFlLENBQUNDLFlBQXhDLEUsQ0FFQTs7QUFDQWpDLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGNBQVosRUFBNEIwQiw0REFBZSxDQUFDRSxXQUE1QyxFLENBRUE7O0FBRWVsQyxxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9hZG1pblJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICdAL2FwaS9Db250ZW50Q29udHJvbGxlcidcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICdAL2FwaS9Vc2VyQ29udHJvbGxlcidcbmltcG9ydCBhZG1pbkNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQWRtaW5Db250cm9sbGVyJ1xuaW1wb3J0IGVycm9yQ29udHJvbGxlciBmcm9tICdAL2FwaS9FcnJvckNvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCcvYWRtaW4nKVxuXG4vLyDmoIfnrb7pobXpnaJcbi8vIOiOt+WPluagh+etvuWIl+ihqFxucm91dGVyLmdldCgnL2dldFRhZ3MnLCBjb250ZW50Q29udHJvbGxlci5nZXRUYWdzKVxuXG4vLyDmt7vliqDmoIfnrb5cbnJvdXRlci5wb3N0KCcvYWRkVGFnJywgY29udGVudENvbnRyb2xsZXIuYWRkVGFnKVxuXG4vLyDliKDpmaTmoIfnrb5cbnJvdXRlci5nZXQoJy9yZW1vdmVUYWcnLCBjb250ZW50Q29udHJvbGxlci5yZW1vdmVUYWcpXG5cbi8vIOe8lui+keagh+etvlxucm91dGVyLnBvc3QoJy9lZGl0VGFnJywgY29udGVudENvbnRyb2xsZXIudXBkYXRlVGFnKVxuXG4vLyDnlKjmiLfnrqHnkIZcbi8vIOafpeivouaJgOacieeUqOaIt1xucm91dGVyLmdldCgnL3VzZXJzJywgdXNlckNvbnRyb2xsZXIuZ2V0VXNlcnMpXG5cbi8vIOWIoOmZpFxucm91dGVyLnBvc3QoJy9kZWxldGVVc2VyJywgdXNlckNvbnRyb2xsZXIuZGVsZXRlVXNlckJ5SWQpXG5cbi8vIOabtOaWsOeJueWumueUqOaIt1xucm91dGVyLnBvc3QoJy91cGRhdGVVc2VyJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlckJ5SWQpXG5cbnJvdXRlci5wb3N0KCcvdXBkYXRlVXNlclNldHRpbmdzJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlckJhdGNoKVxuXG4vLyDmt7vliqDnlKjmiLdcbnJvdXRlci5wb3N0KCcvYWRkVXNlcicsIHVzZXJDb250cm9sbGVyLmFkZFVzZXIpXG5cbi8vIOagoemqjOeUqOaIt+WQjeaYr+WQpuWGsueqgVxucm91dGVyLmdldCgnL2NoZWNrbmFtZScsIHVzZXJDb250cm9sbGVyLmNoZWNrVXNlcm5hbWUpXG5cbi8vIOa3u+WKoOiPnOWNlVxucm91dGVyLnBvc3QoJy9hZGRNZW51JywgYWRtaW5Db250cm9sbGVyLmFkZE1lbnUpXG5cbi8vIOiOt+WPluiPnOWNlVxucm91dGVyLmdldCgnL2dldE1lbnUnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0TWVudSlcblxuLy8g5Yig6Zmk6I+c5Y2VXG5yb3V0ZXIucG9zdCgnL2RlbGV0ZU1lbnUnLCBhZG1pbkNvbnRyb2xsZXIuZGVsZXRlTWVudSlcblxuLy8g5pu05paw6I+c5Y2VXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZU1lbnUnLCBhZG1pbkNvbnRyb2xsZXIudXBkYXRlTWVudSlcblxuLy8g5re75Yqg6KeS6ImyXG5yb3V0ZXIucG9zdCgnL2FkZFJvbGUnLCBhZG1pbkNvbnRyb2xsZXIuYWRkUm9sZSlcblxuLy8g6I635Y+W6KeS6ImyXG5yb3V0ZXIuZ2V0KCcvZ2V0Um9sZXMnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0Um9sZXMpXG5cbi8vIOWIoOmZpOinkuiJslxucm91dGVyLnBvc3QoJy9kZWxldGVSb2xlJywgYWRtaW5Db250cm9sbGVyLmRlbGV0ZVJvbGUpXG5cbi8vIOabtOaWsOinkuiJslxucm91dGVyLnBvc3QoJy91cGRhdGVSb2xlJywgYWRtaW5Db250cm9sbGVyLnVwZGF0ZVJvbGUpXG5cbi8vIOiOt+WPluivhOiuulxucm91dGVyLmdldCgnL2dldENvbW1lbnRzJywgYWRtaW5Db250cm9sbGVyLmdldENvbW1lbnRzQWxsKVxuXG4vLyDliKDpmaTor4TorrpcbnJvdXRlci5wb3N0KCcvZGVsZXRlQ29tbWVudHMnLCBhZG1pbkNvbnRyb2xsZXIuZGVsZXRlQ29tbWVudHNCYXRjaClcblxuLy8g5om56YeP5pu05paw6K+E6K66XG5yb3V0ZXIucG9zdCgnL3VwZGF0ZUNvbW1lbnRzQmF0Y2gnLCBhZG1pbkNvbnRyb2xsZXIudXBkYXRlQ29tbWVudHNCYXRjaClcblxuLy8g6I635Y+W6KeS6Imy5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvZ2V0Um9sZXNOYW1lcycsIGFkbWluQ29udHJvbGxlci5nZXRSb2xlTmFtZXMpXG5cbi8vIOiOt+WPlueUqOaItyAtPiDop5LoibIgLT4g5Yqo5oCB6I+c5Y2V5L+h5oGvXG5yb3V0ZXIuZ2V0KCcvZ2V0Um91dGVzJywgYWRtaW5Db250cm9sbGVyLmdldFJvdXRlcylcblxuLy8g6I635Y+W57uf6K6h5pWw5o2uXG5yb3V0ZXIuZ2V0KCcvZ2V0c3RhdCcsIGFkbWluQ29udHJvbGxlci5nZXRTdGF0cylcblxuLy8g6I635Y+W6ZSZ6K+v5pel5b+XXG5yb3V0ZXIuZ2V0KCcvZ2V0RXJyb3InLCBlcnJvckNvbnRyb2xsZXIuZ2V0RXJyb3JMaXN0KVxuXG4vLyDliKDpmaTplJnor6/ml6Xlv5dcbnJvdXRlci5wb3N0KCcvZGVsZXRlRXJyb3InLCBlcnJvckNvbnRyb2xsZXIuZGVsZXRlRXJyb3IpXG5cbi8vIHJvdXRlci5nZXQoJy9nZXRPcGVyYXRpb25zJywgYWRtaW5Db250cm9sbGVyLmdldE9wZXJhdGlvbnMpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/adminRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/commentsRouter.js":
/*!**********************************************!*\
  !*** ./src/routes/modules/commentsRouter.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/comments'); // 添加评论\n\nrouter.post('/reply', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addComment); // 更新评论\n\nrouter.post('/update', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateComment); // 设置最佳答案\n\nrouter.get('/accept', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setBest); // 评论点赞\n\nrouter.get('/hands', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setHands);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanM/OGNkMiJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiY29tbWVudHNDb250cm9sbGVyIiwiYWRkQ29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJnZXQiLCJzZXRCZXN0Iiwic2V0SGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFdBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQywrREFBa0IsQ0FBQ0MsVUFBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQywrREFBa0IsQ0FBQ0UsYUFBMUMsRSxDQUVBOztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCSCwrREFBa0IsQ0FBQ0ksT0FBekMsRSxDQUVBOztBQUNBUixNQUFNLENBQUNPLEdBQVAsQ0FBVyxRQUFYLEVBQXFCSCwrREFBa0IsQ0FBQ0ssUUFBeEM7QUFFZVQscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXG5pbXBvcnQgY29tbWVudHNDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbW1lbnRzQ29udHJvbGxlcidcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbnJvdXRlci5wcmVmaXgoJy9jb21tZW50cycpXG5cbi8vIOa3u+WKoOivhOiuulxucm91dGVyLnBvc3QoJy9yZXBseScsIGNvbW1lbnRzQ29udHJvbGxlci5hZGRDb21tZW50KVxuXG4vLyDmm7TmlrDor4TorrpcbnJvdXRlci5wb3N0KCcvdXBkYXRlJywgY29tbWVudHNDb250cm9sbGVyLnVwZGF0ZUNvbW1lbnQpXG5cbi8vIOiuvue9ruacgOS9s+etlOahiFxucm91dGVyLmdldCgnL2FjY2VwdCcsIGNvbW1lbnRzQ29udHJvbGxlci5zZXRCZXN0KVxuXG4vLyDor4TorrrngrnotZ5cbnJvdXRlci5nZXQoJy9oYW5kcycsIGNvbW1lbnRzQ29udHJvbGxlci5zZXRIYW5kcylcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/commentsRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); // 上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); // 发表新贴\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost); // 更新帖子\n\nrouter.post('/update', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePost);\nrouter.post('/updateId', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePostByTid);\nrouter.post('/updatePostSettings', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePostBatch); // 删除帖子\n\nrouter.post('/delete', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deletePost);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiLCJ1cGRhdGVQb3N0IiwidXBkYXRlUG9zdEJ5VGlkIiwidXBkYXRlUG9zdEJhdGNoIiwiZGVsZXRlUG9zdCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsVUFBZCxFLENBRUE7O0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDQyxTQUF6QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE1BQVosRUFBb0JDLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDRyxVQUF6QztBQUVBUCxNQUFNLENBQUNHLElBQVAsQ0FBWSxXQUFaLEVBQXlCQyw4REFBaUIsQ0FBQ0ksZUFBM0M7QUFFQVIsTUFBTSxDQUFDRyxJQUFQLENBQVkscUJBQVosRUFBbUNDLDhEQUFpQixDQUFDSyxlQUFyRCxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDTSxVQUF6QztBQUVlVixxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb250ZW50Um91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL2NvbnRlbnQnKVxuXG4vLyDkuIrkvKDlm77niYdcbnJvdXRlci5wb3N0KCcvdXBsb2FkJywgY29udGVudENvbnRyb2xsZXIudXBsb2FkSW1nKVxuXG4vLyDlj5HooajmlrDotLRcbnJvdXRlci5wb3N0KCcvYWRkJywgY29udGVudENvbnRyb2xsZXIuYWRkUG9zdClcblxuLy8g5pu05paw5biW5a2QXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZScsIGNvbnRlbnRDb250cm9sbGVyLnVwZGF0ZVBvc3QpXG5cbnJvdXRlci5wb3N0KCcvdXBkYXRlSWQnLCBjb250ZW50Q29udHJvbGxlci51cGRhdGVQb3N0QnlUaWQpXG5cbnJvdXRlci5wb3N0KCcvdXBkYXRlUG9zdFNldHRpbmdzJywgY29udGVudENvbnRyb2xsZXIudXBkYXRlUG9zdEJhdGNoKVxuXG4vLyDliKDpmaTluJblrZBcbnJvdXRlci5wb3N0KCcvZGVsZXRlJywgY29udGVudENvbnRyb2xsZXIuZGVsZXRlUG9zdClcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/loginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/loginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/LoginController */ \"./src/api/LoginController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login'); // 忘记密码\n\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget); // 登录接口\n\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login); // 注册用户\n\nrouter.post('/reg', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reg); // 密码重置\n\nrouter.post('/reset', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reset);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanM/MmRkYSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwibG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWciLCJyZXNldCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsUUFBZCxFLENBRUE7O0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDREQUFlLENBQUNDLE1BQXZDLEUsQ0FFQTs7QUFDQUwsTUFBTSxDQUFDRyxJQUFQLENBQVksUUFBWixFQUFzQkMsNERBQWUsQ0FBQ0UsS0FBdEMsRSxDQUVBOztBQUNBTixNQUFNLENBQUNHLElBQVAsQ0FBWSxNQUFaLEVBQW9CQyw0REFBZSxDQUFDRyxHQUFwQyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFFBQVosRUFBc0JDLDREQUFlLENBQUNJLEtBQXRDO0FBRWVSLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL2xvZ2luUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IGxvZ2luQ29udHJvbGxlciBmcm9tICdAL2FwaS9Mb2dpbkNvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCcvbG9naW4nKVxuXG4vLyDlv5jorrDlr4bnoIFcbnJvdXRlci5wb3N0KCcvZm9yZ2V0JywgbG9naW5Db250cm9sbGVyLmZvcmdldClcblxuLy8g55m75b2V5o6l5Y+jXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgbG9naW5Db250cm9sbGVyLmxvZ2luKVxuXG4vLyDms6jlhoznlKjmiLdcbnJvdXRlci5wb3N0KCcvcmVnJywgbG9naW5Db250cm9sbGVyLnJlZylcblxuLy8g5a+G56CB6YeN572uXG5yb3V0ZXIucG9zdCgnL3Jlc2V0JywgbG9naW5Db250cm9sbGVyLnJlc2V0KVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules/loginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/publicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/publicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public'); // 获取图片验证码\n\nrouter.get('/getCaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // 获取文章列表\n\nrouter.get('/list', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostList); // 温馨提醒\n\nrouter.get('/tips', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTips); // 友情链接\n\nrouter.get('/links', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLinks); // 回复周榜\n\nrouter.get('/topWeek', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTopWeek); // 确认修改邮件\n\nrouter.get('/resetEmail', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateUsername); // 获取文章详情\n\nrouter.get('/content/detail', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostDetail); // 获取评论列表\n\nrouter.get('/comments', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getComments); // 获取用户基本信息\n\nrouter.get('/info', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getBasicInfo); // 获取用户最近的发贴记录\n\nrouter.get('/latestPost', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostPublic); // 获取用户最近的评论记录\n\nrouter.get('/latestComment', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentPublic); // 获取用热门帖子\n\nrouter.get('/hotPost', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getHotPost); // 获取用热门评论\n\nrouter.get('/hotComments', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getHotComments); // 获取用签到排行\n\nrouter.get('/hotSignRecord', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getHotSignRecord);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzP2NmYzUiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwicHVibGljQ29udHJvbGxlciIsImdldENhcHRjaGEiLCJjb250ZW50Q29udHJvbGxlciIsImdldFBvc3RMaXN0IiwiZ2V0VGlwcyIsImdldExpbmtzIiwiZ2V0VG9wV2VlayIsInVzZXJDb250cm9sbGVyIiwidXBkYXRlVXNlcm5hbWUiLCJnZXRQb3N0RGV0YWlsIiwiY29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJnZXRCYXNpY0luZm8iLCJnZXRQb3N0UHVibGljIiwiZ2V0Q29tbWVudFB1YmxpYyIsImdldEhvdFBvc3QiLCJnZXRIb3RDb21tZW50cyIsImdldEhvdFNpZ25SZWNvcmQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFNBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyw2REFBZ0IsQ0FBQ0MsVUFBM0MsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CRyw4REFBaUIsQ0FBQ0MsV0FBdEMsRSxDQUVBOztBQUNBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CRyw4REFBaUIsQ0FBQ0UsT0FBdEMsRSxDQUVBOztBQUNBUixNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQXFCRyw4REFBaUIsQ0FBQ0csUUFBdkMsRSxDQUVBOztBQUNBVCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxVQUFYLEVBQXVCRyw4REFBaUIsQ0FBQ0ksVUFBekMsRSxDQUVBOztBQUNBVixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCUSwyREFBYyxDQUFDQyxjQUF6QyxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGlCQUFYLEVBQThCRyw4REFBaUIsQ0FBQ08sYUFBaEQsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCVywrREFBa0IsQ0FBQ0MsV0FBM0MsRSxDQUVBOztBQUNBZixNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUSwyREFBYyxDQUFDSyxZQUFuQyxFLENBRUE7O0FBQ0FoQixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCRyw4REFBaUIsQ0FBQ1csYUFBNUMsRSxDQUVBOztBQUNBakIsTUFBTSxDQUFDRyxHQUFQLENBQVcsZ0JBQVgsRUFBNkJXLCtEQUFrQixDQUFDSSxnQkFBaEQsRSxDQUVBOztBQUNBbEIsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsNkRBQWdCLENBQUNlLFVBQXhDLEUsQ0FFQTs7QUFDQW5CLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJDLDZEQUFnQixDQUFDZ0IsY0FBNUMsRSxDQUVBOztBQUNBcEIsTUFBTSxDQUFDRyxHQUFQLENBQVcsZ0JBQVgsRUFBNkJDLDZEQUFnQixDQUFDaUIsZ0JBQTlDO0FBRWVyQixxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9wdWJsaWNSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXG5pbXBvcnQgcHVibGljQ29udHJvbGxlciBmcm9tICdAL2FwaS9QdWJsaWNDb250cm9sbGVyJ1xuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJ0AvYXBpL1VzZXJDb250cm9sbGVyJ1xuaW1wb3J0IGNvbW1lbnRzQ29udHJvbGxlciBmcm9tICdAL2FwaS9Db21tZW50c0NvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCcvcHVibGljJylcblxuLy8g6I635Y+W5Zu+54mH6aqM6K+B56CBXG5yb3V0ZXIuZ2V0KCcvZ2V0Q2FwdGNoYScsIHB1YmxpY0NvbnRyb2xsZXIuZ2V0Q2FwdGNoYSlcblxuLy8g6I635Y+W5paH56ug5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvbGlzdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RMaXN0KVxuXG4vLyDmuKnppqjmj5DphpJcbnJvdXRlci5nZXQoJy90aXBzJywgY29udGVudENvbnRyb2xsZXIuZ2V0VGlwcylcblxuLy8g5Y+L5oOF6ZO+5o6lXG5yb3V0ZXIuZ2V0KCcvbGlua3MnLCBjb250ZW50Q29udHJvbGxlci5nZXRMaW5rcylcblxuLy8g5Zue5aSN5ZGo5qacXG5yb3V0ZXIuZ2V0KCcvdG9wV2VlaycsIGNvbnRlbnRDb250cm9sbGVyLmdldFRvcFdlZWspXG5cbi8vIOehruiupOS/ruaUuemCruS7tlxucm91dGVyLmdldCgnL3Jlc2V0RW1haWwnLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VybmFtZSlcblxuLy8g6I635Y+W5paH56ug6K+m5oOFXG5yb3V0ZXIuZ2V0KCcvY29udGVudC9kZXRhaWwnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0RGV0YWlsKVxuXG4vLyDojrflj5bor4TorrrliJfooahcbnJvdXRlci5nZXQoJy9jb21tZW50cycsIGNvbW1lbnRzQ29udHJvbGxlci5nZXRDb21tZW50cylcblxuLy8g6I635Y+W55So5oi35Z+65pys5L+h5oGvXG5yb3V0ZXIuZ2V0KCcvaW5mbycsIHVzZXJDb250cm9sbGVyLmdldEJhc2ljSW5mbylcblxuLy8g6I635Y+W55So5oi35pyA6L+R55qE5Y+R6LS06K6w5b2VXG5yb3V0ZXIuZ2V0KCcvbGF0ZXN0UG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RQdWJsaWMpXG5cbi8vIOiOt+WPlueUqOaIt+acgOi/keeahOivhOiuuuiusOW9lVxucm91dGVyLmdldCgnL2xhdGVzdENvbW1lbnQnLCBjb21tZW50c0NvbnRyb2xsZXIuZ2V0Q29tbWVudFB1YmxpYylcblxuLy8g6I635Y+W55So54Ot6Zeo5biW5a2QXG5yb3V0ZXIuZ2V0KCcvaG90UG9zdCcsIHB1YmxpY0NvbnRyb2xsZXIuZ2V0SG90UG9zdClcblxuLy8g6I635Y+W55So54Ot6Zeo6K+E6K66XG5yb3V0ZXIuZ2V0KCcvaG90Q29tbWVudHMnLCBwdWJsaWNDb250cm9sbGVyLmdldEhvdENvbW1lbnRzKVxuXG4vLyDojrflj5bnlKjnrb7liLDmjpLooYxcbnJvdXRlci5nZXQoJy9ob3RTaWduUmVjb3JkJywgcHVibGljQ29udHJvbGxlci5nZXRIb3RTaWduUmVjb3JkKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules/publicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_ErrorController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/ErrorController */ \"./src/api/ErrorController.js\");\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户的基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 修改密码\n\nrouter.post('/changePassword', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changePasswd); // 取消 设置收藏\n\nrouter.get('/setCollect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setCollect); // 获取收藏列表\n\nrouter.get('/collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCollectByUid); // 获取用户发贴记录\n\nrouter.get('/post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostByUid); // 删除发贴记录\n\nrouter.get('/deletePost', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deletePostByUid); // 获取历史消息\n\nrouter.get('/getmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMsg); // 获取点赞记录\n\nrouter.get('/getHands', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getHands); // 设置消息状态\n\nrouter.get('/setmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setMsg); // 保存错误日志\n\nrouter.post('/addError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addError);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJjaGFuZ2VQYXNzd2QiLCJzZXRDb2xsZWN0IiwiZ2V0Q29sbGVjdEJ5VWlkIiwiY29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJnZXRNc2ciLCJnZXRIYW5kcyIsInNldE1zZyIsImVycm9yQ29udHJvbGxlciIsImFkZEVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLE9BQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLEVBQW1CQywyREFBYyxDQUFDQyxRQUFsQyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFFBQVosRUFBc0JGLDJEQUFjLENBQUNHLGNBQXJDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDTSxJQUFQLENBQVksaUJBQVosRUFBK0JGLDJEQUFjLENBQUNJLFlBQTlDLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDRyxHQUFQLENBQVcsYUFBWCxFQUEwQkMsMkRBQWMsQ0FBQ0ssVUFBekMsRSxDQUVBOztBQUNBVCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxVQUFYLEVBQXVCQywyREFBYyxDQUFDTSxlQUF0QyxFLENBRUE7O0FBQ0FWLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JRLDhEQUFpQixDQUFDQyxZQUF0QyxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGFBQVgsRUFBMEJRLDhEQUFpQixDQUFDRSxlQUE1QyxFLENBRUE7O0FBQ0FiLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFNBQVgsRUFBc0JDLDJEQUFjLENBQUNVLE1BQXJDLEUsQ0FFQTs7QUFDQWQsTUFBTSxDQUFDRyxHQUFQLENBQVcsV0FBWCxFQUF3QkMsMkRBQWMsQ0FBQ1csUUFBdkMsRSxDQUVBOztBQUNBZixNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCQywyREFBYyxDQUFDWSxNQUFyQyxFLENBRUE7O0FBQ0FoQixNQUFNLENBQUNNLElBQVAsQ0FBWSxXQUFaLEVBQXlCVyw0REFBZSxDQUFDQyxRQUF6QztBQUVlbEIscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvVXNlckNvbnRyb2xsZXInXG5pbXBvcnQgY29udGVudENvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQ29udGVudENvbnRyb2xsZXInXG5pbXBvcnQgZXJyb3JDb250cm9sbGVyIGZyb20gJ0AvYXBpL0Vycm9yQ29udHJvbGxlcidcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbnJvdXRlci5wcmVmaXgoJy91c2VyJylcblxuLy8g55So5oi3562+5YiwXG5yb3V0ZXIuZ2V0KCcvZmF2JywgdXNlckNvbnRyb2xsZXIudXNlclNpZ24pXG5cbi8vIOabtOaWsOeUqOaIt+eahOWfuuacrOS/oeaBr1xucm91dGVyLnBvc3QoJy9iYXNpYycsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJJbmZvKVxuXG4vLyDkv67mlLnlr4bnoIFcbnJvdXRlci5wb3N0KCcvY2hhbmdlUGFzc3dvcmQnLCB1c2VyQ29udHJvbGxlci5jaGFuZ2VQYXNzd2QpXG5cbi8vIOWPlua2iCDorr7nva7mlLbol49cbnJvdXRlci5nZXQoJy9zZXRDb2xsZWN0JywgdXNlckNvbnRyb2xsZXIuc2V0Q29sbGVjdClcblxuLy8g6I635Y+W5pS26JeP5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvY29sbGVjdCcsIHVzZXJDb250cm9sbGVyLmdldENvbGxlY3RCeVVpZClcblxuLy8g6I635Y+W55So5oi35Y+R6LS06K6w5b2VXG5yb3V0ZXIuZ2V0KCcvcG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RCeVVpZClcblxuLy8g5Yig6Zmk5Y+R6LS06K6w5b2VXG5yb3V0ZXIuZ2V0KCcvZGVsZXRlUG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmRlbGV0ZVBvc3RCeVVpZClcblxuLy8g6I635Y+W5Y6G5Y+y5raI5oGvXG5yb3V0ZXIuZ2V0KCcvZ2V0bXNnJywgdXNlckNvbnRyb2xsZXIuZ2V0TXNnKVxuXG4vLyDojrflj5bngrnotZ7orrDlvZVcbnJvdXRlci5nZXQoJy9nZXRIYW5kcycsIHVzZXJDb250cm9sbGVyLmdldEhhbmRzKVxuXG4vLyDorr7nva7mtojmga/nirbmgIFcbnJvdXRlci5nZXQoJy9zZXRtc2cnLCB1c2VyQ29udHJvbGxlci5zZXRNc2cpXG5cbi8vIOS/neWtmOmUmeivr+aXpeW/l1xucm91dGVyLnBvc3QoJy9hZGRFcnJvcicsIGVycm9yQ29udHJvbGxlci5hZGRFcnJvcilcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // 加载目录中的Router中间件\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); // reduce方法去拼接 koa-combine-router所需的数据结构 Object[]\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()(modules));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBOztBQUNBLE1BQU1BLFdBQVcsR0FBR0MsaUVBQXBCLEMsQ0FFQTs7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRixXQUFXLENBQUNHLElBQVosR0FBbUJDLE1BQW5CLENBQTBCLENBQUNDLEtBQUQsRUFBUUMsSUFBUixLQUFpQjtFQUN6RCxNQUFNQyxLQUFLLEdBQUdQLFdBQVcsQ0FBQ00sSUFBRCxDQUF6QjtFQUNBRCxLQUFLLENBQUNHLElBQU4sQ0FBV0QsS0FBSyxDQUFDRSxPQUFqQjtFQUNBLE9BQU9KLEtBQVA7QUFDRCxDQUplLEVBSWIsRUFKYSxDQUFoQjtBQU1lSyx5SEFBYSxDQUFDUixPQUFELENBQTVCIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9yb3V0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29tYmluZVJvdXRlcyBmcm9tICdrb2EtY29tYmluZS1yb3V0ZXJzJ1xuXG4vLyDliqDovb3nm67lvZXkuK3nmoRSb3V0ZXLkuK3pl7Tku7ZcbmNvbnN0IG1vZHVsZUZpbGVzID0gcmVxdWlyZS5jb250ZXh0KCcuL21vZHVsZXMnLCB0cnVlLCAvXFwuanMkLylcblxuLy8gcmVkdWNl5pa55rOV5Y675ou85o6lIGtvYS1jb21iaW5lLXJvdXRlcuaJgOmcgOeahOaVsOaNrue7k+aehCBPYmplY3RbXVxuY29uc3QgbW9kdWxlcyA9IG1vZHVsZUZpbGVzLmtleXMoKS5yZWR1Y2UoKGl0ZW1zLCBwYXRoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gbW9kdWxlRmlsZXMocGF0aClcbiAgaXRlbXMucHVzaCh2YWx1ZS5kZWZhdWx0KVxuICByZXR1cm4gaXRlbXNcbn0sIFtdKVxuXG5leHBvcnQgZGVmYXVsdCBjb21iaW5lUm91dGVzKG1vZHVsZXMpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj9jZjljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImJjcnlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcrypt\n");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bluebird\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmx1ZWJpcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bluebird\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "dayjs/plugin/weekday":
/*!***************************************!*\
  !*** external "dayjs/plugin/weekday" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs/plugin/weekday\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqcy9wbHVnaW4vd2Vla2RheVwiPzUwOTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMvcGx1Z2luL3dlZWtkYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqcy9wbHVnaW4vd2Vla2RheVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs/plugin/weekday\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-log4":
/*!***************************!*\
  !*** external "koa-log4" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-log4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtbG9nNFwiPzIwNGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWxvZzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtbG9nNFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-log4\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "make-dir":
/*!***************************!*\
  !*** external "make-dir" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"make-dir\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtYWtlLWRpclwiPzk3YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibWFrZS1kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYWtlLWRpclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///make-dir\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkXCI/MzcxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ1dWlkLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid\n");

/***/ }),

/***/ "ws":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"ws\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3c1wiPzE1YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoid3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///ws\n");

/***/ })

/******/ });